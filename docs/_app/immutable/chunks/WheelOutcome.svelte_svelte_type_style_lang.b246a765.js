import{c as N,g as j}from"./_commonjsHelpers.de833af9.js";var B=Object.defineProperty,P=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,V=Math.pow,k=(t,e,r)=>e in t?B(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T=(t,e)=>{for(var r in e||(e={}))H.call(e,r)&&k(t,r,e[r]);if(P)for(var r of P(e))Y.call(e,r)&&k(t,r,e[r]);return t};function U(t=0,e=0,r=14){return parseFloat((Math.random()*(e-t)+t).toFixed(r))}function I(t=0){return t*Math.PI/180}function $(t,e,r){return e<r?e<=t&&t<r:e<=t||t<r}function X(t,e,r,o){o.save(),o.font=`1px ${e}`;let c=o.measureText(t).width;return o.restore(),r/c}function G(t={x:0,y:0},e,r,o){return V(t.x-e,2)+V(t.y-r,2)<=V(o,2)}function F(t={x:0,y:0},e={},r=1){let o=e.getBoundingClientRect();return{x:(t.x-o.left)*r,y:(t.y-o.top)*r}}function Z(t,e,r,o){let c=t-r,y=e-o,p=Math.atan2(-y,-c);return p*=180/Math.PI,p<0&&(p+=360),p}function J(t=0,e=0){let r=t+e,o;return r>0?o=r%360:o=360+r%360,o===360&&(o=0),o}function K(t=0,e=0){let r=180-e;return 180-J(t,r)}function Q(t=0,e=0,r=1){let o=(t%360+e)%360;return o=q(o),o=(r===1?360-o:360+o)%360,o*=r,t+o}function W(t){return typeof t=="object"&&!Array.isArray(t)&&t!==null}function S(t){return typeof t=="number"&&!Number.isNaN(t)}function C({val:t,isValid:e,errorMessage:r,defaultValue:o,action:c=null}){if(e)return c?c():t;if(t===void 0)return o;throw new Error(r)}function z(t){return t&&t.complete&&t.naturalWidth!==0&&t.naturalHeight!==0}function q(t=0){return Number(t.toFixed(9))}function tt(t){return Math.sin(t*Math.PI/2)}var et=Object.freeze({left:"left",right:"right",center:"center"}),b=Object.freeze({wheel:{borderColor:"#000",borderWidth:1,debug:!1,image:null,isInteractive:!0,itemBackgroundColors:["#fff"],itemLabelAlign:et.right,itemLabelBaselineOffset:0,itemLabelColors:["#000"],itemLabelFont:"sans-serif",itemLabelFontSizeMax:500,itemLabelRadius:.85,itemLabelRadiusMax:.2,itemLabelRotation:0,items:[],lineColor:"#000",lineWidth:1,pixelRatio:0,radius:.95,rotation:0,rotationResistance:-35,rotationSpeedMax:300,offset:{w:0,h:0},onCurrentIndexChange:null,onRest:null,onSpin:null,overlayImage:null,pointerAngle:0},item:{backgroundColor:null,image:null,imageRadius:.5,imageRotation:0,imageScale:1,label:"",labelColor:null,labelFont:null,weight:1}}),O=Object.freeze({pointerLineColor:"#ff00ff",labelOutlineColor:"#ff00ff",labelRadiusColor:"#00ff00",dragEventHue:200});function it(t={}){at(t),t._handler_onResize=t.resize.bind(t),window.addEventListener("resize",t._handler_onResize)}function rt(t={}){let e=t.canvas;"PointerEvent"in window?(e.removeEventListener("pointerdown",t._handler_onPointerDown),e.removeEventListener("pointermove",t._handler_onPointerMoveRefreshCursor)):(e.removeEventListener("touchstart",t._handler_onTouchStart),e.removeEventListener("mousedown",t._handler_onMouseDown),e.removeEventListener("mousemove",t._handler_onMouseMoveRefreshCursor)),window.removeEventListener("resize",t._handler_onResize)}function at(t={}){let e=t.canvas;t._handler_onPointerMoveRefreshCursor=(r={})=>{let o={x:r.clientX,y:r.clientY};t.isCursorOverWheel=t.wheelHitTest(o),t.refreshCursor()},t._handler_onMouseMoveRefreshCursor=(r={})=>{let o={x:r.clientX,y:r.clientY};t.isCursorOverWheel=t.wheelHitTest(o),t.refreshCursor()},t._handler_onPointerDown=(r={})=>{let o={x:r.clientX,y:r.clientY};if(!t.isInteractive||!t.wheelHitTest(o))return;r.preventDefault(),t.dragStart(o),e.setPointerCapture(r.pointerId),e.addEventListener("pointermove",c),e.addEventListener("pointerup",y),e.addEventListener("pointercancel",y),e.addEventListener("pointerout",y);function c(p={}){p.preventDefault(),t.dragMove({x:p.clientX,y:p.clientY})}function y(p={}){p.preventDefault(),e.releasePointerCapture(p.pointerId),e.removeEventListener("pointermove",c),e.removeEventListener("pointerup",y),e.removeEventListener("pointercancel",y),e.removeEventListener("pointerout",y),t.dragEnd()}},t._handler_onMouseDown=(r={})=>{let o={x:r.clientX,y:r.clientY};if(!t.isInteractive||!t.wheelHitTest(o))return;t.dragStart(o),document.addEventListener("mousemove",c),document.addEventListener("mouseup",y);function c(p={}){p.preventDefault(),t.dragMove({x:p.clientX,y:p.clientY})}function y(p={}){p.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",y),t.dragEnd()}},t._handler_onTouchStart=(r={})=>{let o={x:r.targetTouches[0].clientX,y:r.targetTouches[0].clientY};if(!t.isInteractive||!t.wheelHitTest(o))return;r.preventDefault(),t.dragStart(o),e.addEventListener("touchmove",c),e.addEventListener("touchend",y),e.addEventListener("touchcancel",y);function c(p={}){p.preventDefault(),t.dragMove({x:p.targetTouches[0].clientX,y:p.targetTouches[0].clientY})}function y(p={}){p.preventDefault(),e.removeEventListener("touchmove",c),e.removeEventListener("touchend",y),e.removeEventListener("touchcancel",y),t.dragEnd()}},"PointerEvent"in window?(e.addEventListener("pointerdown",t._handler_onPointerDown),e.addEventListener("pointermove",t._handler_onPointerMoveRefreshCursor)):(e.addEventListener("touchstart",t._handler_onTouchStart),e.addEventListener("mousedown",t._handler_onMouseDown),e.addEventListener("mousemove",t._handler_onMouseMoveRefreshCursor))}var nt=class{constructor(t,e={}){if(!W(t))throw new Error("wheel must be an instance of Wheel");if(!W(e)&&e!==null)throw new Error("props must be an Object or null");this._wheel=t;for(let r of Object.keys(b.item))this["_"+r]=b.item[r];e?this.init(e):this.init(b.item)}init(t={}){this.backgroundColor=t.backgroundColor,this.image=t.image,this.imageRadius=t.imageRadius,this.imageRotation=t.imageRotation,this.imageScale=t.imageScale,this.label=t.label,this.labelColor=t.labelColor,this.value=t.value,this.weight=t.weight}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){typeof t=="string"?this._backgroundColor=t:this._backgroundColor=b.item.backgroundColor,this._wheel.refresh()}get image(){return this._image}set image(t){let e;typeof t=="string"?(e=new Image,e.src=t,e.onload=r=>this._wheel.refresh()):e=b.item.image,this._image=e,this._wheel.refresh()}get imageRadius(){return this._imageRadius}set imageRadius(t){typeof t=="number"?this._imageRadius=t:this._imageRadius=b.item.imageRadius,this._wheel.refresh()}get imageRotation(){return this._imageRotation}set imageRotation(t){typeof t=="number"?this._imageRotation=t:this._imageRotation=b.item.imageRotation,this._wheel.refresh()}get imageScale(){return this._imageScale}set imageScale(t){typeof t=="number"?this._imageScale=t:this._imageScale=b.item.imageScale,this._wheel.refresh()}get label(){return this._label}set label(t){typeof t=="string"?this._label=t:this._label=b.item.label,this._wheel.refresh()}get labelColor(){return this._labelColor}set labelColor(t){typeof t=="string"?this._labelColor=t:this._labelColor=b.item.labelColor,this._wheel.refresh()}get value(){return this._value}set value(t){this._value=t}get weight(){return this._weight}set weight(t){typeof t=="number"?this._weight=t:this._weight=b.item.weight}getIndex(){let t=this._wheel.items.findIndex(e=>e===this);if(t===-1)throw new Error("Item not found in parent Wheel");return t}getCenterAngle(){let t=this._wheel.getItemAngles()[this.getIndex()];return t.start+(t.end-t.start)/2}getStartAngle(){return this._wheel.getItemAngles()[this.getIndex()].start}getEndAngle(){return this._wheel.getItemAngles()[this.getIndex()].end}getRandomAngle(){return U(this.getStartAngle(),this.getEndAngle())}},lt=class{constructor(t,e={}){if(this._frameRequestId=null,this._rotationSpeed=0,this._rotationDirection=1,!(t instanceof Element))throw new Error("container must be an instance of Element");if(!W(e)&&e!==null)throw new Error("props must be an Object or null");this._canvasContainer=t,this.canvas=document.createElement("canvas"),this._context=this.canvas.getContext("2d"),this.addCanvas(),it(this);for(let r of Object.keys(b.wheel))this["_"+r]=b.wheel[r];e?this.init(e):this.init(b.wheel)}init(t={}){this._isInitialising=!0,this.borderColor=t.borderColor,this.borderWidth=t.borderWidth,this.debug=t.debug,this.image=t.image,this.isInteractive=t.isInteractive,this.itemBackgroundColors=t.itemBackgroundColors,this.itemLabelAlign=t.itemLabelAlign,this.itemLabelBaselineOffset=t.itemLabelBaselineOffset,this.itemLabelColors=t.itemLabelColors,this.itemLabelFont=t.itemLabelFont,this.itemLabelFontSizeMax=t.itemLabelFontSizeMax,this.itemLabelRadius=t.itemLabelRadius,this.itemLabelRadiusMax=t.itemLabelRadiusMax,this.itemLabelRotation=t.itemLabelRotation,this.items=t.items,this.lineColor=t.lineColor,this.lineWidth=t.lineWidth,this.pixelRatio=t.pixelRatio,this.rotationSpeedMax=t.rotationSpeedMax,this.radius=t.radius,this.rotation=t.rotation,this.rotationResistance=t.rotationResistance,this.offset=t.offset,this.onCurrentIndexChange=t.onCurrentIndexChange,this.onRest=t.onRest,this.onSpin=t.onSpin,this.overlayImage=t.overlayImage,this.pointerAngle=t.pointerAngle}addCanvas(){this._canvasContainer.appendChild(this.canvas)}removeCanvas(){this._canvasContainer.removeChild(this.canvas)}remove(){window.cancelAnimationFrame(this._frameRequestId),rt(this),this.removeCanvas()}resize(){let[t,e]=[this._canvasContainer.clientWidth*this.getActualPixelRatio(),this._canvasContainer.clientHeight*this.getActualPixelRatio()],r=Math.min(t,e),o={w:r-r*this.offset.w,h:r-r*this.offset.h},c=Math.min(t/o.w,e/o.h);this._size=Math.max(o.w*c,o.h*c),this.canvas.style.width=this._canvasContainer.clientWidth+"px",this.canvas.style.height=this._canvasContainer.clientHeight+"px",this.canvas.width=t,this.canvas.height=e,this._center={x:t/2+t*this.offset.w,y:e/2+e*this.offset.h},this._actualRadius=this._size/2*this.radius,this.itemLabelFontSize=this.itemLabelFontSizeMax*(this._size/500),this.labelMaxWidth=this._actualRadius*(this.itemLabelRadius-this.itemLabelRadiusMax);for(let y of this._items)this.itemLabelFontSize=Math.min(this.itemLabelFontSize,X(y.label,this.itemLabelFont,this.labelMaxWidth,this._context));this.refresh()}draw(t=0){this._frameRequestId=null;let e=this._context;e.clearRect(0,0,this.canvas.width,this.canvas.height),this.animateRotation(t);let r=this.getItemAngles(this._rotation),o=this.getActualBorderWidth();e.textBaseline="middle",e.textAlign=this.itemLabelAlign,e.font=this.itemLabelFontSize+"px "+this.itemLabelFont,e.save();for(let[c,y]of r.entries()){let p=new Path2D;p.moveTo(this._center.x,this._center.y),p.arc(this._center.x,this._center.y,this._actualRadius-o/2,I(y.start+-90),I(y.end+-90)),this._items[c].path=p}this.drawItemBackgrounds(e,r),this.drawItemImages(e,r),this.drawItemLines(e,r),this.drawItemLabels(e,r),this.drawBorder(e),this.drawImage(e,this._image,!1),this.drawImage(e,this._overlayImage,!0),this.drawPointerLine(e),this.drawDragEvents(e),this._isInitialising=!1}drawItemBackgrounds(t,e=[]){var r;for(let[o,c]of e.entries()){let y=this._items[o];t.fillStyle=(r=y.backgroundColor)!=null?r:this.itemBackgroundColors[o%this.itemBackgroundColors.length],t.fill(y.path)}}drawItemImages(t,e=[]){for(let[r,o]of e.entries()){let c=this._items[r];if(!z(c.image))return;t.save(),t.clip(c.path);let y=o.start+(o.end-o.start)/2;t.translate(this._center.x+Math.cos(I(y+-90))*(this._actualRadius*c.imageRadius),this._center.y+Math.sin(I(y+-90))*(this._actualRadius*c.imageRadius)),t.rotate(I(y+c.imageRotation));let p=this._size/500*c.image.width*c.imageScale,v=this._size/500*c.image.height*c.imageScale,m=-p/2,R=-v/2;t.drawImage(c.image,m,R,p,v),t.restore()}}drawImage(t,e,r=!1){if(!z(e))return;t.translate(this._center.x,this._center.y),r||t.rotate(I(this._rotation));let o=r?this._size:this._size*this.radius,c=-(o/2);t.drawImage(e,c,c,o,o),t.resetTransform()}drawPointerLine(t){!this.debug||(t.translate(this._center.x,this._center.y),t.rotate(I(this._pointerAngle+-90)),t.beginPath(),t.moveTo(0,0),t.lineTo(this._actualRadius*2,0),t.strokeStyle=O.pointerLineColor,t.lineWidth=2,t.stroke(),t.resetTransform())}drawBorder(t){if(this.borderWidth<=0)return;let e=this.getActualBorderWidth(),r=this._borderColor||"transparent";t.beginPath(),t.strokeStyle=r,t.lineWidth=e,t.arc(this._center.x,this._center.y,this._actualRadius-e/2,0,2*Math.PI),t.stroke(),this.debug&&(t.beginPath(),t.strokeStyle=t.strokeStyle=O.labelRadiusColor,t.lineWidth=1,t.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadius,0,2*Math.PI),t.stroke(),t.beginPath(),t.strokeStyle=t.strokeStyle=O.labelRadiusColor,t.lineWidth=1,t.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadiusMax,0,2*Math.PI),t.stroke())}drawItemLines(t,e=[]){if(this.lineWidth<=0)return;let r=this.lineWidth/500*this._size,o=this.getActualBorderWidth();t.translate(this._center.x,this._center.y);for(let c of e)t.rotate(I(c.start+-90)),t.beginPath(),t.moveTo(0,0),t.lineTo(this._actualRadius-o,0),t.strokeStyle=this.lineColor,t.lineWidth=r,t.stroke(),t.rotate(-I(c.start+-90));t.resetTransform()}drawItemLabels(t,e=[]){let r=this.itemLabelFontSize*-this.itemLabelBaselineOffset;for(let[o,c]of e.entries()){let y=this._items[o],p=y.labelColor||this._itemLabelColors[o%this._itemLabelColors.length]||"transparent";if(y.label.trim()===""||p==="transparent")continue;t.save(),t.clip(y.path);let v=c.start+(c.end-c.start)/2;t.translate(this._center.x+Math.cos(I(v+-90))*(this._actualRadius*this.itemLabelRadius),this._center.y+Math.sin(I(v+-90))*(this._actualRadius*this.itemLabelRadius)),t.rotate(I(v+-90)),t.rotate(I(this.itemLabelRotation)),this.debug&&(t.beginPath(),t.moveTo(0,0),t.lineTo(-this.labelMaxWidth,0),t.strokeStyle=O.labelOutlineColor,t.lineWidth=1,t.stroke(),t.strokeRect(0,-this.itemLabelFontSize/2,-this.labelMaxWidth,this.itemLabelFontSize)),t.fillStyle=p,t.fillText(y.label,0,r),t.restore()}}drawDragEvents(t){var e;if(!this.debug||!((e=this.dragEvents)!=null&&e.length))return;let r=[...this.dragEvents].reverse();for(let[o,c]of r.entries()){let y=o/this.dragEvents.length*100;t.beginPath(),t.arc(c.x,c.y,5,0,2*Math.PI),t.fillStyle=`hsl(${O.dragEventHue},100%,${y}%)`,t.strokeStyle="#000",t.lineWidth=.5,t.fill(),t.stroke()}}animateRotation(t=0){if(this._spinToTimeEnd){if(t>=this._spinToTimeEnd){this.rotation=this._spinToEndRotation,this._spinToTimeEnd=void 0,this.raiseEvent_onRest();return}this.refresh();let e=this._spinToTimeEnd-this._spinToTimeStart,r=(t-this._spinToTimeStart)/e;r=r<0?0:r;let o=this._spinToEndRotation-this._spinToStartRotation;this.rotation=this._spinToStartRotation+o*this._spinToEasingFunction(r);return}if(this._rotationSpeed!==0){this.refresh(),this._lastFrameTime===void 0&&(this._lastFrameTime=t);let e=t-this._lastFrameTime;e>0&&(this.rotation+=e/1e3*this._rotationSpeed%360,this._rotationSpeed=this.getRotationSpeedPlusDrag(e),this._rotationSpeed===0&&this.raiseEvent_onRest(),this._lastFrameTime=t);return}this._lastFrameTime=void 0}getRotationSpeedPlusDrag(t=0){let e=this._rotationSpeed+this.rotationResistance*(t/1e3)*this._rotationDirection;return this._rotationDirection===1&&e<0||this._rotationDirection===-1&&e>=0?0:e}spin(t=0){if(!S(t))throw new Error("rotationSpeed must be a number");this.setSpeedSpeed(t,"spin")}spinTo(t=0,e=0,r=null){if(Number.isNaN(t))throw new Error("Error: newRotation parameter is NaN");this.stop(),this.animate(t,e,r),this.raiseEvent_onSpin({method:"spinto",targetRotation:t,duration:e})}spinToItem(t=0,e=0,r=!0,o=1,c=1,y=null){this.stop();let p=r?this.items[t].getCenterAngle():this.items[t].getRandomAngle(),v=Q(this.rotation,p-this._pointerAngle,c);v+=o*360*c,this.animate(v,e,y),this.raiseEvent_onSpin({method:"spintoitem",targetItemIndex:t,targetRotation:v,duration:e})}animate(t,e,r){this._spinToStartRotation=this.rotation,this._spinToEndRotation=t,this._spinToTimeStart=performance.now(),this._spinToTimeEnd=this._spinToTimeStart+e,this._spinToEasingFunction=r||tt,this.refresh()}stop(){this._rotationSpeed=0,this._spinToTimeEnd=void 0}getActualBorderWidth(){return this.borderWidth/500*this._size}getActualPixelRatio(){return this._pixelRatio!==0?this._pixelRatio:window.devicePixelRatio}wheelHitTest(t={x:0,y:0}){let e=F(t,this.canvas,this.getActualPixelRatio());return G(e,this._center.x,this._center.y,this._actualRadius)}refreshCursor(){if(this.isInteractive){if(this.isDragging){this.canvas.style.cursor="grabbing";return}if(this.isCursorOverWheel){this.canvas.style.cursor="grab";return}}this.canvas.style.cursor=""}getAngleFromCenter(t={x:0,y:0}){return(Z(this._center.x,this._center.y,t.x,t.y)+90)%360}getCurrentIndex(){return this._currentIndex}refreshCurrentIndex(t=[]){this._items.length===0&&(this._currentIndex=-1);for(let[e,r]of t.entries())if($(this._pointerAngle,r.start%360,r.end%360)){if(this._currentIndex===e)break;this._currentIndex=e,this._isInitialising||this.raiseEvent_onCurrentIndexChange();break}}getItemAngles(t=0){let e=0;for(let p of this.items)e+=p.weight;let r=360/e,o,c=t,y=[];for(let p of this._items)o=p.weight*r,y.push({start:c,end:c+o}),c+=o;return this._items.length>1&&(y[y.length-1].end=y[0].start+360),y}refresh(){this._frameRequestId===null&&(this._frameRequestId=window.requestAnimationFrame(this.draw.bind(this)))}limitSpeed(t=0,e=0){let r=Math.min(t,e);return Math.max(r,-e)}setSpeedSpeed(t=0,e=""){this.stop(),this._rotationSpeed=this.limitSpeed(t,this._rotationSpeedMax),this._rotationDirection=this._rotationSpeed>=0?1:-1,this._rotationSpeed!==0&&this.raiseEvent_onSpin({method:e,rotationSpeed:this._rotationSpeed,rotationResistance:this._rotationResistance}),this.refresh()}get borderColor(){return this._borderColor}set borderColor(t){this._borderColor=C({val:t,isValid:typeof t=="string",errorMessage:"Wheel.borderColor must be a string",defaultValue:b.wheel.borderColor}),this.refresh()}get borderWidth(){return this._borderWidth}set borderWidth(t){this._borderWidth=C({val:t,isValid:S(t),errorMessage:"Wheel.borderWidth must be a number",defaultValue:b.wheel.borderWidth}),this.refresh()}get debug(){return this._debug}set debug(t){this._debug=C({val:t,isValid:typeof t=="boolean",errorMessage:"Wheel.debug must be a boolean",defaultValue:b.wheel.debug}),this.refresh()}get image(){var t,e;return(e=(t=this._image)==null?void 0:t.src)!=null?e:null}set image(t){this._image=C({val:t,isValid:typeof t=="string"||t===null,errorMessage:"Wheel.image must be a url (string) or null",defaultValue:b.wheel.image,action:()=>{if(t===null)return null;let e=new Image;return e.src=t,e.onload=r=>this.refresh(),e}}),this.refresh()}get isInteractive(){return this._isInteractive}set isInteractive(t){this._isInteractive=C({val:t,isValid:typeof t=="boolean",errorMessage:"Wheel.isInteractive must be a boolean",defaultValue:b.wheel.isInteractive}),this.refreshCursor()}get itemBackgroundColors(){return this._itemBackgroundColors}set itemBackgroundColors(t){this._itemBackgroundColors=C({val:t,isValid:Array.isArray(t),errorMessage:"Wheel.itemBackgroundColors must be an array",defaultValue:b.wheel.itemBackgroundColors}),this.refresh()}get itemLabelAlign(){return this._itemLabelAlign}set itemLabelAlign(t){this._itemLabelAlign=C({val:t,isValid:typeof t=="string",errorMessage:"Wheel.itemLabelAlign must be a string",defaultValue:b.wheel.itemLabelAlign}),this.refresh()}get itemLabelBaselineOffset(){return this._itemLabelBaselineOffset}set itemLabelBaselineOffset(t){this._itemLabelBaselineOffset=C({val:t,isValid:S(t),errorMessage:"Wheel.itemLabelBaselineOffset must be a number",defaultValue:b.wheel.itemLabelBaselineOffset}),this.resize()}get itemLabelColors(){return this._itemLabelColors}set itemLabelColors(t){this._itemLabelColors=C({val:t,isValid:Array.isArray(t),errorMessage:"Wheel.itemLabelColors must be an array",defaultValue:b.wheel.itemLabelColors}),this.refresh()}get itemLabelFont(){return this._itemLabelFont}set itemLabelFont(t){this._itemLabelFont=C({val:t,isValid:typeof t=="string",errorMessage:"Wheel.itemLabelFont must be a string",defaultValue:b.wheel.itemLabelFont}),this.resize()}get itemLabelFontSizeMax(){return this._itemLabelFontSizeMax}set itemLabelFontSizeMax(t){this._itemLabelFontSizeMax=C({val:t,isValid:S(t),errorMessage:"Wheel.itemLabelFontSizeMax must be a number",defaultValue:b.wheel.itemLabelFontSizeMax}),this.resize()}get itemLabelRadius(){return this._itemLabelRadius}set itemLabelRadius(t){this._itemLabelRadius=C({val:t,isValid:S(t),errorMessage:"Wheel.itemLabelRadius must be a number",defaultValue:b.wheel.itemLabelRadius}),this.resize()}get itemLabelRadiusMax(){return this._itemLabelRadiusMax}set itemLabelRadiusMax(t){this._itemLabelRadiusMax=C({val:t,isValid:S(t),errorMessage:"Wheel.itemLabelRadiusMax must be a number",defaultValue:b.wheel.itemLabelRadiusMax}),this.resize()}get itemLabelRotation(){return this._itemLabelRotation}set itemLabelRotation(t){this._itemLabelRotation=C({val:t,isValid:S(t),errorMessage:"Wheel.itemLabelRotation must be a number",defaultValue:b.wheel.itemLabelRotation}),this.refresh()}get items(){return this._items}set items(t){this._items=C({val:t,isValid:Array.isArray(t),errorMessage:"Wheel.items must be an array of Items",defaultValue:b.wheel.items,action:()=>{let e=[];for(let r of t)e.push(new nt(this,{backgroundColor:r.backgroundColor,image:r.image,imageRadius:r.imageRadius,imageRotation:r.imageRotation,imageScale:r.imageScale,label:r.label,labelColor:r.labelColor,value:r.value,weight:r.weight}));return e}}),this.refreshCurrentIndex(this.getItemAngles(this._rotation))}get lineColor(){return this._lineColor}set lineColor(t){this._lineColor=C({val:t,isValid:typeof t=="string",errorMessage:"Wheel.lineColor must be a string",defaultValue:b.wheel.lineColor}),this.refresh()}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=C({val:t,isValid:S(t),errorMessage:"Wheel.lineWidth must be a number",defaultValue:b.wheel.lineWidth}),this.refresh()}get offset(){return this._offset}set offset(t){this._offset=C({val:t,isValid:W(t),errorMessage:"Wheel.offset must be an object",defaultValue:b.wheel.offset}),this.resize()}get onCurrentIndexChange(){return this._onCurrentIndexChange}set onCurrentIndexChange(t){this._onCurrentIndexChange=C({val:t,isValid:typeof t=="function"||t===null,errorMessage:"Wheel.onCurrentIndexChange must be a function or null",defaultValue:b.wheel.onCurrentIndexChange})}get onRest(){return this._onRest}set onRest(t){this._onRest=C({val:t,isValid:typeof t=="function"||t===null,errorMessage:"Wheel.onRest must be a function or null",defaultValue:b.wheel.onRest})}get onSpin(){return this._onSpin}set onSpin(t){this._onSpin=C({val:t,isValid:typeof t=="function"||t===null,errorMessage:"Wheel.onSpin must be a function or null",defaultValue:b.wheel.onSpin})}get overlayImage(){var t,e;return(e=(t=this._overlayImage)==null?void 0:t.src)!=null?e:null}set overlayImage(t){this._overlayImage=C({val:t,isValid:typeof t=="string"||t===null,errorMessage:"Wheel.overlayImage must be a url (string) or null",defaultValue:b.wheel.overlayImage,action:()=>{if(t===null)return null;let e=new Image;return e.src=t,e.onload=r=>this.refresh(),e}}),this.refresh()}get pixelRatio(){return this._pixelRatio}set pixelRatio(t){this._pixelRatio=C({val:t,isValid:S(t),errorMessage:"Wheel.pixelRatio must be a number",defaultValue:b.wheel.pixelRatio}),this.resize()}get pointerAngle(){return this._pointerAngle}set pointerAngle(t){this._pointerAngle=C({val:t,isValid:S(t)&&t>=0,errorMessage:"Wheel.pointerAngle must be a number between 0 and 360",defaultValue:b.wheel.pointerAngle,action:()=>t%360}),this.debug&&this.refresh()}get radius(){return this._radius}set radius(t){this._radius=C({val:t,isValid:S(t),errorMessage:"Wheel.radius must be a number",defaultValue:b.wheel.radius}),this.resize()}get rotation(){return this._rotation}set rotation(t){this._rotation=C({val:t,isValid:S(t),errorMessage:"Wheel.rotation must be a number",defaultValue:b.wheel.rotation}),this.refreshCurrentIndex(this.getItemAngles(this._rotation)),this.refresh()}get rotationResistance(){return this._rotationResistance}set rotationResistance(t){this._rotationResistance=C({val:t,isValid:S(t),errorMessage:"Wheel.rotationResistance must be a number",defaultValue:b.wheel.rotationResistance})}get rotationSpeed(){return this._rotationSpeed}get rotationSpeedMax(){return this._rotationSpeedMax}set rotationSpeedMax(t){this._rotationSpeedMax=C({val:t,isValid:S(t)&&t>=0,errorMessage:"Wheel.rotationSpeedMax must be a number >= 0",defaultValue:b.wheel.rotationSpeedMax})}dragStart(t={x:0,y:0}){let e=F(t,this.canvas,this.getActualPixelRatio());this.isDragging=!0,this.stop(),this.dragEvents=[{distance:0,x:e.x,y:e.y,now:performance.now()}],this.refreshCursor()}dragMove(t={x:0,y:0}){let e=F(t,this.canvas,this.getActualPixelRatio()),r=this.getAngleFromCenter(e),o=this.dragEvents[0],c=this.getAngleFromCenter(o),y=K(c,r);this.dragEvents.unshift({distance:y,x:e.x,y:e.y,now:performance.now()}),this.debug&&this.dragEvents.length>=40&&this.dragEvents.pop(),this.rotation+=y}dragEnd(){this.isDragging=!1;let t=0,e=performance.now();for(let[r,o]of this.dragEvents.entries()){if(!this.isDragEventTooOld(e,o)){t+=o.distance;continue}this.dragEvents.length=r;break}this.refreshCursor(),t!==0&&this.setSpeedSpeed(t*(1e3/250),"interact")}isDragEventTooOld(t=0,e={}){return t-e.now>250}raiseEvent_onCurrentIndexChange(t={}){var e;(e=this.onCurrentIndexChange)==null||e.call(this,T({type:"currentIndexChange",currentIndex:this._currentIndex},t))}raiseEvent_onRest(t={}){var e;(e=this.onRest)==null||e.call(this,T({type:"rest",currentIndex:this._currentIndex,rotation:this._rotation},t))}raiseEvent_onSpin(t={}){var e;(e=this.onSpin)==null||e.call(this,T({type:"spin"},t))}},D={exports:{}};(function(t,e){(function(o,c){t.exports=c()})(N,function(){return function(){var r={165:function(p,v){Object.defineProperty(v,"__esModule",{value:!0}),v.abs=void 0;function m(R){return(typeof R=="number"||typeof R=="bigint")&&(R=R.toString()),R[0]=="-"?R.substring(1):R}v.abs=m},217:function(p,v){Object.defineProperty(v,"__esModule",{value:!0}),v.pad=v.trim=v.add=void 0;function m(s,u){var f;u===void 0&&(u="0");var h=0,w=-1;s[0]=="-"&&(s=s.substring(1),g(s)||(h++,w=1,s.length)),u[0]=="-"&&(u=u.substring(1),g(u)||(h++,w=2,u.length)),s=L(s),u=L(u),f=l(L(s),L(u)),s=f[0],u=f[1],h==1&&(w===1?s=R(s):w===2&&(u=R(u)));var a=n(s,u);return h?h==2?"-"+L(a):s.length<a.length?L(a.substring(1)):"-"+L(R(a)):L(a)}v.add=m;function R(s){if(g(s))return s;for(var u="",f=s.length,h=s.split(".")[1],w=h?h.length:0,a=0;a<f;a++)s[a]>="0"&&s[a]<="9"?u+=9-parseInt(s[a]):u+=s[a];var i=w>0?"0."+new Array(w).join("0")+"1":"1";return n(u,i)}function L(s){var u=s.split(".");for(u[0]||(u[0]="0");u[0][0]=="0"&&u[0].length>1;)u[0]=u[0].substring(1);return u[0]+(u[1]?"."+u[1]:"")}v.trim=L;function l(s,u){var f=s.split("."),h=u.split("."),w=f[0].length,a=h[0].length;return w>a?h[0]=new Array(Math.abs(w-a)+1).join("0")+(h[0]?h[0]:""):f[0]=new Array(Math.abs(w-a)+1).join("0")+(f[0]?f[0]:""),w=f[1]?f[1].length:0,a=h[1]?h[1].length:0,(w||a)&&(w>a?h[1]=(h[1]?h[1]:"")+new Array(Math.abs(w-a)+1).join("0"):f[1]=(f[1]?f[1]:"")+new Array(Math.abs(w-a)+1).join("0")),s=f[0]+(f[1]?"."+f[1]:""),u=h[0]+(h[1]?"."+h[1]:""),[s,u]}v.pad=l;function n(s,u){var f;f=l(s,u),s=f[0],u=f[1];for(var h="",w=0,a=s.length-1;a>=0;a--){if(s[a]==="."){h="."+h;continue}var i=parseInt(s[a])+parseInt(u[a])+w;h=i%10+h,w=Math.floor(i/10)}return w?w.toString()+h:h}function g(s){return/^0[0]*[.]{0,1}[0]*$/.test(s)}},423:function(p,v,m){var R=m(217),L=m(165),l=m(350),n=m(182),g=m(415),s=m(213),u=m(664),f=m(26),h=m(916),w=function(){function a(i){i===void 0&&(i="0"),this.value=a.validate(i)}return a.validate=function(i){if(i){if(i=i.toString(),isNaN(i))throw Error("Parameter is not a number: "+i);i[0]=="+"&&(i=i.substring(1))}else i="0";if(i.startsWith(".")?i="0"+i:i.startsWith("-.")&&(i="-0"+i.substr(1)),/e/i.test(i)){var d=i.split(/[eE]/),_=d[0],x=d[1];_=(0,R.trim)(_);var M="";_[0]=="-"&&(M="-",_=_.substring(1)),_.indexOf(".")>=0?(x=parseInt(x)+_.indexOf("."),_=_.replace(".","")):x=parseInt(x)+_.length,_.length<x?i=M+_+new Array(x-_.length+1).join("0"):_.length>=x&&x>0?i=M+(0,R.trim)(_.substring(0,x))+(_.length>x?"."+_.substring(x):""):i=M+"0."+new Array(-x+1).join("0")+_}return i},a.prototype.getValue=function(){return this.value},a.prototype.setValue=function(i){this.value=a.validate(i)},a.getPrettyValue=function(i,d,_){if(!(d||_))d=3,_=",";else if(!(d&&_))throw Error("Illegal Arguments. Should pass both digits and separator or pass none");i=a.validate(i);var x=i.charAt(0)=="-";x&&(i=i.substring(1));var M=i.indexOf(".");M=M>0?M:i.length;for(var E="",A=M;A>0;)A<d?(d=A,A=0):A-=d,E=i.substring(A,A+d)+(A<M-d&&A>=0?_:"")+E;return(x?"-":"")+E+i.substring(M)},a.prototype.getPrettyValue=function(i,d){return a.getPrettyValue(this.value,i,d)},a.round=function(i,d,_){if(d===void 0&&(d=0),_===void 0&&(_=h.RoundingModes.HALF_EVEN),i=a.validate(i),isNaN(d))throw Error("Precision is not a number: "+d);return(0,l.roundOff)(i,d,_)},a.prototype.round=function(i,d){if(i===void 0&&(i=0),d===void 0&&(d=h.RoundingModes.HALF_EVEN),isNaN(i))throw Error("Precision is not a number: "+i);return new a((0,l.roundOff)(this.value,i,d))},a.abs=function(i){return i=a.validate(i),(0,L.abs)(i)},a.prototype.abs=function(){return new a((0,L.abs)(this.value))},a.floor=function(i){return i=a.validate(i),i.indexOf(".")===-1?i:a.round(i,0,h.RoundingModes.FLOOR)},a.prototype.floor=function(){return this.value.indexOf(".")===-1?new a(this.value):new a(this.value).round(0,h.RoundingModes.FLOOR)},a.ceil=function(i){return i=a.validate(i),i.indexOf(".")===-1?i:a.round(i,0,h.RoundingModes.CEILING)},a.prototype.ceil=function(){return this.value.indexOf(".")===-1?new a(this.value):new a(this.value).round(0,h.RoundingModes.CEILING)},a.add=function(i,d){return i=a.validate(i),d=a.validate(d),(0,R.add)(i,d)},a.prototype.add=function(i){return new a((0,R.add)(this.value,i.getValue()))},a.subtract=function(i,d){return i=a.validate(i),d=a.validate(d),(0,f.subtract)(i,d)},a.prototype.subtract=function(i){return new a((0,f.subtract)(this.value,i.getValue()))},a.multiply=function(i,d){return i=a.validate(i),d=a.validate(d),(0,n.multiply)(i,d)},a.prototype.multiply=function(i){return new a((0,n.multiply)(this.value,i.getValue()))},a.divide=function(i,d,_){return i=a.validate(i),d=a.validate(d),(0,g.divide)(i,d,_)},a.prototype.divide=function(i,d){return new a((0,g.divide)(this.value,i.getValue(),d))},a.modulus=function(i,d){return i=a.validate(i),d=a.validate(d),(0,s.modulus)(i,d)},a.prototype.modulus=function(i){return new a((0,s.modulus)(this.value,i.getValue()))},a.compareTo=function(i,d){return i=a.validate(i),d=a.validate(d),(0,u.compareTo)(i,d)},a.prototype.compareTo=function(i){return(0,u.compareTo)(this.value,i.getValue())},a.negate=function(i){return i=a.validate(i),(0,f.negate)(i)},a.prototype.negate=function(){return new a((0,f.negate)(this.value))},a.RoundingModes=h.RoundingModes,a}();p.exports=w},664:function(p,v,m){Object.defineProperty(v,"__esModule",{value:!0}),v.compareTo=void 0;var R=m(217);function L(l,n){var g,s=!1;if(l[0]=="-"&&n[0]!="-")return-1;if(l[0]!="-"&&n[0]=="-")return 1;if(l[0]=="-"&&n[0]=="-"&&(l=l.substr(1),n=n.substr(1),s=!0),g=(0,R.pad)(l,n),l=g[0],n=g[1],l.localeCompare(n)==0)return 0;for(var u=0;u<l.length;u++)if(l[u]!=n[u])return l[u]>n[u]?s?-1:1:s?1:-1;return 0}v.compareTo=L},415:function(p,v,m){Object.defineProperty(v,"__esModule",{value:!0}),v.divide=void 0;var R=m(217),L=m(350);function l(n,g,s){if(s===void 0&&(s=8),g==0)throw new Error("Cannot divide by 0");if(n=n.toString(),g=g.toString(),n=n.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),g=g.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),n==0)return"0";var u=0;g[0]=="-"&&(g=g.substring(1),u++),n[0]=="-"&&(n=n.substring(1),u++);var f=g.indexOf(".")>0?g.length-g.indexOf(".")-1:-1;if(g=(0,R.trim)(g.replace(".","")),f>=0){var h=n.indexOf(".")>0?n.length-n.indexOf(".")-1:-1;if(h==-1)n=(0,R.trim)(n+new Array(f+1).join("0"));else if(f>h)n=n.replace(".",""),n=(0,R.trim)(n+new Array(f-h+1).join("0"));else if(f<h){n=n.replace(".","");var w=n.length-h+f;n=(0,R.trim)(n.substring(0,w)+"."+n.substring(w))}else f==h&&(n=(0,R.trim)(n.replace(".","")))}var a=0,i=g.length,d="",_=n.indexOf(".")>-1&&n.indexOf(".")<i?n.substring(0,i+1):n.substring(0,i);if(n=n.indexOf(".")>-1&&n.indexOf(".")<i?n.substring(i+1):n.substring(i),_.indexOf(".")>-1){var x=_.length-_.indexOf(".")-1;_=_.replace(".",""),i>_.length&&(x+=i-_.length,_=_+new Array(i-_.length+1).join("0")),a=x,d="0."+new Array(x).join("0")}for(s=s+2;a<=s;){for(var M=0;parseInt(_)>=parseInt(g);)_=(0,R.add)(_,"-"+g),M++;d+=M,n?(n[0]=="."&&(d+=".",a++,n=n.substring(1)),_=_+n.substring(0,1),n=n.substring(1)):(a||(d+="."),a++,_=_+"0")}return(u==1?"-":"")+(0,R.trim)((0,L.roundOff)(d,s-2))}v.divide=l},213:function(p,v,m){Object.defineProperty(v,"__esModule",{value:!0}),v.modulus=void 0;var R=m(415),L=m(350),l=m(182),n=m(26),g=m(916);function s(f,h){if(h==0)throw new Error("Cannot divide by 0");f=f.toString(),h=h.toString(),u(f),u(h);var w="";f[0]=="-"&&(w="-",f=f.substr(1)),h[0]=="-"&&(h=h.substr(1));var a=(0,n.subtract)(f,(0,l.multiply)(h,(0,L.roundOff)((0,R.divide)(f,h),0,g.RoundingModes.FLOOR)));return w+a}v.modulus=s;function u(f){if(f.indexOf(".")!=-1)throw new Error("Modulus of non-integers not supported")}},182:function(p,v){Object.defineProperty(v,"__esModule",{value:!0}),v.multiply=void 0;function m(l,n){l=l.toString(),n=n.toString();var g=0;l[0]=="-"&&(g++,l=l.substr(1)),n[0]=="-"&&(g++,n=n.substr(1)),l=L(l),n=L(n);var s=0,u=0;l.indexOf(".")!=-1&&(s=l.length-l.indexOf(".")-1),n.indexOf(".")!=-1&&(u=n.length-n.indexOf(".")-1);var f=s+u;if(l=L(l.replace(".","")),n=L(n.replace(".","")),l.length<n.length){var h=l;l=n,n=h}if(n=="0")return"0";for(var w=n.length,a=0,i=[],d=w-1,_="",x=0;x<w;x++)i[x]=l.length-1;for(var x=0;x<2*l.length;x++){for(var M=0,E=n.length-1;E>=d&&E>=0;E--)i[E]>-1&&i[E]<l.length&&(M+=parseInt(l[i[E]--])*parseInt(n[E]));M+=a,a=Math.floor(M/10),_=M%10+_,d--}return _=L(R(_,f)),g==1&&(_="-"+_),_}v.multiply=m;function R(l,n){return n==0?l:(l=n>=l.length?new Array(n-l.length+1).join("0")+l:l,l.substr(0,l.length-n)+"."+l.substr(l.length-n,n))}function L(l){for(;l[0]=="0";)l=l.substr(1);if(l.indexOf(".")!=-1)for(;l[l.length-1]=="0";)l=l.substr(0,l.length-1);return l==""||l=="."?l="0":l[l.length-1]=="."&&(l=l.substr(0,l.length-1)),l[0]=="."&&(l="0"+l),l}},350:function(p,v,m){Object.defineProperty(v,"__esModule",{value:!0}),v.roundOff=void 0;var R=m(916);function L(g,s,u){if(s===void 0&&(s=0),u===void 0&&(u=R.RoundingModes.HALF_EVEN),u===R.RoundingModes.UNNECESSARY)throw new Error("UNNECESSARY Rounding Mode has not yet been implemented");(typeof g=="number"||typeof g=="bigint")&&(g=g.toString());var f=!1;g[0]==="-"&&(f=!0,g=g.substring(1));var h=g.split("."),w=h[0],a=h[1];if(s<0){if(s=-s,w.length<=s)return"0";var i=w.substr(0,w.length-s);return g=i+"."+w.substr(w.length-s)+a,i=L(g,0,u),(f?"-":"")+i+new Array(s+1).join("0")}if(s==0)return w.length,l(h[1],w,f,u)&&(w=n(w)),(f&&parseInt(w)?"-":"")+w;if(h[1]){if(h[1].length<s)return(f?"-":"")+w+"."+h[1]+new Array(s-h[1].length+1).join("0")}else return(f?"-":"")+w+"."+new Array(s+1).join("0");a=h[1].substring(0,s);var d=h[1].substring(s);return d&&l(d,a,f,u)&&(a=n(a),a.length>s)?(f?"-":"")+n(w,parseInt(a[0]))+"."+a.substring(1):(f&&(parseInt(w)||parseInt(a))?"-":"")+w+"."+a}v.roundOff=L;function l(g,s,u,f){if(!g||g===new Array(g.length+1).join("0")||f===R.RoundingModes.DOWN||!u&&f===R.RoundingModes.FLOOR||u&&f===R.RoundingModes.CEILING)return!1;if(f===R.RoundingModes.UP||u&&f===R.RoundingModes.FLOOR||!u&&f===R.RoundingModes.CEILING)return!0;var h="5"+new Array(g.length).join("0");if(g>h)return!0;if(g<h)return!1;switch(f){case R.RoundingModes.HALF_DOWN:return!1;case R.RoundingModes.HALF_UP:return!0;case R.RoundingModes.HALF_EVEN:default:return parseInt(s[s.length-1])%2==1}}function n(g,s){s===void 0&&(s=0),s||(s=1),typeof g=="number"&&g.toString();for(var u=g.length-1,f="",h=u;h>=0;h--){var w=parseInt(g[h])+s;w==10?(s=1,w=0):s=0,f+=w}return s&&(f+=s),f.split("").reverse().join("")}},916:function(p,v){Object.defineProperty(v,"__esModule",{value:!0}),v.RoundingModes=void 0,function(m){m[m.CEILING=0]="CEILING",m[m.DOWN=1]="DOWN",m[m.FLOOR=2]="FLOOR",m[m.HALF_DOWN=3]="HALF_DOWN",m[m.HALF_EVEN=4]="HALF_EVEN",m[m.HALF_UP=5]="HALF_UP",m[m.UNNECESSARY=6]="UNNECESSARY",m[m.UP=7]="UP"}(v.RoundingModes||(v.RoundingModes={}))},26:function(p,v,m){Object.defineProperty(v,"__esModule",{value:!0}),v.negate=v.subtract=void 0;var R=m(217);function L(n,g){return n=n.toString(),g=g.toString(),g=l(g),(0,R.add)(n,g)}v.subtract=L;function l(n){return n[0]=="-"?n=n.substr(1):n="-"+n,n}v.negate=l}},o={};function c(p){var v=o[p];if(v!==void 0)return v.exports;var m=o[p]={exports:{}};return r[p](m,m.exports,c),m.exports}var y=c(423);return y}()})})(D);var st=D.exports;const ht=j(st);export{lt as F,ht as b};
