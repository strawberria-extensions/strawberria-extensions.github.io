import{s as fe,n as se,e as we,o as xt,f as ie,b as Vt,h as bt,r as Dt,i as Ot}from"../chunks/scheduler.45a29d2a.js";import{S as yt,i as It,g as L,m as $,s as B,h as R,j as V,n as ee,f as p,c as j,k as E,a as S,x as C,o as ce,y as Ie,t as H,b as ne,d as N,p as ae,z as Tt,A as X,B as le,C as We,D as xe,E as Wt,e as q,F as Pe,r as Ct,u as Lt,v as Rt,w as Et}from"../chunks/index.402d22ca.js";import{e as re}from"../chunks/each.e59479a4.js";import{w as be}from"../chunks/index.a61b5093.js";import{c as Pt}from"../chunks/logo.09e82b80.js";import{g as St,a as Ft,r as Nt,s as Fe,t as Bt}from"../chunks/utility.c45014d8.js";import{c as jt,g as zt}from"../chunks/_commonjsHelpers.de833af9.js";const Ht=!0,Di=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ht},Symbol.toStringTag,{value:"Module"}));var Ut=Math.PI;function Ne(e){return(1-Math.cos(Ut*e))/2}const qt="data:audio/mpeg;base64,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",Jt=""+new URL("../assets/wheel-bg-overlay.1f6ec841.svg",import.meta.url).href;var Yt=Object.defineProperty,Be=Object.getOwnPropertySymbols,Qt=Object.prototype.hasOwnProperty,Gt=Object.prototype.propertyIsEnumerable,Ee=Math.pow,je=(e,t,l)=>t in e?Yt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Se=(e,t)=>{for(var l in t||(t={}))Qt.call(t,l)&&je(e,l,t[l]);if(Be)for(var l of Be(t))Gt.call(t,l)&&je(e,l,t[l]);return e};function Kt(e=0,t=0,l=14){return parseFloat((Math.random()*(t-e)+e).toFixed(l))}function te(e=0){return e*Math.PI/180}function Zt(e,t,l){return t<l?t<=e&&e<l:t<=e||e<l}function Xt(e,t,l,i){i.save(),i.font=`1px ${t}`;let r=i.measureText(e).width;return i.restore(),l/r}function $t(e={x:0,y:0},t,l,i){return Ee(e.x-t,2)+Ee(e.y-l,2)<=Ee(i,2)}function Me(e={x:0,y:0},t={},l=1){let i=t.getBoundingClientRect();return{x:(e.x-i.left)*l,y:(e.y-i.top)*l}}function ei(e,t,l,i){let r=e-l,n=t-i,s=Math.atan2(-n,-r);return s*=180/Math.PI,s<0&&(s+=360),s}function ti(e=0,t=0){let l=e+t,i;return l>0?i=l%360:i=360+l%360,i===360&&(i=0),i}function ii(e=0,t=0){let l=180-t;return 180-ti(e,l)}function li(e=0,t=0,l=1){let i=(e%360+t)%360;return i=si(i),i=(l===1?360-i:360+i)%360,i*=l,e+i}function Le(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}function Z(e){return typeof e=="number"&&!Number.isNaN(e)}function W({val:e,isValid:t,errorMessage:l,defaultValue:i,action:r=null}){if(t)return r?r():e;if(e===void 0)return i;throw new Error(l)}function ze(e){return e&&e.complete&&e.naturalWidth!==0&&e.naturalHeight!==0}function si(e=0){return Number(e.toFixed(9))}function ri(e){return Math.sin(e*Math.PI/2)}var ni=Object.freeze({left:"left",right:"right",center:"center"}),k=Object.freeze({wheel:{borderColor:"#000",borderWidth:1,debug:!1,image:null,isInteractive:!0,itemBackgroundColors:["#fff"],itemLabelAlign:ni.right,itemLabelBaselineOffset:0,itemLabelColors:["#000"],itemLabelFont:"sans-serif",itemLabelFontSizeMax:500,itemLabelRadius:.85,itemLabelRadiusMax:.2,itemLabelRotation:0,items:[],lineColor:"#000",lineWidth:1,pixelRatio:0,radius:.95,rotation:0,rotationResistance:-35,rotationSpeedMax:300,offset:{w:0,h:0},onCurrentIndexChange:null,onRest:null,onSpin:null,overlayImage:null,pointerAngle:0},item:{backgroundColor:null,image:null,imageRadius:.5,imageRotation:0,imageScale:1,label:"",labelColor:null,labelFont:null,weight:1}}),ye=Object.freeze({pointerLineColor:"#ff00ff",labelOutlineColor:"#ff00ff",labelRadiusColor:"#00ff00",dragEventHue:200});function ai(e={}){hi(e),e._handler_onResize=e.resize.bind(e),window.addEventListener("resize",e._handler_onResize)}function oi(e={}){let t=e.canvas;"PointerEvent"in window?(t.removeEventListener("pointerdown",e._handler_onPointerDown),t.removeEventListener("pointermove",e._handler_onPointerMoveRefreshCursor)):(t.removeEventListener("touchstart",e._handler_onTouchStart),t.removeEventListener("mousedown",e._handler_onMouseDown),t.removeEventListener("mousemove",e._handler_onMouseMoveRefreshCursor)),window.removeEventListener("resize",e._handler_onResize)}function hi(e={}){let t=e.canvas;e._handler_onPointerMoveRefreshCursor=(l={})=>{let i={x:l.clientX,y:l.clientY};e.isCursorOverWheel=e.wheelHitTest(i),e.refreshCursor()},e._handler_onMouseMoveRefreshCursor=(l={})=>{let i={x:l.clientX,y:l.clientY};e.isCursorOverWheel=e.wheelHitTest(i),e.refreshCursor()},e._handler_onPointerDown=(l={})=>{let i={x:l.clientX,y:l.clientY};if(!e.isInteractive||!e.wheelHitTest(i))return;l.preventDefault(),e.dragStart(i),t.setPointerCapture(l.pointerId),t.addEventListener("pointermove",r),t.addEventListener("pointerup",n),t.addEventListener("pointercancel",n),t.addEventListener("pointerout",n);function r(s={}){s.preventDefault(),e.dragMove({x:s.clientX,y:s.clientY})}function n(s={}){s.preventDefault(),t.releasePointerCapture(s.pointerId),t.removeEventListener("pointermove",r),t.removeEventListener("pointerup",n),t.removeEventListener("pointercancel",n),t.removeEventListener("pointerout",n),e.dragEnd()}},e._handler_onMouseDown=(l={})=>{let i={x:l.clientX,y:l.clientY};if(!e.isInteractive||!e.wheelHitTest(i))return;e.dragStart(i),document.addEventListener("mousemove",r),document.addEventListener("mouseup",n);function r(s={}){s.preventDefault(),e.dragMove({x:s.clientX,y:s.clientY})}function n(s={}){s.preventDefault(),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",n),e.dragEnd()}},e._handler_onTouchStart=(l={})=>{let i={x:l.targetTouches[0].clientX,y:l.targetTouches[0].clientY};if(!e.isInteractive||!e.wheelHitTest(i))return;l.preventDefault(),e.dragStart(i),t.addEventListener("touchmove",r),t.addEventListener("touchend",n),t.addEventListener("touchcancel",n);function r(s={}){s.preventDefault(),e.dragMove({x:s.targetTouches[0].clientX,y:s.targetTouches[0].clientY})}function n(s={}){s.preventDefault(),t.removeEventListener("touchmove",r),t.removeEventListener("touchend",n),t.removeEventListener("touchcancel",n),e.dragEnd()}},"PointerEvent"in window?(t.addEventListener("pointerdown",e._handler_onPointerDown),t.addEventListener("pointermove",e._handler_onPointerMoveRefreshCursor)):(t.addEventListener("touchstart",e._handler_onTouchStart),t.addEventListener("mousedown",e._handler_onMouseDown),t.addEventListener("mousemove",e._handler_onMouseMoveRefreshCursor))}var ui=class{constructor(e,t={}){if(!Le(e))throw new Error("wheel must be an instance of Wheel");if(!Le(t)&&t!==null)throw new Error("props must be an Object or null");this._wheel=e;for(let l of Object.keys(k.item))this["_"+l]=k.item[l];t?this.init(t):this.init(k.item)}init(e={}){this.backgroundColor=e.backgroundColor,this.image=e.image,this.imageRadius=e.imageRadius,this.imageRotation=e.imageRotation,this.imageScale=e.imageScale,this.label=e.label,this.labelColor=e.labelColor,this.value=e.value,this.weight=e.weight}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){typeof e=="string"?this._backgroundColor=e:this._backgroundColor=k.item.backgroundColor,this._wheel.refresh()}get image(){return this._image}set image(e){let t;typeof e=="string"?(t=new Image,t.src=e,t.onload=l=>this._wheel.refresh()):t=k.item.image,this._image=t,this._wheel.refresh()}get imageRadius(){return this._imageRadius}set imageRadius(e){typeof e=="number"?this._imageRadius=e:this._imageRadius=k.item.imageRadius,this._wheel.refresh()}get imageRotation(){return this._imageRotation}set imageRotation(e){typeof e=="number"?this._imageRotation=e:this._imageRotation=k.item.imageRotation,this._wheel.refresh()}get imageScale(){return this._imageScale}set imageScale(e){typeof e=="number"?this._imageScale=e:this._imageScale=k.item.imageScale,this._wheel.refresh()}get label(){return this._label}set label(e){typeof e=="string"?this._label=e:this._label=k.item.label,this._wheel.refresh()}get labelColor(){return this._labelColor}set labelColor(e){typeof e=="string"?this._labelColor=e:this._labelColor=k.item.labelColor,this._wheel.refresh()}get value(){return this._value}set value(e){this._value=e}get weight(){return this._weight}set weight(e){typeof e=="number"?this._weight=e:this._weight=k.item.weight}getIndex(){let e=this._wheel.items.findIndex(t=>t===this);if(e===-1)throw new Error("Item not found in parent Wheel");return e}getCenterAngle(){let e=this._wheel.getItemAngles()[this.getIndex()];return e.start+(e.end-e.start)/2}getStartAngle(){return this._wheel.getItemAngles()[this.getIndex()].start}getEndAngle(){return this._wheel.getItemAngles()[this.getIndex()].end}getRandomAngle(){return Kt(this.getStartAngle(),this.getEndAngle())}},fi=class{constructor(e,t={}){if(this._frameRequestId=null,this._rotationSpeed=0,this._rotationDirection=1,!(e instanceof Element))throw new Error("container must be an instance of Element");if(!Le(t)&&t!==null)throw new Error("props must be an Object or null");this._canvasContainer=e,this.canvas=document.createElement("canvas"),this._context=this.canvas.getContext("2d"),this.addCanvas(),ai(this);for(let l of Object.keys(k.wheel))this["_"+l]=k.wheel[l];t?this.init(t):this.init(k.wheel)}init(e={}){this._isInitialising=!0,this.borderColor=e.borderColor,this.borderWidth=e.borderWidth,this.debug=e.debug,this.image=e.image,this.isInteractive=e.isInteractive,this.itemBackgroundColors=e.itemBackgroundColors,this.itemLabelAlign=e.itemLabelAlign,this.itemLabelBaselineOffset=e.itemLabelBaselineOffset,this.itemLabelColors=e.itemLabelColors,this.itemLabelFont=e.itemLabelFont,this.itemLabelFontSizeMax=e.itemLabelFontSizeMax,this.itemLabelRadius=e.itemLabelRadius,this.itemLabelRadiusMax=e.itemLabelRadiusMax,this.itemLabelRotation=e.itemLabelRotation,this.items=e.items,this.lineColor=e.lineColor,this.lineWidth=e.lineWidth,this.pixelRatio=e.pixelRatio,this.rotationSpeedMax=e.rotationSpeedMax,this.radius=e.radius,this.rotation=e.rotation,this.rotationResistance=e.rotationResistance,this.offset=e.offset,this.onCurrentIndexChange=e.onCurrentIndexChange,this.onRest=e.onRest,this.onSpin=e.onSpin,this.overlayImage=e.overlayImage,this.pointerAngle=e.pointerAngle}addCanvas(){this._canvasContainer.appendChild(this.canvas)}removeCanvas(){this._canvasContainer.removeChild(this.canvas)}remove(){window.cancelAnimationFrame(this._frameRequestId),oi(this),this.removeCanvas()}resize(){let[e,t]=[this._canvasContainer.clientWidth*this.getActualPixelRatio(),this._canvasContainer.clientHeight*this.getActualPixelRatio()],l=Math.min(e,t),i={w:l-l*this.offset.w,h:l-l*this.offset.h},r=Math.min(e/i.w,t/i.h);this._size=Math.max(i.w*r,i.h*r),this.canvas.style.width=this._canvasContainer.clientWidth+"px",this.canvas.style.height=this._canvasContainer.clientHeight+"px",this.canvas.width=e,this.canvas.height=t,this._center={x:e/2+e*this.offset.w,y:t/2+t*this.offset.h},this._actualRadius=this._size/2*this.radius,this.itemLabelFontSize=this.itemLabelFontSizeMax*(this._size/500),this.labelMaxWidth=this._actualRadius*(this.itemLabelRadius-this.itemLabelRadiusMax);for(let n of this._items)this.itemLabelFontSize=Math.min(this.itemLabelFontSize,Xt(n.label,this.itemLabelFont,this.labelMaxWidth,this._context));this.refresh()}draw(e=0){this._frameRequestId=null;let t=this._context;t.clearRect(0,0,this.canvas.width,this.canvas.height),this.animateRotation(e);let l=this.getItemAngles(this._rotation),i=this.getActualBorderWidth();t.textBaseline="middle",t.textAlign=this.itemLabelAlign,t.font=this.itemLabelFontSize+"px "+this.itemLabelFont,t.save();for(let[r,n]of l.entries()){let s=new Path2D;s.moveTo(this._center.x,this._center.y),s.arc(this._center.x,this._center.y,this._actualRadius-i/2,te(n.start+-90),te(n.end+-90)),this._items[r].path=s}this.drawItemBackgrounds(t,l),this.drawItemImages(t,l),this.drawItemLines(t,l),this.drawItemLabels(t,l),this.drawBorder(t),this.drawImage(t,this._image,!1),this.drawImage(t,this._overlayImage,!0),this.drawPointerLine(t),this.drawDragEvents(t),this._isInitialising=!1}drawItemBackgrounds(e,t=[]){var l;for(let[i,r]of t.entries()){let n=this._items[i];e.fillStyle=(l=n.backgroundColor)!=null?l:this.itemBackgroundColors[i%this.itemBackgroundColors.length],e.fill(n.path)}}drawItemImages(e,t=[]){for(let[l,i]of t.entries()){let r=this._items[l];if(!ze(r.image))return;e.save(),e.clip(r.path);let n=i.start+(i.end-i.start)/2;e.translate(this._center.x+Math.cos(te(n+-90))*(this._actualRadius*r.imageRadius),this._center.y+Math.sin(te(n+-90))*(this._actualRadius*r.imageRadius)),e.rotate(te(n+r.imageRotation));let s=this._size/500*r.image.width*r.imageScale,a=this._size/500*r.image.height*r.imageScale,h=-s/2,_=-a/2;e.drawImage(r.image,h,_,s,a),e.restore()}}drawImage(e,t,l=!1){if(!ze(t))return;e.translate(this._center.x,this._center.y),l||e.rotate(te(this._rotation));let i=l?this._size:this._size*this.radius,r=-(i/2);e.drawImage(t,r,r,i,i),e.resetTransform()}drawPointerLine(e){!this.debug||(e.translate(this._center.x,this._center.y),e.rotate(te(this._pointerAngle+-90)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius*2,0),e.strokeStyle=ye.pointerLineColor,e.lineWidth=2,e.stroke(),e.resetTransform())}drawBorder(e){if(this.borderWidth<=0)return;let t=this.getActualBorderWidth(),l=this._borderColor||"transparent";e.beginPath(),e.strokeStyle=l,e.lineWidth=t,e.arc(this._center.x,this._center.y,this._actualRadius-t/2,0,2*Math.PI),e.stroke(),this.debug&&(e.beginPath(),e.strokeStyle=e.strokeStyle=ye.labelRadiusColor,e.lineWidth=1,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadius,0,2*Math.PI),e.stroke(),e.beginPath(),e.strokeStyle=e.strokeStyle=ye.labelRadiusColor,e.lineWidth=1,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadiusMax,0,2*Math.PI),e.stroke())}drawItemLines(e,t=[]){if(this.lineWidth<=0)return;let l=this.lineWidth/500*this._size,i=this.getActualBorderWidth();e.translate(this._center.x,this._center.y);for(let r of t)e.rotate(te(r.start+-90)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius-i,0),e.strokeStyle=this.lineColor,e.lineWidth=l,e.stroke(),e.rotate(-te(r.start+-90));e.resetTransform()}drawItemLabels(e,t=[]){let l=this.itemLabelFontSize*-this.itemLabelBaselineOffset;for(let[i,r]of t.entries()){let n=this._items[i],s=n.labelColor||this._itemLabelColors[i%this._itemLabelColors.length]||"transparent";if(n.label.trim()===""||s==="transparent")continue;e.save(),e.clip(n.path);let a=r.start+(r.end-r.start)/2;e.translate(this._center.x+Math.cos(te(a+-90))*(this._actualRadius*this.itemLabelRadius),this._center.y+Math.sin(te(a+-90))*(this._actualRadius*this.itemLabelRadius)),e.rotate(te(a+-90)),e.rotate(te(this.itemLabelRotation)),this.debug&&(e.beginPath(),e.moveTo(0,0),e.lineTo(-this.labelMaxWidth,0),e.strokeStyle=ye.labelOutlineColor,e.lineWidth=1,e.stroke(),e.strokeRect(0,-this.itemLabelFontSize/2,-this.labelMaxWidth,this.itemLabelFontSize)),e.fillStyle=s,e.fillText(n.label,0,l),e.restore()}}drawDragEvents(e){var t;if(!this.debug||!((t=this.dragEvents)!=null&&t.length))return;let l=[...this.dragEvents].reverse();for(let[i,r]of l.entries()){let n=i/this.dragEvents.length*100;e.beginPath(),e.arc(r.x,r.y,5,0,2*Math.PI),e.fillStyle=`hsl(${ye.dragEventHue},100%,${n}%)`,e.strokeStyle="#000",e.lineWidth=.5,e.fill(),e.stroke()}}animateRotation(e=0){if(this._spinToTimeEnd){if(e>=this._spinToTimeEnd){this.rotation=this._spinToEndRotation,this._spinToTimeEnd=void 0,this.raiseEvent_onRest();return}this.refresh();let t=this._spinToTimeEnd-this._spinToTimeStart,l=(e-this._spinToTimeStart)/t;l=l<0?0:l;let i=this._spinToEndRotation-this._spinToStartRotation;this.rotation=this._spinToStartRotation+i*this._spinToEasingFunction(l);return}if(this._rotationSpeed!==0){this.refresh(),this._lastFrameTime===void 0&&(this._lastFrameTime=e);let t=e-this._lastFrameTime;t>0&&(this.rotation+=t/1e3*this._rotationSpeed%360,this._rotationSpeed=this.getRotationSpeedPlusDrag(t),this._rotationSpeed===0&&this.raiseEvent_onRest(),this._lastFrameTime=e);return}this._lastFrameTime=void 0}getRotationSpeedPlusDrag(e=0){let t=this._rotationSpeed+this.rotationResistance*(e/1e3)*this._rotationDirection;return this._rotationDirection===1&&t<0||this._rotationDirection===-1&&t>=0?0:t}spin(e=0){if(!Z(e))throw new Error("rotationSpeed must be a number");this.setSpeedSpeed(e,"spin")}spinTo(e=0,t=0,l=null){if(Number.isNaN(e))throw new Error("Error: newRotation parameter is NaN");this.stop(),this.animate(e,t,l),this.raiseEvent_onSpin({method:"spinto",targetRotation:e,duration:t})}spinToItem(e=0,t=0,l=!0,i=1,r=1,n=null){this.stop();let s=l?this.items[e].getCenterAngle():this.items[e].getRandomAngle(),a=li(this.rotation,s-this._pointerAngle,r);a+=i*360*r,this.animate(a,t,n),this.raiseEvent_onSpin({method:"spintoitem",targetItemIndex:e,targetRotation:a,duration:t})}animate(e,t,l){this._spinToStartRotation=this.rotation,this._spinToEndRotation=e,this._spinToTimeStart=performance.now(),this._spinToTimeEnd=this._spinToTimeStart+t,this._spinToEasingFunction=l||ri,this.refresh()}stop(){this._rotationSpeed=0,this._spinToTimeEnd=void 0}getActualBorderWidth(){return this.borderWidth/500*this._size}getActualPixelRatio(){return this._pixelRatio!==0?this._pixelRatio:window.devicePixelRatio}wheelHitTest(e={x:0,y:0}){let t=Me(e,this.canvas,this.getActualPixelRatio());return $t(t,this._center.x,this._center.y,this._actualRadius)}refreshCursor(){if(this.isInteractive){if(this.isDragging){this.canvas.style.cursor="grabbing";return}if(this.isCursorOverWheel){this.canvas.style.cursor="grab";return}}this.canvas.style.cursor=""}getAngleFromCenter(e={x:0,y:0}){return(ei(this._center.x,this._center.y,e.x,e.y)+90)%360}getCurrentIndex(){return this._currentIndex}refreshCurrentIndex(e=[]){this._items.length===0&&(this._currentIndex=-1);for(let[t,l]of e.entries())if(Zt(this._pointerAngle,l.start%360,l.end%360)){if(this._currentIndex===t)break;this._currentIndex=t,this._isInitialising||this.raiseEvent_onCurrentIndexChange();break}}getItemAngles(e=0){let t=0;for(let s of this.items)t+=s.weight;let l=360/t,i,r=e,n=[];for(let s of this._items)i=s.weight*l,n.push({start:r,end:r+i}),r+=i;return this._items.length>1&&(n[n.length-1].end=n[0].start+360),n}refresh(){this._frameRequestId===null&&(this._frameRequestId=window.requestAnimationFrame(this.draw.bind(this)))}limitSpeed(e=0,t=0){let l=Math.min(e,t);return Math.max(l,-t)}setSpeedSpeed(e=0,t=""){this.stop(),this._rotationSpeed=this.limitSpeed(e,this._rotationSpeedMax),this._rotationDirection=this._rotationSpeed>=0?1:-1,this._rotationSpeed!==0&&this.raiseEvent_onSpin({method:t,rotationSpeed:this._rotationSpeed,rotationResistance:this._rotationResistance}),this.refresh()}get borderColor(){return this._borderColor}set borderColor(e){this._borderColor=W({val:e,isValid:typeof e=="string",errorMessage:"Wheel.borderColor must be a string",defaultValue:k.wheel.borderColor}),this.refresh()}get borderWidth(){return this._borderWidth}set borderWidth(e){this._borderWidth=W({val:e,isValid:Z(e),errorMessage:"Wheel.borderWidth must be a number",defaultValue:k.wheel.borderWidth}),this.refresh()}get debug(){return this._debug}set debug(e){this._debug=W({val:e,isValid:typeof e=="boolean",errorMessage:"Wheel.debug must be a boolean",defaultValue:k.wheel.debug}),this.refresh()}get image(){var e,t;return(t=(e=this._image)==null?void 0:e.src)!=null?t:null}set image(e){this._image=W({val:e,isValid:typeof e=="string"||e===null,errorMessage:"Wheel.image must be a url (string) or null",defaultValue:k.wheel.image,action:()=>{if(e===null)return null;let t=new Image;return t.src=e,t.onload=l=>this.refresh(),t}}),this.refresh()}get isInteractive(){return this._isInteractive}set isInteractive(e){this._isInteractive=W({val:e,isValid:typeof e=="boolean",errorMessage:"Wheel.isInteractive must be a boolean",defaultValue:k.wheel.isInteractive}),this.refreshCursor()}get itemBackgroundColors(){return this._itemBackgroundColors}set itemBackgroundColors(e){this._itemBackgroundColors=W({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemBackgroundColors must be an array",defaultValue:k.wheel.itemBackgroundColors}),this.refresh()}get itemLabelAlign(){return this._itemLabelAlign}set itemLabelAlign(e){this._itemLabelAlign=W({val:e,isValid:typeof e=="string",errorMessage:"Wheel.itemLabelAlign must be a string",defaultValue:k.wheel.itemLabelAlign}),this.refresh()}get itemLabelBaselineOffset(){return this._itemLabelBaselineOffset}set itemLabelBaselineOffset(e){this._itemLabelBaselineOffset=W({val:e,isValid:Z(e),errorMessage:"Wheel.itemLabelBaselineOffset must be a number",defaultValue:k.wheel.itemLabelBaselineOffset}),this.resize()}get itemLabelColors(){return this._itemLabelColors}set itemLabelColors(e){this._itemLabelColors=W({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemLabelColors must be an array",defaultValue:k.wheel.itemLabelColors}),this.refresh()}get itemLabelFont(){return this._itemLabelFont}set itemLabelFont(e){this._itemLabelFont=W({val:e,isValid:typeof e=="string",errorMessage:"Wheel.itemLabelFont must be a string",defaultValue:k.wheel.itemLabelFont}),this.resize()}get itemLabelFontSizeMax(){return this._itemLabelFontSizeMax}set itemLabelFontSizeMax(e){this._itemLabelFontSizeMax=W({val:e,isValid:Z(e),errorMessage:"Wheel.itemLabelFontSizeMax must be a number",defaultValue:k.wheel.itemLabelFontSizeMax}),this.resize()}get itemLabelRadius(){return this._itemLabelRadius}set itemLabelRadius(e){this._itemLabelRadius=W({val:e,isValid:Z(e),errorMessage:"Wheel.itemLabelRadius must be a number",defaultValue:k.wheel.itemLabelRadius}),this.resize()}get itemLabelRadiusMax(){return this._itemLabelRadiusMax}set itemLabelRadiusMax(e){this._itemLabelRadiusMax=W({val:e,isValid:Z(e),errorMessage:"Wheel.itemLabelRadiusMax must be a number",defaultValue:k.wheel.itemLabelRadiusMax}),this.resize()}get itemLabelRotation(){return this._itemLabelRotation}set itemLabelRotation(e){this._itemLabelRotation=W({val:e,isValid:Z(e),errorMessage:"Wheel.itemLabelRotation must be a number",defaultValue:k.wheel.itemLabelRotation}),this.refresh()}get items(){return this._items}set items(e){this._items=W({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.items must be an array of Items",defaultValue:k.wheel.items,action:()=>{let t=[];for(let l of e)t.push(new ui(this,{backgroundColor:l.backgroundColor,image:l.image,imageRadius:l.imageRadius,imageRotation:l.imageRotation,imageScale:l.imageScale,label:l.label,labelColor:l.labelColor,value:l.value,weight:l.weight}));return t}}),this.refreshCurrentIndex(this.getItemAngles(this._rotation))}get lineColor(){return this._lineColor}set lineColor(e){this._lineColor=W({val:e,isValid:typeof e=="string",errorMessage:"Wheel.lineColor must be a string",defaultValue:k.wheel.lineColor}),this.refresh()}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=W({val:e,isValid:Z(e),errorMessage:"Wheel.lineWidth must be a number",defaultValue:k.wheel.lineWidth}),this.refresh()}get offset(){return this._offset}set offset(e){this._offset=W({val:e,isValid:Le(e),errorMessage:"Wheel.offset must be an object",defaultValue:k.wheel.offset}),this.resize()}get onCurrentIndexChange(){return this._onCurrentIndexChange}set onCurrentIndexChange(e){this._onCurrentIndexChange=W({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onCurrentIndexChange must be a function or null",defaultValue:k.wheel.onCurrentIndexChange})}get onRest(){return this._onRest}set onRest(e){this._onRest=W({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onRest must be a function or null",defaultValue:k.wheel.onRest})}get onSpin(){return this._onSpin}set onSpin(e){this._onSpin=W({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onSpin must be a function or null",defaultValue:k.wheel.onSpin})}get overlayImage(){var e,t;return(t=(e=this._overlayImage)==null?void 0:e.src)!=null?t:null}set overlayImage(e){this._overlayImage=W({val:e,isValid:typeof e=="string"||e===null,errorMessage:"Wheel.overlayImage must be a url (string) or null",defaultValue:k.wheel.overlayImage,action:()=>{if(e===null)return null;let t=new Image;return t.src=e,t.onload=l=>this.refresh(),t}}),this.refresh()}get pixelRatio(){return this._pixelRatio}set pixelRatio(e){this._pixelRatio=W({val:e,isValid:Z(e),errorMessage:"Wheel.pixelRatio must be a number",defaultValue:k.wheel.pixelRatio}),this.resize()}get pointerAngle(){return this._pointerAngle}set pointerAngle(e){this._pointerAngle=W({val:e,isValid:Z(e)&&e>=0,errorMessage:"Wheel.pointerAngle must be a number between 0 and 360",defaultValue:k.wheel.pointerAngle,action:()=>e%360}),this.debug&&this.refresh()}get radius(){return this._radius}set radius(e){this._radius=W({val:e,isValid:Z(e),errorMessage:"Wheel.radius must be a number",defaultValue:k.wheel.radius}),this.resize()}get rotation(){return this._rotation}set rotation(e){this._rotation=W({val:e,isValid:Z(e),errorMessage:"Wheel.rotation must be a number",defaultValue:k.wheel.rotation}),this.refreshCurrentIndex(this.getItemAngles(this._rotation)),this.refresh()}get rotationResistance(){return this._rotationResistance}set rotationResistance(e){this._rotationResistance=W({val:e,isValid:Z(e),errorMessage:"Wheel.rotationResistance must be a number",defaultValue:k.wheel.rotationResistance})}get rotationSpeed(){return this._rotationSpeed}get rotationSpeedMax(){return this._rotationSpeedMax}set rotationSpeedMax(e){this._rotationSpeedMax=W({val:e,isValid:Z(e)&&e>=0,errorMessage:"Wheel.rotationSpeedMax must be a number >= 0",defaultValue:k.wheel.rotationSpeedMax})}dragStart(e={x:0,y:0}){let t=Me(e,this.canvas,this.getActualPixelRatio());this.isDragging=!0,this.stop(),this.dragEvents=[{distance:0,x:t.x,y:t.y,now:performance.now()}],this.refreshCursor()}dragMove(e={x:0,y:0}){let t=Me(e,this.canvas,this.getActualPixelRatio()),l=this.getAngleFromCenter(t),i=this.dragEvents[0],r=this.getAngleFromCenter(i),n=ii(r,l);this.dragEvents.unshift({distance:n,x:t.x,y:t.y,now:performance.now()}),this.debug&&this.dragEvents.length>=40&&this.dragEvents.pop(),this.rotation+=n}dragEnd(){this.isDragging=!1;let e=0,t=performance.now();for(let[l,i]of this.dragEvents.entries()){if(!this.isDragEventTooOld(t,i)){e+=i.distance;continue}this.dragEvents.length=l;break}this.refreshCursor(),e!==0&&this.setSpeedSpeed(e*(1e3/250),"interact")}isDragEventTooOld(e=0,t={}){return e-t.now>250}raiseEvent_onCurrentIndexChange(e={}){var t;(t=this.onCurrentIndexChange)==null||t.call(this,Se({type:"currentIndexChange",currentIndex:this._currentIndex},e))}raiseEvent_onRest(e={}){var t;(t=this.onRest)==null||t.call(this,Se({type:"rest",currentIndex:this._currentIndex,rotation:this._rotation},e))}raiseEvent_onSpin(e={}){var t;(t=this.onSpin)==null||t.call(this,Se({type:"spin"},e))}},Mt={exports:{}};(function(e,t){(function(i,r){e.exports=r()})(jt,function(){return function(){var l={165:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.abs=void 0;function h(_){return(typeof _=="number"||typeof _=="bigint")&&(_=_.toString()),_[0]=="-"?_.substring(1):_}a.abs=h},217:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.pad=a.trim=a.add=void 0;function h(f,A){var v;A===void 0&&(A="0");var m=0,I=-1;f[0]=="-"&&(f=f.substring(1),u(f)||(m++,I=1,f.length)),A[0]=="-"&&(A=A.substring(1),u(A)||(m++,I=2,A.length)),f=b(f),A=b(A),v=c(b(f),b(A)),f=v[0],A=v[1],m==1&&(I===1?f=_(f):I===2&&(A=_(A)));var g=o(f,A);return m?m==2?"-"+b(g):f.length<g.length?b(g.substring(1)):"-"+b(_(g)):b(g)}a.add=h;function _(f){if(u(f))return f;for(var A="",v=f.length,m=f.split(".")[1],I=m?m.length:0,g=0;g<v;g++)f[g]>="0"&&f[g]<="9"?A+=9-parseInt(f[g]):A+=f[g];var d=I>0?"0."+new Array(I).join("0")+"1":"1";return o(A,d)}function b(f){var A=f.split(".");for(A[0]||(A[0]="0");A[0][0]=="0"&&A[0].length>1;)A[0]=A[0].substring(1);return A[0]+(A[1]?"."+A[1]:"")}a.trim=b;function c(f,A){var v=f.split("."),m=A.split("."),I=v[0].length,g=m[0].length;return I>g?m[0]=new Array(Math.abs(I-g)+1).join("0")+(m[0]?m[0]:""):v[0]=new Array(Math.abs(I-g)+1).join("0")+(v[0]?v[0]:""),I=v[1]?v[1].length:0,g=m[1]?m[1].length:0,(I||g)&&(I>g?m[1]=(m[1]?m[1]:"")+new Array(Math.abs(I-g)+1).join("0"):v[1]=(v[1]?v[1]:"")+new Array(Math.abs(I-g)+1).join("0")),f=v[0]+(v[1]?"."+v[1]:""),A=m[0]+(m[1]?"."+m[1]:""),[f,A]}a.pad=c;function o(f,A){var v;v=c(f,A),f=v[0],A=v[1];for(var m="",I=0,g=f.length-1;g>=0;g--){if(f[g]==="."){m="."+m;continue}var d=parseInt(f[g])+parseInt(A[g])+I;m=d%10+m,I=Math.floor(d/10)}return I?I.toString()+m:m}function u(f){return/^0[0]*[.]{0,1}[0]*$/.test(f)}},423:function(s,a,h){var _=h(217),b=h(165),c=h(350),o=h(182),u=h(415),f=h(213),A=h(664),v=h(26),m=h(916),I=function(){function g(d){d===void 0&&(d="0"),this.value=g.validate(d)}return g.validate=function(d){if(d){if(d=d.toString(),isNaN(d))throw Error("Parameter is not a number: "+d);d[0]=="+"&&(d=d.substring(1))}else d="0";if(d.startsWith(".")?d="0"+d:d.startsWith("-.")&&(d="-0"+d.substr(1)),/e/i.test(d)){var w=d.split(/[eE]/),y=w[0],x=w[1];y=(0,_.trim)(y);var M="";y[0]=="-"&&(M="-",y=y.substring(1)),y.indexOf(".")>=0?(x=parseInt(x)+y.indexOf("."),y=y.replace(".","")):x=parseInt(x)+y.length,y.length<x?d=M+y+new Array(x-y.length+1).join("0"):y.length>=x&&x>0?d=M+(0,_.trim)(y.substring(0,x))+(y.length>x?"."+y.substring(x):""):d=M+"0."+new Array(-x+1).join("0")+y}return d},g.prototype.getValue=function(){return this.value},g.prototype.setValue=function(d){this.value=g.validate(d)},g.getPrettyValue=function(d,w,y){if(!(w||y))w=3,y=",";else if(!(w&&y))throw Error("Illegal Arguments. Should pass both digits and separator or pass none");d=g.validate(d);var x=d.charAt(0)=="-";x&&(d=d.substring(1));var M=d.indexOf(".");M=M>0?M:d.length;for(var z="",G=M;G>0;)G<w?(w=G,G=0):G-=w,z=d.substring(G,G+w)+(G<M-w&&G>=0?y:"")+z;return(x?"-":"")+z+d.substring(M)},g.prototype.getPrettyValue=function(d,w){return g.getPrettyValue(this.value,d,w)},g.round=function(d,w,y){if(w===void 0&&(w=0),y===void 0&&(y=m.RoundingModes.HALF_EVEN),d=g.validate(d),isNaN(w))throw Error("Precision is not a number: "+w);return(0,c.roundOff)(d,w,y)},g.prototype.round=function(d,w){if(d===void 0&&(d=0),w===void 0&&(w=m.RoundingModes.HALF_EVEN),isNaN(d))throw Error("Precision is not a number: "+d);return new g((0,c.roundOff)(this.value,d,w))},g.abs=function(d){return d=g.validate(d),(0,b.abs)(d)},g.prototype.abs=function(){return new g((0,b.abs)(this.value))},g.floor=function(d){return d=g.validate(d),d.indexOf(".")===-1?d:g.round(d,0,m.RoundingModes.FLOOR)},g.prototype.floor=function(){return this.value.indexOf(".")===-1?new g(this.value):new g(this.value).round(0,m.RoundingModes.FLOOR)},g.ceil=function(d){return d=g.validate(d),d.indexOf(".")===-1?d:g.round(d,0,m.RoundingModes.CEILING)},g.prototype.ceil=function(){return this.value.indexOf(".")===-1?new g(this.value):new g(this.value).round(0,m.RoundingModes.CEILING)},g.add=function(d,w){return d=g.validate(d),w=g.validate(w),(0,_.add)(d,w)},g.prototype.add=function(d){return new g((0,_.add)(this.value,d.getValue()))},g.subtract=function(d,w){return d=g.validate(d),w=g.validate(w),(0,v.subtract)(d,w)},g.prototype.subtract=function(d){return new g((0,v.subtract)(this.value,d.getValue()))},g.multiply=function(d,w){return d=g.validate(d),w=g.validate(w),(0,o.multiply)(d,w)},g.prototype.multiply=function(d){return new g((0,o.multiply)(this.value,d.getValue()))},g.divide=function(d,w,y){return d=g.validate(d),w=g.validate(w),(0,u.divide)(d,w,y)},g.prototype.divide=function(d,w){return new g((0,u.divide)(this.value,d.getValue(),w))},g.modulus=function(d,w){return d=g.validate(d),w=g.validate(w),(0,f.modulus)(d,w)},g.prototype.modulus=function(d){return new g((0,f.modulus)(this.value,d.getValue()))},g.compareTo=function(d,w){return d=g.validate(d),w=g.validate(w),(0,A.compareTo)(d,w)},g.prototype.compareTo=function(d){return(0,A.compareTo)(this.value,d.getValue())},g.negate=function(d){return d=g.validate(d),(0,v.negate)(d)},g.prototype.negate=function(){return new g((0,v.negate)(this.value))},g.RoundingModes=m.RoundingModes,g}();s.exports=I},664:function(s,a,h){Object.defineProperty(a,"__esModule",{value:!0}),a.compareTo=void 0;var _=h(217);function b(c,o){var u,f=!1;if(c[0]=="-"&&o[0]!="-")return-1;if(c[0]!="-"&&o[0]=="-")return 1;if(c[0]=="-"&&o[0]=="-"&&(c=c.substr(1),o=o.substr(1),f=!0),u=(0,_.pad)(c,o),c=u[0],o=u[1],c.localeCompare(o)==0)return 0;for(var A=0;A<c.length;A++)if(c[A]!=o[A])return c[A]>o[A]?f?-1:1:f?1:-1;return 0}a.compareTo=b},415:function(s,a,h){Object.defineProperty(a,"__esModule",{value:!0}),a.divide=void 0;var _=h(217),b=h(350);function c(o,u,f){if(f===void 0&&(f=8),u==0)throw new Error("Cannot divide by 0");if(o=o.toString(),u=u.toString(),o=o.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),u=u.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),o==0)return"0";var A=0;u[0]=="-"&&(u=u.substring(1),A++),o[0]=="-"&&(o=o.substring(1),A++);var v=u.indexOf(".")>0?u.length-u.indexOf(".")-1:-1;if(u=(0,_.trim)(u.replace(".","")),v>=0){var m=o.indexOf(".")>0?o.length-o.indexOf(".")-1:-1;if(m==-1)o=(0,_.trim)(o+new Array(v+1).join("0"));else if(v>m)o=o.replace(".",""),o=(0,_.trim)(o+new Array(v-m+1).join("0"));else if(v<m){o=o.replace(".","");var I=o.length-m+v;o=(0,_.trim)(o.substring(0,I)+"."+o.substring(I))}else v==m&&(o=(0,_.trim)(o.replace(".","")))}var g=0,d=u.length,w="",y=o.indexOf(".")>-1&&o.indexOf(".")<d?o.substring(0,d+1):o.substring(0,d);if(o=o.indexOf(".")>-1&&o.indexOf(".")<d?o.substring(d+1):o.substring(d),y.indexOf(".")>-1){var x=y.length-y.indexOf(".")-1;y=y.replace(".",""),d>y.length&&(x+=d-y.length,y=y+new Array(d-y.length+1).join("0")),g=x,w="0."+new Array(x).join("0")}for(f=f+2;g<=f;){for(var M=0;parseInt(y)>=parseInt(u);)y=(0,_.add)(y,"-"+u),M++;w+=M,o?(o[0]=="."&&(w+=".",g++,o=o.substring(1)),y=y+o.substring(0,1),o=o.substring(1)):(g||(w+="."),g++,y=y+"0")}return(A==1?"-":"")+(0,_.trim)((0,b.roundOff)(w,f-2))}a.divide=c},213:function(s,a,h){Object.defineProperty(a,"__esModule",{value:!0}),a.modulus=void 0;var _=h(415),b=h(350),c=h(182),o=h(26),u=h(916);function f(v,m){if(m==0)throw new Error("Cannot divide by 0");v=v.toString(),m=m.toString(),A(v),A(m);var I="";v[0]=="-"&&(I="-",v=v.substr(1)),m[0]=="-"&&(m=m.substr(1));var g=(0,o.subtract)(v,(0,c.multiply)(m,(0,b.roundOff)((0,_.divide)(v,m),0,u.RoundingModes.FLOOR)));return I+g}a.modulus=f;function A(v){if(v.indexOf(".")!=-1)throw new Error("Modulus of non-integers not supported")}},182:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.multiply=void 0;function h(c,o){c=c.toString(),o=o.toString();var u=0;c[0]=="-"&&(u++,c=c.substr(1)),o[0]=="-"&&(u++,o=o.substr(1)),c=b(c),o=b(o);var f=0,A=0;c.indexOf(".")!=-1&&(f=c.length-c.indexOf(".")-1),o.indexOf(".")!=-1&&(A=o.length-o.indexOf(".")-1);var v=f+A;if(c=b(c.replace(".","")),o=b(o.replace(".","")),c.length<o.length){var m=c;c=o,o=m}if(o=="0")return"0";for(var I=o.length,g=0,d=[],w=I-1,y="",x=0;x<I;x++)d[x]=c.length-1;for(var x=0;x<2*c.length;x++){for(var M=0,z=o.length-1;z>=w&&z>=0;z--)d[z]>-1&&d[z]<c.length&&(M+=parseInt(c[d[z]--])*parseInt(o[z]));M+=g,g=Math.floor(M/10),y=M%10+y,w--}return y=b(_(y,v)),u==1&&(y="-"+y),y}a.multiply=h;function _(c,o){return o==0?c:(c=o>=c.length?new Array(o-c.length+1).join("0")+c:c,c.substr(0,c.length-o)+"."+c.substr(c.length-o,o))}function b(c){for(;c[0]=="0";)c=c.substr(1);if(c.indexOf(".")!=-1)for(;c[c.length-1]=="0";)c=c.substr(0,c.length-1);return c==""||c=="."?c="0":c[c.length-1]=="."&&(c=c.substr(0,c.length-1)),c[0]=="."&&(c="0"+c),c}},350:function(s,a,h){Object.defineProperty(a,"__esModule",{value:!0}),a.roundOff=void 0;var _=h(916);function b(u,f,A){if(f===void 0&&(f=0),A===void 0&&(A=_.RoundingModes.HALF_EVEN),A===_.RoundingModes.UNNECESSARY)throw new Error("UNNECESSARY Rounding Mode has not yet been implemented");(typeof u=="number"||typeof u=="bigint")&&(u=u.toString());var v=!1;u[0]==="-"&&(v=!0,u=u.substring(1));var m=u.split("."),I=m[0],g=m[1];if(f<0){if(f=-f,I.length<=f)return"0";var d=I.substr(0,I.length-f);return u=d+"."+I.substr(I.length-f)+g,d=b(u,0,A),(v?"-":"")+d+new Array(f+1).join("0")}if(f==0)return I.length,c(m[1],I,v,A)&&(I=o(I)),(v&&parseInt(I)?"-":"")+I;if(m[1]){if(m[1].length<f)return(v?"-":"")+I+"."+m[1]+new Array(f-m[1].length+1).join("0")}else return(v?"-":"")+I+"."+new Array(f+1).join("0");g=m[1].substring(0,f);var w=m[1].substring(f);return w&&c(w,g,v,A)&&(g=o(g),g.length>f)?(v?"-":"")+o(I,parseInt(g[0]))+"."+g.substring(1):(v&&(parseInt(I)||parseInt(g))?"-":"")+I+"."+g}a.roundOff=b;function c(u,f,A,v){if(!u||u===new Array(u.length+1).join("0")||v===_.RoundingModes.DOWN||!A&&v===_.RoundingModes.FLOOR||A&&v===_.RoundingModes.CEILING)return!1;if(v===_.RoundingModes.UP||A&&v===_.RoundingModes.FLOOR||!A&&v===_.RoundingModes.CEILING)return!0;var m="5"+new Array(u.length).join("0");if(u>m)return!0;if(u<m)return!1;switch(v){case _.RoundingModes.HALF_DOWN:return!1;case _.RoundingModes.HALF_UP:return!0;case _.RoundingModes.HALF_EVEN:default:return parseInt(f[f.length-1])%2==1}}function o(u,f){f===void 0&&(f=0),f||(f=1),typeof u=="number"&&u.toString();for(var A=u.length-1,v="",m=A;m>=0;m--){var I=parseInt(u[m])+f;I==10?(f=1,I=0):f=0,v+=I}return f&&(v+=f),v.split("").reverse().join("")}},916:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.RoundingModes=void 0,function(h){h[h.CEILING=0]="CEILING",h[h.DOWN=1]="DOWN",h[h.FLOOR=2]="FLOOR",h[h.HALF_DOWN=3]="HALF_DOWN",h[h.HALF_EVEN=4]="HALF_EVEN",h[h.HALF_UP=5]="HALF_UP",h[h.UNNECESSARY=6]="UNNECESSARY",h[h.UP=7]="UP"}(a.RoundingModes||(a.RoundingModes={}))},26:function(s,a,h){Object.defineProperty(a,"__esModule",{value:!0}),a.negate=a.subtract=void 0;var _=h(217);function b(o,u){return o=o.toString(),u=u.toString(),u=c(u),(0,_.add)(o,u)}a.subtract=b;function c(o){return o[0]=="-"?o=o.substr(1):o="-"+o,o}a.negate=c}},i={};function r(s){var a=i[s];if(a!==void 0)return a.exports;var h=i[s]={exports:{}};return l[s](h,h.exports,r),h.exports}var n=r(423);return n}()})})(Mt);var ci=Mt.exports;const ke=zt(ci);function He(e,t,l){const i=e.slice();i[6]=t[l];const r=St(i[6]);return i[7]=r,i}function Ue(e){let t,l=re(e[0].effects),i=[];for(let r=0;r<l.length;r+=1)i[r]=qe(He(e,l,r));return{c(){t=L("ul");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){t=R(r,"UL",{class:!0});var n=V(t);for(let s=0;s<i.length;s+=1)i[s].l(n);n.forEach(p),this.h()},h(){E(t,"class","list svelte-1ut37ec")},m(r,n){S(r,t,n);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(t,null)},p(r,n){if(n&1){l=re(r[0].effects);let s;for(s=0;s<l.length;s+=1){const a=He(r,l,s);i[s]?i[s].p(a,n):(i[s]=qe(a),i[s].c(),i[s].m(t,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=l.length}},d(r){r&&p(t),Ie(i,r)}}}function qe(e){let t,l=e[7]+"",i;return{c(){t=L("li"),i=$(l),this.h()},l(r){t=R(r,"LI",{class:!0});var n=V(t);i=ee(n,l),n.forEach(p),this.h()},h(){E(t,"class","caption whitespace-pre-wrap text-sm")},m(r,n){S(r,t,n),C(t,i)},p(r,n){n&1&&l!==(l=r[7]+"")&&ce(i,l)},d(r){r&&p(t)}}}function di(e){let t,l,i,r=(e[0].text??"")+"",n,s,a,h,_,b,c,o,u=e[0].effects!==void 0&&Ue(e);return{c(){t=L("div"),l=L("div"),i=L("div"),n=$(r),s=B(),u&&u.c(),h=B(),_=L("div"),b=L("div"),c=$(e[2]),o=$("%"),this.h()},l(f){t=R(f,"DIV",{class:!0});var A=V(t);l=R(A,"DIV",{class:!0,style:!0});var v=V(l);i=R(v,"DIV",{class:!0});var m=V(i);n=ee(m,r),m.forEach(p),s=j(v),u&&u.l(v),v.forEach(p),h=j(A),_=R(A,"DIV",{class:!0});var I=V(_);b=R(I,"DIV",{class:!0});var g=V(b);c=ee(g,e[2]),o=ee(g,"%"),g.forEach(p),I.forEach(p),A.forEach(p),this.h()},h(){E(i,"class","mb-[0.25em] leading-5"),E(l,"class","flex flex-col outcome-left pl-[0.75em] svelte-1ut37ec"),E(l,"style",a=`border-left: 8px solid ${e[1]}`),E(b,"class","caption"),E(_,"class","flex flex-col justify-center w-[5.5em] text-right"),E(t,"class","flex flex-row justify-between space-x-[1em]")},m(f,A){S(f,t,A),C(t,l),C(l,i),C(i,n),C(l,s),u&&u.m(l,null),C(t,h),C(t,_),C(_,b),C(b,c),C(b,o)},p(f,[A]){A&1&&r!==(r=(f[0].text??"")+"")&&ce(n,r),f[0].effects!==void 0?u?u.p(f,A):(u=Ue(f),u.c(),u.m(l,null)):u&&(u.d(1),u=null),A&2&&a!==(a=`border-left: 8px solid ${f[1]}`)&&E(l,"style",a)},i:se,o:se,d(f){f&&p(t),u&&u.d()}}}function gi(e,t,l){let{outcomeData:i}=t,{settings:r}=t,{userRole:n}=t,{totalPercentage:s}=t,{color:a}=t,h=r.hiddenPercentages&&n!=="keyholder"?"???":new ke(i.percentage).divide(new ke(s),8).multiply(new ke(100)).round(3).getValue().replace(/\.0+$|([^\.])0+$/,"$1");return e.$$set=_=>{"outcomeData"in _&&l(0,i=_.outcomeData),"settings"in _&&l(3,r=_.settings),"userRole"in _&&l(4,n=_.userRole),"totalPercentage"in _&&l(5,s=_.totalPercentage),"color"in _&&l(1,a=_.color)},[i,a,h,r,n,s]}class kt extends yt{constructor(t){super(),It(this,t,gi,di,fe,{outcomeData:0,settings:3,userRole:4,totalPercentage:5,color:1})}}function Je(e,t,l){const i=e.slice();i[37]=t[l],i[41]=l;const r=i[41]-Math.floor(i[41]/i[10].length)*i[10].length;i[38]=r;const n=i[10][i[38]];return i[39]=n,i}function Ye(e){const t=e.slice(),l=t[32].outcomes.reduce((r,n)=>r+=parseFloat(n.percentage),0);t[35]=l;const i=!t[3]&&t[2]==="keyholder";return t[36]=i,t}function Qe(e,t,l){const i=e.slice();i[37]=t[l],i[41]=l;const r=i[41]-Math.floor(i[41]/i[10].length)*i[10].length;i[38]=r;const n=i[10][i[38]];return i[39]=n,i}function Ge(e){const t=e.slice(),l=t[32].outcomes.reduce((i,r)=>i+=parseFloat(r.percentage),0);return t[35]=l,t}function Ke(e,t,l){const i=e.slice();return i[43]=t[l][0],i[32]=t[l][1],i}function Ze(e,t,l){const i=e.slice();i[46]=t[l];const r=St(i[46]);return i[47]=r,i}function _i(e){const t=e.slice(),l=t[6].wheels[t[0]];t[32]=l;const i=t[4]||t[32].settings.disabled===!0;t[33]=i;const r=t[9]===""||t[2]==="keyholder";return t[34]=r,t}function Ai(e){let t,l,i,r,n='<h4 class="mb-0">[üçì] Extended Wheel of Fortune</h4> <span class="caption">Developer: <a href="https://chaster.app/user/strawberria" target="_blank">@strawberria</a></span>',s,a,h=`Try your luck and spin the <b>extended</b> wheel of fortune! <br/>
                        Now supporting additional actions and multiple wheels with individual cooldowns!`,_,b=e[0],c,o,u,f,A="Select",v,m,I="Choose which wheel to spin with",g,d,w,y,x,M,z,G,Ae=e[17]?" the wheel":"",de,he,ge,ve,me,ue,pe,O,F=it(e),U=re(Object.entries(e[6].wheels)),P=[];for(let D=0;D<U.length;D+=1)P[D]=st(Ke(e,U,D));let K=!e[17]&&mi(Ge(e)),Q=e[17]&&bi(Ye(e));return{c(){t=L("div"),l=L("div"),i=L("div"),r=L("div"),r.innerHTML=n,s=B(),a=L("div"),a.innerHTML=h,_=B(),F.c(),c=B(),o=L("div"),u=L("div"),f=L("div"),f.textContent=A,v=B(),m=L("div"),m.textContent=I,g=B(),d=L("div"),w=L("select");for(let D=0;D<P.length;D+=1)P[D].c();y=B(),x=L("div"),M=L("button"),z=L("span"),G=$("Spin"),de=$(Ae),he=$("!"),ve=B(),K&&K.c(),me=B(),Q&&Q.c(),this.h()},l(D){t=R(D,"DIV",{class:!0});var Y=V(t);l=R(Y,"DIV",{class:!0});var T=V(l);i=R(T,"DIV",{class:!0});var J=V(i);r=R(J,"DIV",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-1pyx1qx"&&(r.innerHTML=n),s=j(J),a=R(J,"DIV",{class:!0,"data-svelte-h":!0}),X(a)!=="svelte-1b8f23k"&&(a.innerHTML=h),_=j(J),F.l(J),c=j(J),o=R(J,"DIV",{class:!0});var _e=V(o);u=R(_e,"DIV",{class:!0});var oe=V(u);f=R(oe,"DIV",{"data-svelte-h":!0}),X(f)!=="svelte-80uym4"&&(f.textContent=A),v=j(oe),m=R(oe,"DIV",{class:!0,"data-svelte-h":!0}),X(m)!=="svelte-nnb33a"&&(m.textContent=I),g=j(oe),d=R(oe,"DIV",{class:!0});var Ve=V(d);w=R(Ve,"SELECT",{class:!0});var De=V(w);for(let Re=0;Re<P.length;Re+=1)P[Re].l(De);De.forEach(p),Ve.forEach(p),oe.forEach(p),y=j(_e),x=R(_e,"DIV",{class:!0});var Oe=V(x);M=R(Oe,"BUTTON",{type:!0,class:!0});var Te=V(M);z=R(Te,"SPAN",{});var Ce=V(z);G=ee(Ce,"Spin"),de=ee(Ce,Ae),he=ee(Ce,"!"),Ce.forEach(p),Te.forEach(p),Oe.forEach(p),_e.forEach(p),ve=j(J),K&&K.l(J),J.forEach(p),me=j(T),Q&&Q.l(T),T.forEach(p),Y.forEach(p),this.h()},h(){E(r,"class","flex items-end justify-between mb-2"),le(r,"flex-row",e[17]),le(r,"flex-col",!e[17]),le(r,"space-x-1",e[17]),le(r,"items-end",e[17]),E(a,"class","caption mb-2"),E(m,"class","caption mb-[0.5em]"),E(w,"class","form-control"),e[0]===void 0&&bt(()=>e[21].call(w)),E(d,"class","w-full"),E(u,"class","grow"),E(M,"type","button"),E(M,"class","btn btn-primary btn-lg"),M.disabled=ge=e[33]||!e[34],E(x,"class","flex flex-col justify-center space-y-[0.5em] max-w-[12em]"),le(x,"mx-4",e[17]),le(x,"mx-2",!e[17]),E(o,"class","w-full flex flex-row items-stretch space-x-4"),E(i,"class","h-full flex flex-col svelte-nhh4rm"),le(i,"card-horizontal",e[17]),E(l,"class","w-full h-full flex flex-row"),E(t,"class","card-content grow svelte-nhh4rm"),le(t,"card-wrapper-desktop",e[17])},m(D,Y){S(D,t,Y),C(t,l),C(l,i),C(i,r),C(i,s),C(i,a),C(i,_),F.m(i,null),C(i,c),C(i,o),C(o,u),C(u,f),C(u,v),C(u,m),C(u,g),C(u,d),C(d,w);for(let T=0;T<P.length;T+=1)P[T]&&P[T].m(w,null);We(w,e[0],!0),C(o,y),C(o,x),C(x,M),C(M,z),C(z,G),C(z,de),C(z,he),C(i,ve),K&&K.m(i,null),C(l,me),Q&&Q.m(l,null),ue=!0,pe||(O=[xe(w,"change",e[21]),xe(M,"click",e[16])],pe=!0)},p(D,Y){if(Y[0]&1&&fe(b,b=D[0])?(F.d(1),F=it(D),F.c(),F.m(i,c)):F.p(D,Y),Y[0]&64){U=re(Object.entries(D[6].wheels));let T;for(T=0;T<U.length;T+=1){const J=Ke(D,U,T);P[T]?P[T].p(J,Y):(P[T]=st(J),P[T].c(),P[T].m(w,null))}for(;T<P.length;T+=1)P[T].d(1);P.length=U.length}Y[0]&65&&We(w,D[0]),(!ue||Y[0]&597&&ge!==(ge=D[33]||!D[34]))&&(M.disabled=ge),D[17]||K.p(Ge(D),Y),D[17]&&Q.p(Ye(D),Y)},i(D){ue||(N(K),N(Q),ue=!0)},o(D){H(K),H(Q),ue=!1},d(D){D&&p(t),F.d(D),Ie(P,D),K&&K.d(),Q&&Q.d(),pe=!1,Dt(O)}}}function vi(e){let t,l,i,r,n,s;return{c(){t=L("div"),l=L("img"),r=B(),n=L("div"),s=$(e[1]),this.h()},l(a){t=R(a,"DIV",{class:!0});var h=V(t);l=R(h,"IMG",{src:!0,alt:!0}),r=j(h),n=R(h,"DIV",{class:!0});var _=V(n);s=ee(_,e[1]),_.forEach(p),h.forEach(p),this.h()},h(){Ot(l.src,i=Pt)||E(l,"src",i),E(l,"alt","Chaster logo"),E(n,"class","mt-4 caption text-lg"),E(t,"class","w-full h-screen flex flex-col items-center justify-center")},m(a,h){S(a,t,h),C(t,l),C(t,r),C(t,n),C(n,s)},p(a,h){h[0]&2&&ce(s,a[1])},i:se,o:se,d(a){a&&p(t)}}}function Xe(e){let t,l,i,r=(e[8].text??"")+"",n,s,a,h,_="[ Click anywhere to close ]",b,c,o=e[8].effects!==void 0&&$e(e);return{c(){t=L("div"),l=L("div"),i=L("div"),n=$(r),s=B(),o&&o.c(),a=B(),h=L("div"),h.textContent=_,this.h()},l(u){t=R(u,"DIV",{class:!0});var f=V(t);l=R(f,"DIV",{class:!0});var A=V(l);i=R(A,"DIV",{});var v=V(i);n=ee(v,r),v.forEach(p),s=j(A),o&&o.l(A),A.forEach(p),a=j(f),h=R(f,"DIV",{class:!0,"data-svelte-h":!0}),X(h)!=="svelte-ecicjm"&&(h.textContent=_),f.forEach(p),this.h()},h(){E(l,"class","flex flex-col"),E(h,"class","text-sm mt-[1em] w-full text-center cursor-default"),E(t,"class","result svelte-nhh4rm")},m(u,f){S(u,t,f),C(t,l),C(l,i),C(i,n),C(l,s),o&&o.m(l,null),C(t,a),C(t,h),b||(c=xe(t,"click",e[20]),b=!0)},p(u,f){f[0]&256&&r!==(r=(u[8].text??"")+"")&&ce(n,r),u[8].effects!==void 0?o?o.p(u,f):(o=$e(u),o.c(),o.m(l,null)):o&&(o.d(1),o=null)},d(u){u&&p(t),o&&o.d(),b=!1,c()}}}function $e(e){let t,l=re(e[8].effects),i=[];for(let r=0;r<l.length;r+=1)i[r]=et(Ze(e,l,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=q()},l(r){for(let n=0;n<i.length;n+=1)i[n].l(r);t=q()},m(r,n){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(r,n);S(r,t,n)},p(r,n){if(n[0]&256){l=re(r[8].effects);let s;for(s=0;s<l.length;s+=1){const a=Ze(r,l,s);i[s]?i[s].p(a,n):(i[s]=et(a),i[s].c(),i[s].m(t.parentNode,t))}for(;s<i.length;s+=1)i[s].d(1);i.length=l.length}},d(r){r&&p(t),Ie(i,r)}}}function et(e){let t,l,i=e[47]+"",r;return{c(){t=L("div"),l=$("‚Ä¢ "),r=$(i),this.h()},l(n){t=R(n,"DIV",{class:!0});var s=V(t);l=ee(s,"‚Ä¢ "),r=ee(s,i),s.forEach(p),this.h()},h(){E(t,"class","caption whitespace-pre-wrap text-sm")},m(n,s){S(n,t,s),C(t,l),C(t,r)},p(n,s){s[0]&256&&i!==(i=n[47]+"")&&ce(r,i)},d(n){n&&p(t)}}}function tt(e){let t,l;return{c(){t=$("Next spin available in "),l=$(e[9])},l(i){t=ee(i,"Next spin available in "),l=ee(i,e[9])},m(i,r){S(i,t,r),S(i,l,r)},p(i,r){r[0]&512&&ce(l,i[9])},d(i){i&&(p(t),p(l))}}}function it(e){let t,l,i="",r,n,s,a,h,_,b,c=e[8]!==void 0&&Xe(e),o=!e[34]&&tt(e);return{c(){t=L("div"),l=L("div"),l.innerHTML=i,n=B(),s=L("div"),c&&c.c(),a=B(),h=L("p"),o&&o.c(),_=B(),b=L("hr"),this.h()},l(u){t=R(u,"DIV",{class:!0});var f=V(t);l=R(f,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1dgs7up"&&(l.innerHTML=i),n=j(f),s=R(f,"DIV",{class:!0});var A=V(s);c&&c.l(A),A.forEach(p),f.forEach(p),a=j(u),h=R(u,"P",{class:!0});var v=V(h);o&&o.l(v),v.forEach(p),_=j(u),b=R(u,"HR",{}),this.h()},h(){E(l,"class","grow wheel-container h-full svelte-nhh4rm"),bt(()=>e[19].call(l)),le(l,"aspect-square",!e[17]),E(s,"class","absolute top-0 right-0 h-full w-full z-10 flex align-center justify-center items-center"),le(s,"aspect-square",!e[17]),E(t,"class","grow mt-1 wheel-container relative svelte-nhh4rm"),E(h,"class","min-h-[1em] text-center")},m(u,f){S(u,t,f),C(t,l),e[18](l),r=Wt(l,e[19].bind(l)),C(t,n),C(t,s),c&&c.m(s,null),S(u,a,f),S(u,h,f),o&&o.m(h,null),S(u,_,f),S(u,b,f)},p(u,f){u[8]!==void 0?c?c.p(u,f):(c=Xe(u),c.c(),c.m(s,null)):c&&(c.d(1),c=null),u[34]?o&&(o.d(1),o=null):o?o.p(u,f):(o=tt(u),o.c(),o.m(h,null))},d(u){u&&(p(t),p(a),p(h),p(_),p(b)),e[18](null),r(),c&&c.d(),o&&o.d()}}}function lt(e){let t,l=e[32].display+"",i,r;return{c(){t=L("option"),i=$(l),this.h()},l(n){t=R(n,"OPTION",{});var s=V(t);i=ee(s,l),s.forEach(p),this.h()},h(){t.__value=r=e[43],Pe(t,t.__value)},m(n,s){S(n,t,s),C(t,i)},p(n,s){s[0]&64&&l!==(l=n[32].display+"")&&ce(i,l),s[0]&64&&r!==(r=n[43])&&(t.__value=r,Pe(t,t.__value))},d(n){n&&p(t)}}}function st(e){let t,l=e[32].settings.disabled===!1&&lt(e);return{c(){l&&l.c(),t=q()},l(i){l&&l.l(i),t=q()},m(i,r){l&&l.m(i,r),S(i,t,r)},p(i,r){i[32].settings.disabled===!1?l?l.p(i,r):(l=lt(i),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(i){i&&p(t),l&&l.d(i)}}}function mi(e){let t,l,i,r=e[0],n,s=ft(e);return{c(){t=L("hr"),l=B(),i=L("div"),s.c(),this.h()},l(a){t=R(a,"HR",{}),l=j(a),i=R(a,"DIV",{class:!0});var h=V(i);s.l(h),h.forEach(p),this.h()},h(){E(i,"class","h-full flex flex-col")},m(a,h){S(a,t,h),S(a,l,h),S(a,i,h),s.m(i,null),n=!0},p(a,h){h[0]&1&&fe(r,r=a[0])?(ae(),H(s,1,1,se),ne(),s=ft(a),s.c(),N(s,1),s.m(i,null)):s.p(a,h)},i(a){n||(N(s),n=!0)},o(a){H(s),n=!1},d(a){a&&(p(t),p(l),p(i)),s.d(a)}}}function pi(e){let t,l,i=e[32].settings.hiddenEffects===!0&&rt(),r=e[32].settings.hiddenPercentages===!0&&nt();return{c(){i&&i.c(),t=B(),r&&r.c(),l=q()},l(n){i&&i.l(n),t=j(n),r&&r.l(n),l=q()},m(n,s){i&&i.m(n,s),S(n,t,s),r&&r.m(n,s),S(n,l,s)},p(n,s){n[32].settings.hiddenEffects===!0?i||(i=rt(),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),n[32].settings.hiddenPercentages===!0?r||(r=nt(),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},d(n){n&&(p(t),p(l)),i&&i.d(n),r&&r.d(n)}}}function wi(e){let t,l="‚ùó Outcomes Hidden ‚ùó";return{c(){t=L("div"),t.textContent=l,this.h()},l(i){t=R(i,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-fmdfs4"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,r){S(i,t,r)},p:se,d(i){i&&p(t)}}}function rt(e){let t,l="‚ùó Effects Hidden ‚ùó";return{c(){t=L("div"),t.textContent=l,this.h()},l(i){t=R(i,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-136ba5r"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,r){S(i,t,r)},d(i){i&&p(t)}}}function nt(e){let t,l="‚ùó Percentages Hidden ‚ùó";return{c(){t=L("div"),t.textContent=l,this.h()},l(i){t=R(i,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1k907vu"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,r){S(i,t,r)},d(i){i&&p(t)}}}function at(e){let t,l,i=e[6],r,n=ut(e);return{c(){t=L("div"),l=L("div"),n.c(),this.h()},l(s){t=R(s,"DIV",{class:!0});var a=V(t);l=R(a,"DIV",{class:!0});var h=V(l);n.l(h),h.forEach(p),a.forEach(p),this.h()},h(){E(l,"class","flex flex-col space-y-1 items-stretch"),E(t,"class","card-content outcomes-list svelte-nhh4rm")},m(s,a){S(s,t,a),C(t,l),n.m(l,null),r=!0},p(s,a){a[0]&64&&fe(i,i=s[6])?(ae(),H(n,1,1,se),ne(),n=ut(s),n.c(),N(n,1),n.m(l,null)):n.p(s,a)},i(s){r||(N(n),r=!0)},o(s){H(n),r=!1},d(s){s&&p(t),n.d(s)}}}function ot(e){let t;return{c(){t=L("hr"),this.h()},l(l){t=R(l,"HR",{class:!0}),this.h()},h(){E(t,"class","mt-0.5 mb-0.5")},m(l,i){S(l,t,i)},d(l){l&&p(t)}}}function ht(e){let t,l,i,r;t=new kt({props:{outcomeData:e[37],settings:e[32].settings,userRole:e[2],totalPercentage:e[35],color:e[39]}});let n=e[41]!==e[32].outcomes.length-1&&ot();return{c(){Ct(t.$$.fragment),l=B(),n&&n.c(),i=q()},l(s){Lt(t.$$.fragment,s),l=j(s),n&&n.l(s),i=q()},m(s,a){Rt(t,s,a),S(s,l,a),n&&n.m(s,a),S(s,i,a),r=!0},p(s,a){const h={};a[0]&65&&(h.outcomeData=s[37]),a[0]&65&&(h.settings=s[32].settings),a[0]&4&&(h.userRole=s[2]),a[0]&65&&(h.totalPercentage=s[35]),t.$set(h),s[41]!==s[32].outcomes.length-1?n||(n=ot(),n.c(),n.m(i.parentNode,i)):n&&(n.d(1),n=null)},i(s){r||(N(t.$$.fragment,s),r=!0)},o(s){H(t.$$.fragment,s),r=!1},d(s){s&&(p(l),p(i)),Et(t,s),n&&n.d(s)}}}function ut(e){let t,l,i=re(e[32].outcomes),r=[];for(let s=0;s<i.length;s+=1)r[s]=ht(Qe(e,i,s));const n=s=>H(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();t=q()},l(s){for(let a=0;a<r.length;a+=1)r[a].l(s);t=q()},m(s,a){for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(s,a);S(s,t,a),l=!0},p(s,a){if(a[0]&1093){i=re(s[32].outcomes);let h;for(h=0;h<i.length;h+=1){const _=Qe(s,i,h);r[h]?(r[h].p(_,a),N(r[h],1)):(r[h]=ht(_),r[h].c(),N(r[h],1),r[h].m(t.parentNode,t))}for(ae(),h=i.length;h<r.length;h+=1)n(h);ne()}},i(s){if(!l){for(let a=0;a<i.length;a+=1)N(r[a]);l=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)H(r[a]);l=!1},d(s){s&&p(t),Ie(r,s)}}}function ft(e){let t,l,i='<div>Outcomes</div> <div class="caption mb-2">View possible outcomes for the wheel</div>',r,n,s,a,h;function _(u,f){return u[32].settings.hiddenOutcomes===!0?wi:pi}let b=_(e),c=b(e),o=e[32].outcomes.length>0&&at(e);return{c(){t=L("div"),l=L("div"),l.innerHTML=i,r=B(),n=L("div"),c.c(),s=B(),o&&o.c(),a=q(),this.h()},l(u){t=R(u,"DIV",{class:!0});var f=V(t);l=R(f,"DIV",{"data-svelte-h":!0}),X(l)!=="svelte-4yn6as"&&(l.innerHTML=i),r=j(f),n=R(f,"DIV",{class:!0});var A=V(n);c.l(A),A.forEach(p),f.forEach(p),s=j(u),o&&o.l(u),a=q(),this.h()},h(){E(n,"class","text-right"),E(t,"class","flex flex-row justify-between")},m(u,f){S(u,t,f),C(t,l),C(t,r),C(t,n),c.m(n,null),S(u,s,f),o&&o.m(u,f),S(u,a,f),h=!0},p(u,f){b===(b=_(u))&&c?c.p(u,f):(c.d(1),c=b(u),c&&(c.c(),c.m(n,null))),u[32].outcomes.length>0?o?(o.p(u,f),f[0]&65&&N(o,1)):(o=at(u),o.c(),N(o,1),o.m(a.parentNode,a)):o&&(ae(),H(o,1,1,()=>{o=null}),ne())},i(u){h||(N(o),h=!0)},o(u){H(o),h=!1},d(u){u&&(p(t),p(s),p(a)),c.d(),o&&o.d(u)}}}function bi(e){let t,l=e[0],i,r,n=mt(e);return{c(){t=L("div"),n.c(),this.h()},l(s){t=R(s,"DIV",{class:!0,style:!0});var a=V(t);n.l(a),a.forEach(p),this.h()},h(){E(t,"class","h-full flex flex-col ml-4"),E(t,"style",i=`width: calc(${e[5]}px * 1.0)`)},m(s,a){S(s,t,a),n.m(t,null),r=!0},p(s,a){a[0]&1&&fe(l,l=s[0])?(ae(),H(n,1,1,se),ne(),n=mt(s),n.c(),N(n,1),n.m(t,null)):n.p(s,a),(!r||a[0]&32&&i!==(i=`width: calc(${s[5]}px * 1.0)`))&&E(t,"style",i)},i(s){r||(N(n),r=!0)},o(s){H(n),r=!1},d(s){s&&p(t),n.d(s)}}}function yi(e){let t,l,i=e[32].settings.hiddenEffects===!0&&ct(),r=e[32].settings.hiddenPercentages===!0&&dt();return{c(){i&&i.c(),t=B(),r&&r.c(),l=q()},l(n){i&&i.l(n),t=j(n),r&&r.l(n),l=q()},m(n,s){i&&i.m(n,s),S(n,t,s),r&&r.m(n,s),S(n,l,s)},p(n,s){n[32].settings.hiddenEffects===!0?i||(i=ct(),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),n[32].settings.hiddenPercentages===!0?r||(r=dt(),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},d(n){n&&(p(t),p(l)),i&&i.d(n),r&&r.d(n)}}}function Ii(e){let t,l="‚ùó Outcomes Hidden ‚ùó";return{c(){t=L("div"),t.textContent=l,this.h()},l(i){t=R(i,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-fmdfs4"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,r){S(i,t,r)},p:se,d(i){i&&p(t)}}}function ct(e){let t,l="‚ùó Effects Hidden ‚ùó";return{c(){t=L("div"),t.textContent=l,this.h()},l(i){t=R(i,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-136ba5r"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,r){S(i,t,r)},d(i){i&&p(t)}}}function dt(e){let t,l="‚ùó Percentages Hidden ‚ùó";return{c(){t=L("div"),t.textContent=l,this.h()},l(i){t=R(i,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1k907vu"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,r){S(i,t,r)},d(i){i&&p(t)}}}function gt(e){let t,l,i=e[6],r,n=vt(e);return{c(){t=L("div"),l=L("div"),n.c(),this.h()},l(s){t=R(s,"DIV",{class:!0});var a=V(t);l=R(a,"DIV",{class:!0});var h=V(l);n.l(h),h.forEach(p),a.forEach(p),this.h()},h(){E(l,"class","flex flex-col space-y-1 items-stretch"),E(t,"class","card-content outcomes-list svelte-nhh4rm")},m(s,a){S(s,t,a),C(t,l),n.m(l,null),r=!0},p(s,a){a[0]&64&&fe(i,i=s[6])?(ae(),H(n,1,1,se),ne(),n=vt(s),n.c(),N(n,1),n.m(l,null)):n.p(s,a)},i(s){r||(N(n),r=!0)},o(s){H(n),r=!1},d(s){s&&p(t),n.d(s)}}}function _t(e){let t;return{c(){t=L("hr"),this.h()},l(l){t=R(l,"HR",{class:!0}),this.h()},h(){E(t,"class","mt-0.5 mb-0.5")},m(l,i){S(l,t,i)},d(l){l&&p(t)}}}function At(e){let t,l,i,r;t=new kt({props:{outcomeData:e[37],settings:e[32].settings,userRole:e[2],totalPercentage:e[35],color:e[39]}});let n=e[41]!==e[32].outcomes.length-1&&_t();return{c(){Ct(t.$$.fragment),l=B(),n&&n.c(),i=q()},l(s){Lt(t.$$.fragment,s),l=j(s),n&&n.l(s),i=q()},m(s,a){Rt(t,s,a),S(s,l,a),n&&n.m(s,a),S(s,i,a),r=!0},p(s,a){const h={};a[0]&65&&(h.outcomeData=s[37]),a[0]&65&&(h.settings=s[32].settings),a[0]&4&&(h.userRole=s[2]),a[0]&65&&(h.totalPercentage=s[35]),t.$set(h),s[41]!==s[32].outcomes.length-1?n||(n=_t(),n.c(),n.m(i.parentNode,i)):n&&(n.d(1),n=null)},i(s){r||(N(t.$$.fragment,s),r=!0)},o(s){H(t.$$.fragment,s),r=!1},d(s){s&&(p(l),p(i)),Et(t,s),n&&n.d(s)}}}function vt(e){let t,l,i=re(e[32].outcomes),r=[];for(let s=0;s<i.length;s+=1)r[s]=At(Je(e,i,s));const n=s=>H(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();t=q()},l(s){for(let a=0;a<r.length;a+=1)r[a].l(s);t=q()},m(s,a){for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(s,a);S(s,t,a),l=!0},p(s,a){if(a[0]&1093){i=re(s[32].outcomes);let h;for(h=0;h<i.length;h+=1){const _=Je(s,i,h);r[h]?(r[h].p(_,a),N(r[h],1)):(r[h]=At(_),r[h].c(),N(r[h],1),r[h].m(t.parentNode,t))}for(ae(),h=i.length;h<r.length;h+=1)n(h);ne()}},i(s){if(!l){for(let a=0;a<i.length;a+=1)N(r[a]);l=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)H(r[a]);l=!1},d(s){s&&p(t),Ie(r,s)}}}function mt(e){let t,l,i='<div>Outcomes</div> <div class="caption mb-2">View possible outcomes for the wheel</div>',r,n,s,a,h;function _(u,f){return u[32].settings.hiddenOutcomes===!0?Ii:yi}let b=_(e),c=b(e),o=e[32].outcomes.length>0&&gt(e);return{c(){t=L("div"),l=L("div"),l.innerHTML=i,r=B(),n=L("div"),c.c(),s=B(),o&&o.c(),a=q(),this.h()},l(u){t=R(u,"DIV",{class:!0});var f=V(t);l=R(f,"DIV",{"data-svelte-h":!0}),X(l)!=="svelte-1jjgdd0"&&(l.innerHTML=i),r=j(f),n=R(f,"DIV",{class:!0});var A=V(n);c.l(A),A.forEach(p),f.forEach(p),s=j(u),o&&o.l(u),a=q(),this.h()},h(){E(n,"class","text-right"),E(t,"class","flex flex-row justify-between")},m(u,f){S(u,t,f),C(t,l),C(t,r),C(t,n),c.m(n,null),S(u,s,f),o&&o.m(u,f),S(u,a,f),h=!0},p(u,f){b===(b=_(u))&&c?c.p(u,f):(c.d(1),c=b(u),c&&(c.c(),c.m(n,null))),u[32].outcomes.length>0?o?(o.p(u,f),f[0]&65&&N(o,1)):(o=gt(u),o.c(),N(o,1),o.m(a.parentNode,a)):o&&(ae(),H(o,1,1,()=>{o=null}),ne())},i(u){h||(N(o),h=!0)},o(u){H(o),h=!1},d(u){u&&(p(t),p(s),p(a)),c.d(),o&&o.d(u)}}}function Ci(e){let t,l,i,r;const n=[vi,Ai],s=[];function a(_,b){return _[1]!==""?0:_[0]!==void 0?1:-1}function h(_,b){return b===1?_i(_):_}return~(l=a(e))&&(i=s[l]=n[l](h(e,l))),{c(){t=L("div"),i&&i.c(),this.h()},l(_){t=R(_,"DIV",{class:!0});var b=V(t);i&&i.l(b),b.forEach(p),this.h()},h(){E(t,"class","container-bg min-w-0 min-h-0 p-4 space-y-2 grow svelte-nhh4rm")},m(_,b){S(_,t,b),~l&&s[l].m(t,null),r=!0},p(_,b){let c=l;l=a(_),l===c?~l&&s[l].p(h(_,l),b):(i&&(ae(),H(s[c],1,1,()=>{s[c]=null}),ne()),~l?(i=s[l],i?i.p(h(_,l),b):(i=s[l]=n[l](h(_,l)),i.c()),N(i,1),i.m(t,null)):i=null)},i(_){r||(N(i),r=!0)},o(_){H(i),r=!1},d(_){_&&p(t),~l&&s[l].d()}}}const pt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJwbmpsYmpwY2ZlYnFwYXFrcGh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODg1NDM0NTgsImV4cCI6MjAwNDExOTQ1OH0.CsGySz2c8bIWphE6--T51CsmSeBQajfwvBYfTkjviM4",wt="https://bpnjlbjpcfebqpaqkphy.supabase.co/functions/v1/chaster_utilities";function Li(e,t,l){let i,r,n,s,a;const h=["#fecaca","#fed7aa","#fde68a","#d9f99d","#bbf7d0","#a7f3d0","#99f6e4","#a5f3fc","#bae6fd","#bfdbfe","#c7d2fe","#ddd6fe","#e9d5ff","#f5d0fe","#fbcfe8","#fecdd3"],_=[{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1}],b=Array(32).fill(0).map(O=>{const F=new Audio(qt);return F.volume=.3,F});let c="Loading extension data...",o,u="",f="keyholder",A=!1,v=be({wheels:{}});we(e,v,O=>l(6,i=O));let m=be({wheels:{}});we(e,m,O=>l(26,n=O));let I="";xt(async()=>{I=window.location.hash.substring(1).split("?")[0];const O=window.location.search,F=new URLSearchParams(O);if(I!=="")u=JSON.parse(decodeURIComponent(I)).mainToken;else{const P=F.get("state");P!==null&&(u=JSON.parse(decodeURIComponent(P)).mainToken)}l(1,c="Retrieving extended wheel data...");const U=await Ae();l(3,A=U.hasKeyholder),l(2,f=U.userRole),ie(v,i=U.config,i),ie(m,n=U.customData,n),l(0,o=Object.keys(i.wheels)[0]??void 0),l(1,c="")});let g=be("");we(e,g,O=>l(9,a=O));function d(){if(o===void 0)return;const O=n.wheels[o];if(O===void 0)ie(g,a="",a);else{const F=i.wheels[o];if(F.regularity.mode==="unlimited")ie(g,a="",a);else{const U=new Date().getTime(),P=O.lastActionTimeMS+F.regularity.interval;ie(g,a=U>P?"":Ft(Math.floor((P-U)/1e3)),a)}}}setInterval(d,200),v.subscribe(()=>{d()}),m.subscribe(()=>{d()});let w=be(void 0);we(e,w,O=>l(7,r=O));let y=be(void 0);we(e,y,O=>l(8,s=O));let x=!1,M,z=["",0];async function G(){l(4,x=!0),ie(y,s=void 0,s);const O=await fetch(wt,{method:"POST",headers:{Authorization:`Bearer ${pt}`},body:JSON.stringify({action:"extended_wheel-spin",mainToken:u,wheelID:o})});if(O.status>200){alert(`Error spinning wheel, please contact @strawberria: ${await O.text()}`);return}const F=await O.json();F.index===void 0&&(F.index=Nt(0,16)),M.spinToItem(F.index,5e3,!1,5,1,Ne),setTimeout(()=>{ie(y,s=F.result,s),l(4,x=!1),z=[o,M.rotation]},5100);const U=await Ae();for(;x;)await Fe(100);JSON.stringify(i)!==JSON.stringify(U.config)&&ie(v,i=U.config,i),ie(m,n=U.customData,n)}w.subscribe(de),v.subscribe(de);async function Ae(){const O=await fetch(wt,{method:"POST",headers:{Authorization:`Bearer ${pt}`},body:JSON.stringify({action:"extended_wheel-page",mainToken:u})});if(O.status!==200)throw console.error(`Error retrieving session data: ${await O.text()}`),new Error("error retrieving session data");return await O.json()}async function de(){if(o===void 0)return;const O=r;if(O===void 0)return;await Fe(10);const F=i.wheels[o];let U=JSON.parse(JSON.stringify(F.outcomes.map(T=>{const J=T.text??"",_e=[Bt(J,24),J.length>=32?"...":""].join(""),oe=parseFloat(T.percentage);return{label:_e,weight:oe}})));F.settings.hiddenOutcomes&&(U=_);let P=0;z[0]==o?P=z[1]:z=["",0];const K={items:U,pointerAngle:270,isInteractive:!1,itemBackgroundColors:h,itemLabelRadiusMax:.3,itemLabelRadius:.825,itemLabelAlign:"left",itemLabelRotation:180,borderWidth:2,overlayImage:Jt,rotation:P};O&&(O.innerHTML=""),M=new fi(O,K),window.wheel=M,window.ease=Ne;let Q=0,D=!1,Y;M.onSpin=()=>{let T=0,J=30;clearInterval(Y),Y=setInterval(()=>{if(D===!0){clearInterval(Y),D=!1;return}M._rotation>=T+J&&(T=M._rotation,Q=Q+1<b.length?Q+1:0,b[Q].play())},10)},M.onRest=()=>{D=!0,M._rotation=M._rotation-360*Math.floor(M._rotation/360)}}let he,ge=!/Mobi/i.test(window.navigator.userAgent);function ve(O){Vt[O?"unshift":"push"](()=>{r=O,w.set(r)})}function me(){he=this.clientWidth,l(5,he)}const ue=()=>{ie(y,s=void 0,s)};function pe(){o=Tt(this),l(0,o)}return e.$$.update=()=>{e.$$.dirty[0]&1&&d()},[o,c,f,A,x,he,i,r,s,a,h,v,m,g,w,y,G,ge,ve,me,ue,pe]}class Oi extends yt{constructor(t){super(),It(this,t,Li,Ci,fe,{},null,[-1,-1])}}export{Oi as component,Di as universal};
