import{s as Xe,e as m,c as _,b as p,f as h,m as v,i as O,n as oe,k as Pe,o as Je,C as ze,x as Ze,a as E,t as S,D as Ne,p as se,g as V,d as M,E as qe,v as ce,z as te,h as n,j as J,F as Ke,l as Qe,q as We}from"../chunks/scheduler.bf7cec6e.js";import{e as _e}from"../chunks/each.e59479a4.js";import{S as $e,i as et}from"../chunks/index.11aa0ef0.js";import{w as Ae}from"../chunks/index.8b0b25cb.js";import{c as tt}from"../chunks/logo.09e82b80.js";import{r as Ye,g as me,c as st}from"../chunks/utility.ad7e1a81.js";const lt=!0,yt=Object.freeze(Object.defineProperty({__proto__:null,prerender:lt},Symbol.toStringTag,{value:"Module"}));function Be(a,e,t){const s=a.slice();return s[32]=e[t],s}function He(a,e,t){const s=a.slice();return s[27]=e[t][0],s[28]=e[t][1],s}function rt(a){const e=a.slice(),t=e[13].tasks[e[14]];return e[31]=t,e}function Re(a){let e,t,s,l,r="Your currently assigned line ...",u,o,i=a[31].phrases[a[1]]+"",c,f,d,I,x,y,H,b,z,j="<div>Lines Remaining</div> <div>Lines Completed</div> <div>Mistakes</div> <div>Total time</div> <div>Since last keystroke</div> <div>Characters per minute</div>",L,g,P,N=(a[31].settings.hidden?"???":a[31].settings.times-a[4]+a[12])+"",G,Q,U,W,le,$,ee,w,C,q=me(Math.floor(a[8]/1e3),!0)+"",K,A,X,re=me(Math.floor(a[6]/1e3),!0)+"",fe,pe,ie,de,ge,ae,be,Z,T,ne;function ke(k,D){return k[31].settings.hidden?ot:nt}let ue=ke(a),R=ue(a);function we(k,D){return k[3]===!1?ft:ct}let he=we(a),F=he(a);return{c(){e=m("div"),t=m("div"),s=m("div"),l=m("div"),l.textContent=r,u=E(),o=m("div"),c=S(i),f=E(),d=m("div"),I=m("div"),R.c(),x=E(),y=m("div"),F.c(),H=E(),b=m("div"),z=m("div"),z.innerHTML=j,L=E(),g=m("div"),P=m("div"),G=S(N),Q=E(),U=m("div"),W=S(a[4]),le=E(),$=m("div"),ee=S(a[5]),w=E(),C=m("div"),K=S(q),A=E(),X=m("div"),fe=S(re),pe=E(),ie=m("div"),de=S(a[7]),ge=E(),ae=m("div"),be=E(),Z=m("div"),T=Ne("svg"),ne=Ne("path"),this.h()},l(k){e=_(k,"DIV",{class:!0});var D=p(e);t=_(D,"DIV",{class:!0});var Ie=p(t);s=_(Ie,"DIV",{class:!0,style:!0});var Y=p(s);l=_(Y,"DIV",{class:!0,"data-svelte-h":!0}),se(l)!=="svelte-1hmi71s"&&(l.textContent=r),u=V(Y),o=_(Y,"DIV",{class:!0});var ye=p(o);c=M(ye,i),ye.forEach(h),f=V(Y),d=_(Y,"DIV",{class:!0});var De=p(d);I=_(De,"DIV",{});var Ee=p(I);R.l(Ee),Ee.forEach(h),De.forEach(h),x=V(Y),y=_(Y,"DIV",{class:!0});var Ve=p(y);F.l(Ve),Ve.forEach(h),H=V(Y),b=_(Y,"DIV",{class:!0});var ve=p(b);z=_(ve,"DIV",{class:!0,"data-svelte-h":!0}),se(z)!=="svelte-8uz1ub"&&(z.innerHTML=j),L=V(ve),g=_(ve,"DIV",{class:!0,style:!0});var B=p(g);P=_(B,"DIV",{});var Ce=p(P);G=M(Ce,N),Ce.forEach(h),Q=V(B),U=_(B,"DIV",{});var Te=p(U);W=M(Te,a[4]),Te.forEach(h),le=V(B),$=_(B,"DIV",{});var Se=p($);ee=M(Se,a[5]),Se.forEach(h),w=V(B),C=_(B,"DIV",{});var Me=p(C);K=M(Me,q),Me.forEach(h),A=V(B),X=_(B,"DIV",{});var xe=p(X);fe=M(xe,re),xe.forEach(h),pe=V(B),ie=_(B,"DIV",{});var Le=p(ie);de=M(Le,a[7]),Le.forEach(h),B.forEach(h),ve.forEach(h),ge=V(Y),ae=_(Y,"DIV",{}),p(ae).forEach(h),Y.forEach(h),Ie.forEach(h),be=V(D),Z=_(D,"DIV",{class:!0});var je=p(Z);T=qe(je,"svg",{class:!0,xmlns:!0,"xmlns:xlink":!0,fill:!0,height:!0,width:!0,version:!0,id:!0,viewBox:!0,"xml:space":!0});var Oe=p(T);ne=qe(Oe,"path",{d:!0}),p(ne).forEach(h),Oe.forEach(h),je.forEach(h),D.forEach(h),this.h()},h(){v(l,"class","font-medium text-left text-xl pl-[0.5em]"),v(o,"class","shrink bg-card p-[0.75em] !sticky top-0"),v(d,"class","font-medium text-right text-xl pr-[0.5em] !mb-[1em]"),v(y,"class","font-semibold bg-darker"),v(z,"class","flex flex-col items-end"),v(g,"class","flex flex-col items-start w-[12em]"),ce(g,"color","#ef4444"),v(b,"class","flex flex-row space-x-[1.5em] w-full justify-center !mt-[1em]"),v(s,"class","flex flex-col h-full p-4 space-y-[0.5em]"),ce(s,"width","min(100%, 64em)"),v(t,"class","w-full h-full flex flex-col items-center overlay p-4 svelte-3r315c"),v(ne,"d","M285.08,230.397L456.218,59.27c6.076-6.077,6.076-15.911,0-21.986L423.511,4.565c-2.913-2.911-6.866-4.55-10.992-4.55  c-4.127,0-8.08,1.639-10.993,4.55l-171.138,171.14L59.25,4.565c-2.913-2.911-6.866-4.55-10.993-4.55  c-4.126,0-8.08,1.639-10.992,4.55L4.558,37.284c-6.077,6.075-6.077,15.909,0,21.986l171.138,171.128L4.575,401.505  c-6.074,6.077-6.074,15.911,0,21.986l32.709,32.719c2.911,2.911,6.865,4.55,10.992,4.55c4.127,0,8.08-1.639,10.994-4.55  l171.117-171.12l171.118,171.12c2.913,2.911,6.866,4.55,10.993,4.55c4.128,0,8.081-1.639,10.992-4.55l32.709-32.719  c6.074-6.075,6.074-15.909,0-21.986L285.08,230.397z"),v(T,"class","fade-in opacity-0 svelte-3r315c"),v(T,"xmlns","http://www.w3.org/2000/svg"),v(T,"xmlns:xlink","http://www.w3.org/1999/xlink"),v(T,"fill","#ef4444"),v(T,"height","16em"),v(T,"width","16em"),v(T,"version","1.1"),v(T,"id","Capa_1"),v(T,"viewBox","0 0 460.775 460.775"),v(T,"xml:space","preserve"),te(T,"fade-in",a[11]),v(Z,"class","w-full h-full flex flex-col items-center justify-center overlay z-10 svelte-3r315c"),te(Z,"bg-darker",a[11]),v(e,"class","w-full h-full grid")},m(k,D){O(k,e,D),n(e,t),n(t,s),n(s,l),n(s,u),n(s,o),n(o,c),n(s,f),n(s,d),n(d,I),R.m(I,null),n(s,x),n(s,y),F.m(y,null),n(s,H),n(s,b),n(b,z),n(b,L),n(b,g),n(g,P),n(P,G),n(g,Q),n(g,U),n(U,W),n(g,le),n(g,$),n($,ee),n(g,w),n(g,C),n(C,K),n(g,A),n(g,X),n(X,fe),n(g,pe),n(g,ie),n(ie,de),n(s,ge),n(s,ae),a[18](ae),n(e,be),n(e,Z),n(Z,T),n(T,ne)},p(k,D){D[0]&24578&&i!==(i=k[31].phrases[k[1]]+"")&&J(c,i),ue===(ue=ke(k))&&R?R.p(k,D):(R.d(1),R=ue(k),R&&(R.c(),R.m(I,null))),he===(he=we(k))&&F?F.p(k,D):(F.d(1),F=he(k),F&&(F.c(),F.m(y,null))),D[0]&28688&&N!==(N=(k[31].settings.hidden?"???":k[31].settings.times-k[4]+k[12])+"")&&J(G,N),D[0]&16&&J(W,k[4]),D[0]&32&&J(ee,k[5]),D[0]&256&&q!==(q=me(Math.floor(k[8]/1e3),!0)+"")&&J(K,q),D[0]&64&&re!==(re=me(Math.floor(k[6]/1e3),!0)+"")&&J(fe,re),D[0]&128&&J(de,k[7]),D[0]&2048&&te(T,"fade-in",k[11]),D[0]&2048&&te(Z,"bg-darker",k[11])},d(k){k&&h(e),R.d(),F.d(),a[18](null)}}}function it(a){let e,t,s=`<div class="flex items-end justify-between mb-2 flex-row space-x-1"><h4 class="mb-0">[üçì] Typing Tasks</h4> <span class="caption">Developer: <a href="https://chaster.app/user/strawberria" target="_blank">@strawberria</a></span></div> <div class="caption">Devious typing tasks with numerous hidden features, sure to keep your fingers busy! <br/>
                    Somewhat similar to <a href="https://writeforme.org/" target="_blank">writeforme</a>, but with some additional features!</div>`,l,r,u=_e(Object.entries(a[13].tasks)),o=[];for(let i=0;i<u.length;i+=1)o[i]=Ge(He(a,u,i));return{c(){e=m("div"),t=m("div"),t.innerHTML=s,l=E(),r=m("div");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=_(i,"DIV",{class:!0});var c=p(e);t=_(c,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-a9w2o1"&&(t.innerHTML=s),l=V(c),r=_(c,"DIV",{class:!0});var f=p(r);for(let d=0;d<o.length;d+=1)o[d].l(f);f.forEach(h),c.forEach(h),this.h()},h(){v(t,"class","card-content card-wrapper-desktop"),v(r,"class","grid gap-[1.5em] grid-cols-1"),v(e,"class","flex flex-col space-y-[1.5em] w-[65.5em] p-4")},m(i,c){O(i,e,c),n(e,t),n(e,l),n(e,r);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(r,null)},p(i,c){if(c[0]&24576){u=_e(Object.entries(i[13].tasks));let f;for(f=0;f<u.length;f+=1){const d=He(i,u,f);o[f]?o[f].p(d,c):(o[f]=Ge(d),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=u.length}},d(i){i&&h(e),Ke(o,i)}}}function at(a){let e,t,s,l,r,u;return{c(){e=m("div"),t=m("img"),l=E(),r=m("div"),u=S(a[0]),this.h()},l(o){e=_(o,"DIV",{class:!0});var i=p(e);t=_(i,"IMG",{src:!0,alt:!0}),l=V(i),r=_(i,"DIV",{class:!0});var c=p(r);u=M(c,a[0]),c.forEach(h),i.forEach(h),this.h()},h(){Qe(t.src,s=tt)||v(t,"src",s),v(t,"alt","Chaster logo"),v(r,"class","mt-4 caption text-lg"),v(e,"class","w-full h-screen flex flex-col items-center justify-center p-4")},m(o,i){O(o,e,i),n(e,t),n(e,l),n(e,r),n(r,u)},p(o,i){i[0]&1&&J(u,o[0])},d(o){o&&h(e)}}}function nt(a){let e,t=a[31].settings.times+"",s,l;return{c(){e=S("... in total, "),s=S(t),l=S(" times correctly.")},l(r){e=M(r,"... in total, "),s=M(r,t),l=M(r," times correctly.")},m(r,u){O(r,e,u),O(r,s,u),O(r,l,u)},p(r,u){u[0]&24576&&t!==(t=r[31].settings.times+"")&&J(s,t)},d(r){r&&(h(e),h(s),h(l))}}}function ot(a){let e;return{c(){e=S("... until your assignment is complete.")},l(t){e=M(t,"... until your assignment is complete.")},m(t,s){O(t,e,s)},p:oe,d(t){t&&h(e)}}}function ct(a){let e,t,s,l,r,u,o=_e(a[2]),i=[];for(let c=0;c<o.length;c+=1)i[c]=Fe(Be(a,o,c));return{c(){e=m("div"),t=m("div");for(let c=0;c<i.length;c+=1)i[c].c();s=E(),l=m("div"),r=m("div"),u=S(a[9]),this.h()},l(c){e=_(c,"DIV",{class:!0});var f=p(e);t=_(f,"DIV",{class:!0,style:!0});var d=p(t);for(let y=0;y<i.length;y+=1)i[y].l(d);s=V(d),l=_(d,"DIV",{class:!0});var I=p(l);r=_(I,"DIV",{class:!0,style:!0});var x=p(r);u=M(x,a[9]),x.forEach(h),I.forEach(h),d.forEach(h),f.forEach(h),this.h()},h(){v(r,"class","max-w-full min-h-[1.5em] relative"),ce(r,"color","#bbbcc9"),v(l,"class","blink-cursor svelte-3r315c"),te(l,"no-gap",a[9].length===0),v(t,"class","flex flex-col space-y-[0.5em] p-[1.25em]"),ce(t,"overflow-wrap","break-word"),v(e,"class","w-full h-full items-stretch whitespace-pre")},m(c,f){O(c,e,f),n(e,t);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(t,null);n(t,s),n(t,l),n(l,r),n(r,u)},p(c,f){if(f[0]&4){o=_e(c[2]);let d;for(d=0;d<o.length;d+=1){const I=Be(c,o,d);i[d]?i[d].p(I,f):(i[d]=Fe(I),i[d].c(),i[d].m(t,s))}for(;d<i.length;d+=1)i[d].d(1);i.length=o.length}f[0]&512&&J(u,c[9]),f[0]&512&&te(l,"no-gap",c[9].length===0)},d(c){c&&h(e),Ke(i,c)}}}function ft(a){let e,t="Start typing to begin...";return{c(){e=m("div"),e.textContent=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-1yovyr9"&&(e.textContent=t),this.h()},h(){v(e,"class","font-semibold bg-darker p-[0.675em] text-2xl text-center text-red-500")},m(s,l){O(s,e,l)},p:oe,d(s){s&&h(e)}}}function dt(a){let e,t="‚úîÔ∏è";return{c(){e=m("span"),e.textContent=t,this.h()},l(s){e=_(s,"SPAN",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-48p701"&&(e.textContent=t),this.h()},h(){v(e,"class","ml-[0.25em]")},m(s,l){O(s,e,l)},p:oe,d(s){s&&h(e)}}}function ut(a){let e,t=a[32][1]+"",s;return{c(){e=m("span"),s=S(t),this.h()},l(l){e=_(l,"SPAN",{class:!0,style:!0});var r=p(e);s=M(r,t),r.forEach(h),this.h()},h(){v(e,"class","underline"),ce(e,"color","#ef4444")},m(l,r){O(l,e,r),n(e,s)},p(l,r){r[0]&4&&t!==(t=l[32][1]+"")&&J(s,t)},d(l){l&&h(e)}}}function Fe(a){let e,t,s=a[32][0]+"",l,r;function u(c,f){return c[32][1].length>0?ut:dt}let o=u(a),i=o(a);return{c(){e=m("div"),t=m("span"),l=S(s),r=E(),i.c(),this.h()},l(c){e=_(c,"DIV",{class:!0});var f=p(e);t=_(f,"SPAN",{});var d=p(t);l=M(d,s),d.forEach(h),r=V(f),i.l(f),f.forEach(h),this.h()},h(){v(e,"class","flex flex-row")},m(c,f){O(c,e,f),n(e,t),n(t,l),n(e,r),i.m(e,null)},p(c,f){f[0]&4&&s!==(s=c[32][0]+"")&&J(l,s),o===(o=u(c))&&i?i.p(c,f):(i.d(1),i=o(c),i&&(i.c(),i.m(e,null)))},d(c){c&&h(e),i.d()}}}function Ue(a){let e,t=a[28].note+"",s;return{c(){e=m("div"),s=S(t),this.h()},l(l){e=_(l,"DIV",{class:!0});var r=p(e);s=M(r,t),r.forEach(h),this.h()},h(){v(e,"class","caption")},m(l,r){O(l,e,r),n(e,s)},p(l,r){r[0]&8192&&t!==(t=l[28].note+"")&&J(s,t)},d(l){l&&h(e)}}}function Ge(a){let e,t,s,l,r=a[28].display+"",u,o,i,c,f,d,I="Begin",x,y,H,b=a[28].note!==void 0&&Ue(a);function z(){return a[17](a[27])}return{c(){e=m("div"),t=m("div"),s=m("div"),l=m("h5"),u=S(r),o=E(),b&&b.c(),i=E(),c=m("div"),f=E(),d=m("a"),d.textContent=I,x=E(),this.h()},l(j){e=_(j,"DIV",{class:!0});var L=p(e);t=_(L,"DIV",{class:!0});var g=p(t);s=_(g,"DIV",{class:!0});var P=p(s);l=_(P,"H5",{class:!0});var N=p(l);u=M(N,r),N.forEach(h),o=V(P),b&&b.l(P),P.forEach(h),i=V(g),c=_(g,"DIV",{class:!0}),p(c).forEach(h),f=V(g),d=_(g,"A",{target:!0,class:!0,"data-svelte-h":!0}),se(d)!=="svelte-11vm0qq"&&(d.textContent=I),g.forEach(h),x=V(L),L.forEach(h),this.h()},h(){v(l,"class","mb-[0.25em]"),v(s,"class","flex flex-col"),v(c,"class","grow"),v(d,"target","_blank"),v(d,"class","btn btn-outline-primary"),v(t,"class","flex flex-row space-x-[1em] items-center"),v(e,"class","card-content flex flex-col space-y-[0.5em] w-[32em]")},m(j,L){O(j,e,L),n(e,t),n(t,s),n(s,l),n(l,u),n(s,o),b&&b.m(s,null),n(t,i),n(t,c),n(t,f),n(t,d),n(e,x),y||(H=We(d,"click",z),y=!0)},p(j,L){a=j,L[0]&8192&&r!==(r=a[28].display+"")&&J(u,r),a[28].note!==void 0?b?b.p(a,L):(b=Ue(a),b.c(),b.m(s,null)):b&&(b.d(1),b=null)},d(j){j&&h(e),b&&b.d(),y=!1,H()}}}function ht(a){let e;function t(u,o){return u[0]!==""?at:u[14]===void 0?it:Re}function s(u,o){return o===Re?rt(u):u}let l=t(a),r=l(s(a,l));return{c(){e=m("div"),r.c(),this.h()},l(u){e=_(u,"DIV",{class:!0});var o=p(e);r.l(o),o.forEach(h),this.h()},h(){v(e,"class","container-bg min-w-0 min-h-0 space-y-2 grow svelte-3r315c")},m(u,o){O(u,e,o),r.m(e,null)},p(u,o){l===(l=t(u))&&r?r.p(s(u,l),o):(r.d(1),r=l(s(u,l)),r&&(r.c(),r.m(e,null)))},i:oe,o:oe,d(u){u&&h(e),r.d()}}}const vt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJwbmpsYmpwY2ZlYnFwYXFrcGh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODg1NDM0NTgsImV4cCI6MjAwNDExOTQ1OH0.CsGySz2c8bIWphE6--T51CsmSeBQajfwvBYfTkjviM4",mt="https://bpnjlbjpcfebqpaqkphy.supabase.co/functions/v1/chaster_utilities";function _t(a,e,t){let s,l,r="Loading extension data...",u="",o=Ae(void 0);Pe(a,o,w=>t(14,l=w));let i=Ae({tasks:{}});Pe(a,i,w=>t(13,s=w));let c="";Je(async()=>{c=window.location.hash.substring(1).split("?")[0];const w=window.location.search,C=new URLSearchParams(w);if(c!=="")u=JSON.parse(decodeURIComponent(c)).mainToken;else{const A=C.get("state");A!==null&&(u=JSON.parse(decodeURIComponent(A)).mainToken)}const q=await fetch(mt,{method:"POST",headers:{Authorization:`Bearer ${vt}`},body:JSON.stringify({action:"typing_tasks-page",mainToken:u})});if(q.status!==200)throw console.error(`Error retrieving session data: ${await q.text()}`),new Error("error retrieving session data");const K=await q.json();ze(i,s=K.config,s),t(0,r="")});let f=0,d=[],I=!1,x=0,y=0,H=0,b=0,z=0,j=0,L=0,g="",P=0;o.subscribe(w=>{t(1,f=w!==void 0?Ye(0,s.tasks[w].phrases.length):0),t(2,d=[]),t(3,I=!1),t(4,x=0),t(5,y=0),t(6,H=0),b=0,t(7,z=0),j=0,t(8,L=0),t(9,g=""),P=0});let N,G=!1,Q=!1,U=0,W=!1;function le(w){if(l===void 0||W===!0)return;const C=s.tasks[l],q=w.charCodeAt(0);if(w.length>1||q<32||q>126||G===!0)return;b=new Date().getTime();const K=C.phrases[f];K.charAt(g.length)===w?(t(9,g+=w),g.length===K.length&&(t(4,x++,x),d.push([g,""]),t(2,d),t(9,g=""),t(1,f=Ye(0,C.phrases.length)),x===C.settings.times+U&&(W=!0,alert("Finished!"))),P++):(d.push([g,w!==" "?w:"‚òê"]),t(2,d),t(9,g=""),t(5,y++,y),C.settings.chinese===!0&&(C.phrases[f]=st(C.phrases[f]),i.set(s)),t(11,G=!0),t(12,U+=C.settings.extra),setTimeout(()=>{t(11,G=!1),b=new Date().getTime()},1e3)),I===!1&&(j=new Date().getTime(),setInterval(()=>{const A=new Date().getTime(),X=(A-j)/6e4;t(7,z=Math.floor(P/X)),t(6,H=A-b),t(8,L=A-j),Q===!1&&H>C.settings.delayMS&&(Q=!0,t(12,U+=C.settings.extra),setTimeout(()=>{Q=!1},1e3))},25),t(3,I=!0));try{N.scrollIntoView({behavior:"smooth"})}catch{}}Je(()=>{document.addEventListener("keypress",w=>{le(w.key)})});const $=w=>{ze(o,l=w,l)};function ee(w){Ze[w?"unshift":"push"](()=>{N=w,t(10,N)})}return[r,f,d,I,x,y,H,z,L,g,N,G,U,s,l,o,i,$,ee]}class Dt extends $e{constructor(e){super(),et(this,e,_t,ht,Xe,{},null,[-1,-1])}}export{Dt as component,yt as universal};
