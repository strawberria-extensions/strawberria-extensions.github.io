import{s as Ge,n as Te,f as Ve,r as $e,e as et,o as tt,b as ke}from"../chunks/scheduler.5b079c2b.js";import{S as Xe,i as Ze,g as d,m as oe,s as S,h as c,j as w,n as he,f as A,c as M,k as m,a as O,x as u,o as pe,y as H,z as ge,A as We,B as it,C as Be,d as Q,t as Z,b as xe,p as Ce,D as rt,r as nt,e as De,u as st,v as at,w as lt}from"../chunks/index.dbb2e719.js";import{e as ze}from"../chunks/each.e59479a4.js";import{w as ot}from"../chunks/index.94cb536b.js";import{g as ht,t as ut}from"../chunks/utility.ddbf4dd6.js";const dt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,ct=!0,Ut=Object.freeze(Object.defineProperty({__proto__:null,prerender:ct},Symbol.toStringTag,{value:"Module"})),At="data:audio/mpeg;base64,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",mt="/_app/immutable/assets/wheel-bg-overlay.1f6ec841.svg";var ft=Object.defineProperty,Fe=Object.getOwnPropertySymbols,gt=Object.prototype.hasOwnProperty,_t=Object.prototype.propertyIsEnumerable,_e=Math.pow,Pe=(e,t,i)=>t in e?ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,ve=(e,t)=>{for(var i in t||(t={}))gt.call(t,i)&&Pe(e,i,t[i]);if(Fe)for(var i of Fe(t))_t.call(t,i)&&Pe(e,i,t[i]);return e};function vt(e=0,t=0,i=14){return parseFloat((Math.random()*(t-e)+e).toFixed(i))}function B(e=0){return e*Math.PI/180}function bt(e,t,i){return t<i?t<=e&&e<i:t<=e||e<i}function pt(e,t,i,r){r.save(),r.font=`1px ${t}`;let n=r.measureText(e).width;return r.restore(),i/n}function wt(e={x:0,y:0},t,i,r){return _e(e.x-t,2)+_e(e.y-i,2)<=_e(r,2)}function be(e={x:0,y:0},t={},i=1){let r=t.getBoundingClientRect();return{x:(e.x-r.left)*i,y:(e.y-r.top)*i}}function xt(e,t,i,r){let n=e-i,s=t-r,a=Math.atan2(-s,-n);return a*=180/Math.PI,a<0&&(a+=360),a}function Ct(e=0,t=0){let i=e+t,r;return i>0?r=i%360:r=360+i%360,r===360&&(r=0),r}function yt(e=0,t=0){let i=180-t;return 180-Ct(e,i)}function Lt(e=0,t=0,i=1){let r=(e%360+t)%360;return r=Rt(r),r=(i===1?360-r:360+r)%360,r*=i,e+r}function ue(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}function T(e){return typeof e=="number"&&!Number.isNaN(e)}function g({val:e,isValid:t,errorMessage:i,defaultValue:r,action:n=null}){if(t)return n?n():e;if(e===void 0)return r;throw new Error(i)}function Oe(e){return e&&e.complete&&e.naturalWidth!==0&&e.naturalHeight!==0}function Rt(e=0){return Number(e.toFixed(9))}function It(e){return Math.sin(e*Math.PI/2)}var St=Object.freeze({left:"left",right:"right",center:"center"}),h=Object.freeze({wheel:{borderColor:"#000",borderWidth:1,debug:!1,image:null,isInteractive:!0,itemBackgroundColors:["#fff"],itemLabelAlign:St.right,itemLabelBaselineOffset:0,itemLabelColors:["#000"],itemLabelFont:"sans-serif",itemLabelFontSizeMax:500,itemLabelRadius:.85,itemLabelRadiusMax:.2,itemLabelRotation:0,items:[],lineColor:"#000",lineWidth:1,pixelRatio:0,radius:.95,rotation:0,rotationResistance:-35,rotationSpeedMax:300,offset:{w:0,h:0},onCurrentIndexChange:null,onRest:null,onSpin:null,overlayImage:null,pointerAngle:0},item:{backgroundColor:null,image:null,imageRadius:.5,imageRotation:0,imageScale:1,label:"",labelColor:null,labelFont:null,weight:1}}),re=Object.freeze({pointerLineColor:"#ff00ff",labelOutlineColor:"#ff00ff",labelRadiusColor:"#00ff00",dragEventHue:200});function Mt(e={}){Tt(e),e._handler_onResize=e.resize.bind(e),window.addEventListener("resize",e._handler_onResize)}function Et(e={}){let t=e.canvas;"PointerEvent"in window?(t.removeEventListener("pointerdown",e._handler_onPointerDown),t.removeEventListener("pointermove",e._handler_onPointerMoveRefreshCursor)):(t.removeEventListener("touchstart",e._handler_onTouchStart),t.removeEventListener("mousedown",e._handler_onMouseDown),t.removeEventListener("mousemove",e._handler_onMouseMoveRefreshCursor)),window.removeEventListener("resize",e._handler_onResize)}function Tt(e={}){let t=e.canvas;e._handler_onPointerMoveRefreshCursor=(i={})=>{let r={x:i.clientX,y:i.clientY};e.isCursorOverWheel=e.wheelHitTest(r),e.refreshCursor()},e._handler_onMouseMoveRefreshCursor=(i={})=>{let r={x:i.clientX,y:i.clientY};e.isCursorOverWheel=e.wheelHitTest(r),e.refreshCursor()},e._handler_onPointerDown=(i={})=>{let r={x:i.clientX,y:i.clientY};if(!e.isInteractive||!e.wheelHitTest(r))return;i.preventDefault(),e.dragStart(r),t.setPointerCapture(i.pointerId),t.addEventListener("pointermove",n),t.addEventListener("pointerup",s),t.addEventListener("pointercancel",s),t.addEventListener("pointerout",s);function n(a={}){a.preventDefault(),e.dragMove({x:a.clientX,y:a.clientY})}function s(a={}){a.preventDefault(),t.releasePointerCapture(a.pointerId),t.removeEventListener("pointermove",n),t.removeEventListener("pointerup",s),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerout",s),e.dragEnd()}},e._handler_onMouseDown=(i={})=>{let r={x:i.clientX,y:i.clientY};if(!e.isInteractive||!e.wheelHitTest(r))return;e.dragStart(r),document.addEventListener("mousemove",n),document.addEventListener("mouseup",s);function n(a={}){a.preventDefault(),e.dragMove({x:a.clientX,y:a.clientY})}function s(a={}){a.preventDefault(),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s),e.dragEnd()}},e._handler_onTouchStart=(i={})=>{let r={x:i.targetTouches[0].clientX,y:i.targetTouches[0].clientY};if(!e.isInteractive||!e.wheelHitTest(r))return;i.preventDefault(),e.dragStart(r),t.addEventListener("touchmove",n),t.addEventListener("touchend",s),t.addEventListener("touchcancel",s);function n(a={}){a.preventDefault(),e.dragMove({x:a.targetTouches[0].clientX,y:a.targetTouches[0].clientY})}function s(a={}){a.preventDefault(),t.removeEventListener("touchmove",n),t.removeEventListener("touchend",s),t.removeEventListener("touchcancel",s),e.dragEnd()}},"PointerEvent"in window?(t.addEventListener("pointerdown",e._handler_onPointerDown),t.addEventListener("pointermove",e._handler_onPointerMoveRefreshCursor)):(t.addEventListener("touchstart",e._handler_onTouchStart),t.addEventListener("mousedown",e._handler_onMouseDown),t.addEventListener("mousemove",e._handler_onMouseMoveRefreshCursor))}var Vt=class{constructor(e,t={}){if(!ue(e))throw new Error("wheel must be an instance of Wheel");if(!ue(t)&&t!==null)throw new Error("props must be an Object or null");this._wheel=e;for(let i of Object.keys(h.item))this["_"+i]=h.item[i];t?this.init(t):this.init(h.item)}init(e={}){this.backgroundColor=e.backgroundColor,this.image=e.image,this.imageRadius=e.imageRadius,this.imageRotation=e.imageRotation,this.imageScale=e.imageScale,this.label=e.label,this.labelColor=e.labelColor,this.value=e.value,this.weight=e.weight}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){typeof e=="string"?this._backgroundColor=e:this._backgroundColor=h.item.backgroundColor,this._wheel.refresh()}get image(){return this._image}set image(e){let t;typeof e=="string"?(t=new Image,t.src=e,t.onload=i=>this._wheel.refresh()):t=h.item.image,this._image=t,this._wheel.refresh()}get imageRadius(){return this._imageRadius}set imageRadius(e){typeof e=="number"?this._imageRadius=e:this._imageRadius=h.item.imageRadius,this._wheel.refresh()}get imageRotation(){return this._imageRotation}set imageRotation(e){typeof e=="number"?this._imageRotation=e:this._imageRotation=h.item.imageRotation,this._wheel.refresh()}get imageScale(){return this._imageScale}set imageScale(e){typeof e=="number"?this._imageScale=e:this._imageScale=h.item.imageScale,this._wheel.refresh()}get label(){return this._label}set label(e){typeof e=="string"?this._label=e:this._label=h.item.label,this._wheel.refresh()}get labelColor(){return this._labelColor}set labelColor(e){typeof e=="string"?this._labelColor=e:this._labelColor=h.item.labelColor,this._wheel.refresh()}get value(){return this._value}set value(e){this._value=e}get weight(){return this._weight}set weight(e){typeof e=="number"?this._weight=e:this._weight=h.item.weight}getIndex(){let e=this._wheel.items.findIndex(t=>t===this);if(e===-1)throw new Error("Item not found in parent Wheel");return e}getCenterAngle(){let e=this._wheel.getItemAngles()[this.getIndex()];return e.start+(e.end-e.start)/2}getStartAngle(){return this._wheel.getItemAngles()[this.getIndex()].start}getEndAngle(){return this._wheel.getItemAngles()[this.getIndex()].end}getRandomAngle(){return vt(this.getStartAngle(),this.getEndAngle())}},kt=class{constructor(e,t={}){if(this._frameRequestId=null,this._rotationSpeed=0,this._rotationDirection=1,!(e instanceof Element))throw new Error("container must be an instance of Element");if(!ue(t)&&t!==null)throw new Error("props must be an Object or null");this._canvasContainer=e,this.canvas=document.createElement("canvas"),this._context=this.canvas.getContext("2d"),this.addCanvas(),Mt(this);for(let i of Object.keys(h.wheel))this["_"+i]=h.wheel[i];t?this.init(t):this.init(h.wheel)}init(e={}){this._isInitialising=!0,this.borderColor=e.borderColor,this.borderWidth=e.borderWidth,this.debug=e.debug,this.image=e.image,this.isInteractive=e.isInteractive,this.itemBackgroundColors=e.itemBackgroundColors,this.itemLabelAlign=e.itemLabelAlign,this.itemLabelBaselineOffset=e.itemLabelBaselineOffset,this.itemLabelColors=e.itemLabelColors,this.itemLabelFont=e.itemLabelFont,this.itemLabelFontSizeMax=e.itemLabelFontSizeMax,this.itemLabelRadius=e.itemLabelRadius,this.itemLabelRadiusMax=e.itemLabelRadiusMax,this.itemLabelRotation=e.itemLabelRotation,this.items=e.items,this.lineColor=e.lineColor,this.lineWidth=e.lineWidth,this.pixelRatio=e.pixelRatio,this.rotationSpeedMax=e.rotationSpeedMax,this.radius=e.radius,this.rotation=e.rotation,this.rotationResistance=e.rotationResistance,this.offset=e.offset,this.onCurrentIndexChange=e.onCurrentIndexChange,this.onRest=e.onRest,this.onSpin=e.onSpin,this.overlayImage=e.overlayImage,this.pointerAngle=e.pointerAngle}addCanvas(){this._canvasContainer.appendChild(this.canvas)}removeCanvas(){this._canvasContainer.removeChild(this.canvas)}remove(){window.cancelAnimationFrame(this._frameRequestId),Et(this),this.removeCanvas()}resize(){let[e,t]=[this._canvasContainer.clientWidth*this.getActualPixelRatio(),this._canvasContainer.clientHeight*this.getActualPixelRatio()],i=Math.min(e,t),r={w:i-i*this.offset.w,h:i-i*this.offset.h},n=Math.min(e/r.w,t/r.h);this._size=Math.max(r.w*n,r.h*n),this.canvas.style.width=this._canvasContainer.clientWidth+"px",this.canvas.style.height=this._canvasContainer.clientHeight+"px",this.canvas.width=e,this.canvas.height=t,this._center={x:e/2+e*this.offset.w,y:t/2+t*this.offset.h},this._actualRadius=this._size/2*this.radius,this.itemLabelFontSize=this.itemLabelFontSizeMax*(this._size/500),this.labelMaxWidth=this._actualRadius*(this.itemLabelRadius-this.itemLabelRadiusMax);for(let s of this._items)this.itemLabelFontSize=Math.min(this.itemLabelFontSize,pt(s.label,this.itemLabelFont,this.labelMaxWidth,this._context));this.refresh()}draw(e=0){this._frameRequestId=null;let t=this._context;t.clearRect(0,0,this.canvas.width,this.canvas.height),this.animateRotation(e);let i=this.getItemAngles(this._rotation),r=this.getActualBorderWidth();t.textBaseline="middle",t.textAlign=this.itemLabelAlign,t.font=this.itemLabelFontSize+"px "+this.itemLabelFont,t.save();for(let[n,s]of i.entries()){let a=new Path2D;a.moveTo(this._center.x,this._center.y),a.arc(this._center.x,this._center.y,this._actualRadius-r/2,B(s.start+-90),B(s.end+-90)),this._items[n].path=a}this.drawItemBackgrounds(t,i),this.drawItemImages(t,i),this.drawItemLines(t,i),this.drawItemLabels(t,i),this.drawBorder(t),this.drawImage(t,this._image,!1),this.drawImage(t,this._overlayImage,!0),this.drawPointerLine(t),this.drawDragEvents(t),this._isInitialising=!1}drawItemBackgrounds(e,t=[]){var i;for(let[r,n]of t.entries()){let s=this._items[r];e.fillStyle=(i=s.backgroundColor)!=null?i:this.itemBackgroundColors[r%this.itemBackgroundColors.length],e.fill(s.path)}}drawItemImages(e,t=[]){for(let[i,r]of t.entries()){let n=this._items[i];if(!Oe(n.image))return;e.save(),e.clip(n.path);let s=r.start+(r.end-r.start)/2;e.translate(this._center.x+Math.cos(B(s+-90))*(this._actualRadius*n.imageRadius),this._center.y+Math.sin(B(s+-90))*(this._actualRadius*n.imageRadius)),e.rotate(B(s+n.imageRotation));let a=this._size/500*n.image.width*n.imageScale,l=this._size/500*n.image.height*n.imageScale,o=-a/2,f=-l/2;e.drawImage(n.image,o,f,a,l),e.restore()}}drawImage(e,t,i=!1){if(!Oe(t))return;e.translate(this._center.x,this._center.y),i||e.rotate(B(this._rotation));let r=i?this._size:this._size*this.radius,n=-(r/2);e.drawImage(t,n,n,r,r),e.resetTransform()}drawPointerLine(e){!this.debug||(e.translate(this._center.x,this._center.y),e.rotate(B(this._pointerAngle+-90)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius*2,0),e.strokeStyle=re.pointerLineColor,e.lineWidth=2,e.stroke(),e.resetTransform())}drawBorder(e){if(this.borderWidth<=0)return;let t=this.getActualBorderWidth(),i=this._borderColor||"transparent";e.beginPath(),e.strokeStyle=i,e.lineWidth=t,e.arc(this._center.x,this._center.y,this._actualRadius-t/2,0,2*Math.PI),e.stroke(),this.debug&&(e.beginPath(),e.strokeStyle=e.strokeStyle=re.labelRadiusColor,e.lineWidth=1,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadius,0,2*Math.PI),e.stroke(),e.beginPath(),e.strokeStyle=e.strokeStyle=re.labelRadiusColor,e.lineWidth=1,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadiusMax,0,2*Math.PI),e.stroke())}drawItemLines(e,t=[]){if(this.lineWidth<=0)return;let i=this.lineWidth/500*this._size,r=this.getActualBorderWidth();e.translate(this._center.x,this._center.y);for(let n of t)e.rotate(B(n.start+-90)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius-r,0),e.strokeStyle=this.lineColor,e.lineWidth=i,e.stroke(),e.rotate(-B(n.start+-90));e.resetTransform()}drawItemLabels(e,t=[]){let i=this.itemLabelFontSize*-this.itemLabelBaselineOffset;for(let[r,n]of t.entries()){let s=this._items[r],a=s.labelColor||this._itemLabelColors[r%this._itemLabelColors.length]||"transparent";if(s.label.trim()===""||a==="transparent")continue;e.save(),e.clip(s.path);let l=n.start+(n.end-n.start)/2;e.translate(this._center.x+Math.cos(B(l+-90))*(this._actualRadius*this.itemLabelRadius),this._center.y+Math.sin(B(l+-90))*(this._actualRadius*this.itemLabelRadius)),e.rotate(B(l+-90)),e.rotate(B(this.itemLabelRotation)),this.debug&&(e.beginPath(),e.moveTo(0,0),e.lineTo(-this.labelMaxWidth,0),e.strokeStyle=re.labelOutlineColor,e.lineWidth=1,e.stroke(),e.strokeRect(0,-this.itemLabelFontSize/2,-this.labelMaxWidth,this.itemLabelFontSize)),e.fillStyle=a,e.fillText(s.label,0,i),e.restore()}}drawDragEvents(e){var t;if(!this.debug||!((t=this.dragEvents)!=null&&t.length))return;let i=[...this.dragEvents].reverse();for(let[r,n]of i.entries()){let s=r/this.dragEvents.length*100;e.beginPath(),e.arc(n.x,n.y,5,0,2*Math.PI),e.fillStyle=`hsl(${re.dragEventHue},100%,${s}%)`,e.strokeStyle="#000",e.lineWidth=.5,e.fill(),e.stroke()}}animateRotation(e=0){if(this._spinToTimeEnd){if(e>=this._spinToTimeEnd){this.rotation=this._spinToEndRotation,this._spinToTimeEnd=void 0,this.raiseEvent_onRest();return}this.refresh();let t=this._spinToTimeEnd-this._spinToTimeStart,i=(e-this._spinToTimeStart)/t;i=i<0?0:i;let r=this._spinToEndRotation-this._spinToStartRotation;this.rotation=this._spinToStartRotation+r*this._spinToEasingFunction(i);return}if(this._rotationSpeed!==0){this.refresh(),this._lastFrameTime===void 0&&(this._lastFrameTime=e);let t=e-this._lastFrameTime;t>0&&(this.rotation+=t/1e3*this._rotationSpeed%360,this._rotationSpeed=this.getRotationSpeedPlusDrag(t),this._rotationSpeed===0&&this.raiseEvent_onRest(),this._lastFrameTime=e);return}this._lastFrameTime=void 0}getRotationSpeedPlusDrag(e=0){let t=this._rotationSpeed+this.rotationResistance*(e/1e3)*this._rotationDirection;return this._rotationDirection===1&&t<0||this._rotationDirection===-1&&t>=0?0:t}spin(e=0){if(!T(e))throw new Error("rotationSpeed must be a number");this.setSpeedSpeed(e,"spin")}spinTo(e=0,t=0,i=null){if(Number.isNaN(e))throw new Error("Error: newRotation parameter is NaN");this.stop(),this.animate(e,t,i),this.raiseEvent_onSpin({method:"spinto",targetRotation:e,duration:t})}spinToItem(e=0,t=0,i=!0,r=1,n=1,s=null){this.stop();let a=i?this.items[e].getCenterAngle():this.items[e].getRandomAngle(),l=Lt(this.rotation,a-this._pointerAngle,n);l+=r*360*n,this.animate(l,t,s),this.raiseEvent_onSpin({method:"spintoitem",targetItemIndex:e,targetRotation:l,duration:t})}animate(e,t,i){this._spinToStartRotation=this.rotation,this._spinToEndRotation=e,this._spinToTimeStart=performance.now(),this._spinToTimeEnd=this._spinToTimeStart+t,this._spinToEasingFunction=i||It,this.refresh()}stop(){this._rotationSpeed=0,this._spinToTimeEnd=void 0}getActualBorderWidth(){return this.borderWidth/500*this._size}getActualPixelRatio(){return this._pixelRatio!==0?this._pixelRatio:window.devicePixelRatio}wheelHitTest(e={x:0,y:0}){let t=be(e,this.canvas,this.getActualPixelRatio());return wt(t,this._center.x,this._center.y,this._actualRadius)}refreshCursor(){if(this.isInteractive){if(this.isDragging){this.canvas.style.cursor="grabbing";return}if(this.isCursorOverWheel){this.canvas.style.cursor="grab";return}}this.canvas.style.cursor=""}getAngleFromCenter(e={x:0,y:0}){return(xt(this._center.x,this._center.y,e.x,e.y)+90)%360}getCurrentIndex(){return this._currentIndex}refreshCurrentIndex(e=[]){this._items.length===0&&(this._currentIndex=-1);for(let[t,i]of e.entries())if(bt(this._pointerAngle,i.start%360,i.end%360)){if(this._currentIndex===t)break;this._currentIndex=t,this._isInitialising||this.raiseEvent_onCurrentIndexChange();break}}getItemAngles(e=0){let t=0;for(let a of this.items)t+=a.weight;let i=360/t,r,n=e,s=[];for(let a of this._items)r=a.weight*i,s.push({start:n,end:n+r}),n+=r;return this._items.length>1&&(s[s.length-1].end=s[0].start+360),s}refresh(){this._frameRequestId===null&&(this._frameRequestId=window.requestAnimationFrame(this.draw.bind(this)))}limitSpeed(e=0,t=0){let i=Math.min(e,t);return Math.max(i,-t)}setSpeedSpeed(e=0,t=""){this.stop(),this._rotationSpeed=this.limitSpeed(e,this._rotationSpeedMax),this._rotationDirection=this._rotationSpeed>=0?1:-1,this._rotationSpeed!==0&&this.raiseEvent_onSpin({method:t,rotationSpeed:this._rotationSpeed,rotationResistance:this._rotationResistance}),this.refresh()}get borderColor(){return this._borderColor}set borderColor(e){this._borderColor=g({val:e,isValid:typeof e=="string",errorMessage:"Wheel.borderColor must be a string",defaultValue:h.wheel.borderColor}),this.refresh()}get borderWidth(){return this._borderWidth}set borderWidth(e){this._borderWidth=g({val:e,isValid:T(e),errorMessage:"Wheel.borderWidth must be a number",defaultValue:h.wheel.borderWidth}),this.refresh()}get debug(){return this._debug}set debug(e){this._debug=g({val:e,isValid:typeof e=="boolean",errorMessage:"Wheel.debug must be a boolean",defaultValue:h.wheel.debug}),this.refresh()}get image(){var e,t;return(t=(e=this._image)==null?void 0:e.src)!=null?t:null}set image(e){this._image=g({val:e,isValid:typeof e=="string"||e===null,errorMessage:"Wheel.image must be a url (string) or null",defaultValue:h.wheel.image,action:()=>{if(e===null)return null;let t=new Image;return t.src=e,t.onload=i=>this.refresh(),t}}),this.refresh()}get isInteractive(){return this._isInteractive}set isInteractive(e){this._isInteractive=g({val:e,isValid:typeof e=="boolean",errorMessage:"Wheel.isInteractive must be a boolean",defaultValue:h.wheel.isInteractive}),this.refreshCursor()}get itemBackgroundColors(){return this._itemBackgroundColors}set itemBackgroundColors(e){this._itemBackgroundColors=g({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemBackgroundColors must be an array",defaultValue:h.wheel.itemBackgroundColors}),this.refresh()}get itemLabelAlign(){return this._itemLabelAlign}set itemLabelAlign(e){this._itemLabelAlign=g({val:e,isValid:typeof e=="string",errorMessage:"Wheel.itemLabelAlign must be a string",defaultValue:h.wheel.itemLabelAlign}),this.refresh()}get itemLabelBaselineOffset(){return this._itemLabelBaselineOffset}set itemLabelBaselineOffset(e){this._itemLabelBaselineOffset=g({val:e,isValid:T(e),errorMessage:"Wheel.itemLabelBaselineOffset must be a number",defaultValue:h.wheel.itemLabelBaselineOffset}),this.resize()}get itemLabelColors(){return this._itemLabelColors}set itemLabelColors(e){this._itemLabelColors=g({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemLabelColors must be an array",defaultValue:h.wheel.itemLabelColors}),this.refresh()}get itemLabelFont(){return this._itemLabelFont}set itemLabelFont(e){this._itemLabelFont=g({val:e,isValid:typeof e=="string",errorMessage:"Wheel.itemLabelFont must be a string",defaultValue:h.wheel.itemLabelFont}),this.resize()}get itemLabelFontSizeMax(){return this._itemLabelFontSizeMax}set itemLabelFontSizeMax(e){this._itemLabelFontSizeMax=g({val:e,isValid:T(e),errorMessage:"Wheel.itemLabelFontSizeMax must be a number",defaultValue:h.wheel.itemLabelFontSizeMax}),this.resize()}get itemLabelRadius(){return this._itemLabelRadius}set itemLabelRadius(e){this._itemLabelRadius=g({val:e,isValid:T(e),errorMessage:"Wheel.itemLabelRadius must be a number",defaultValue:h.wheel.itemLabelRadius}),this.resize()}get itemLabelRadiusMax(){return this._itemLabelRadiusMax}set itemLabelRadiusMax(e){this._itemLabelRadiusMax=g({val:e,isValid:T(e),errorMessage:"Wheel.itemLabelRadiusMax must be a number",defaultValue:h.wheel.itemLabelRadiusMax}),this.resize()}get itemLabelRotation(){return this._itemLabelRotation}set itemLabelRotation(e){this._itemLabelRotation=g({val:e,isValid:T(e),errorMessage:"Wheel.itemLabelRotation must be a number",defaultValue:h.wheel.itemLabelRotation}),this.refresh()}get items(){return this._items}set items(e){this._items=g({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.items must be an array of Items",defaultValue:h.wheel.items,action:()=>{let t=[];for(let i of e)t.push(new Vt(this,{backgroundColor:i.backgroundColor,image:i.image,imageRadius:i.imageRadius,imageRotation:i.imageRotation,imageScale:i.imageScale,label:i.label,labelColor:i.labelColor,value:i.value,weight:i.weight}));return t}}),this.refreshCurrentIndex(this.getItemAngles(this._rotation))}get lineColor(){return this._lineColor}set lineColor(e){this._lineColor=g({val:e,isValid:typeof e=="string",errorMessage:"Wheel.lineColor must be a string",defaultValue:h.wheel.lineColor}),this.refresh()}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=g({val:e,isValid:T(e),errorMessage:"Wheel.lineWidth must be a number",defaultValue:h.wheel.lineWidth}),this.refresh()}get offset(){return this._offset}set offset(e){this._offset=g({val:e,isValid:ue(e),errorMessage:"Wheel.offset must be an object",defaultValue:h.wheel.offset}),this.resize()}get onCurrentIndexChange(){return this._onCurrentIndexChange}set onCurrentIndexChange(e){this._onCurrentIndexChange=g({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onCurrentIndexChange must be a function or null",defaultValue:h.wheel.onCurrentIndexChange})}get onRest(){return this._onRest}set onRest(e){this._onRest=g({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onRest must be a function or null",defaultValue:h.wheel.onRest})}get onSpin(){return this._onSpin}set onSpin(e){this._onSpin=g({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onSpin must be a function or null",defaultValue:h.wheel.onSpin})}get overlayImage(){var e,t;return(t=(e=this._overlayImage)==null?void 0:e.src)!=null?t:null}set overlayImage(e){this._overlayImage=g({val:e,isValid:typeof e=="string"||e===null,errorMessage:"Wheel.overlayImage must be a url (string) or null",defaultValue:h.wheel.overlayImage,action:()=>{if(e===null)return null;let t=new Image;return t.src=e,t.onload=i=>this.refresh(),t}}),this.refresh()}get pixelRatio(){return this._pixelRatio}set pixelRatio(e){this._pixelRatio=g({val:e,isValid:T(e),errorMessage:"Wheel.pixelRatio must be a number",defaultValue:h.wheel.pixelRatio}),this.resize()}get pointerAngle(){return this._pointerAngle}set pointerAngle(e){this._pointerAngle=g({val:e,isValid:T(e)&&e>=0,errorMessage:"Wheel.pointerAngle must be a number between 0 and 360",defaultValue:h.wheel.pointerAngle,action:()=>e%360}),this.debug&&this.refresh()}get radius(){return this._radius}set radius(e){this._radius=g({val:e,isValid:T(e),errorMessage:"Wheel.radius must be a number",defaultValue:h.wheel.radius}),this.resize()}get rotation(){return this._rotation}set rotation(e){this._rotation=g({val:e,isValid:T(e),errorMessage:"Wheel.rotation must be a number",defaultValue:h.wheel.rotation}),this.refreshCurrentIndex(this.getItemAngles(this._rotation)),this.refresh()}get rotationResistance(){return this._rotationResistance}set rotationResistance(e){this._rotationResistance=g({val:e,isValid:T(e),errorMessage:"Wheel.rotationResistance must be a number",defaultValue:h.wheel.rotationResistance})}get rotationSpeed(){return this._rotationSpeed}get rotationSpeedMax(){return this._rotationSpeedMax}set rotationSpeedMax(e){this._rotationSpeedMax=g({val:e,isValid:T(e)&&e>=0,errorMessage:"Wheel.rotationSpeedMax must be a number >= 0",defaultValue:h.wheel.rotationSpeedMax})}dragStart(e={x:0,y:0}){let t=be(e,this.canvas,this.getActualPixelRatio());this.isDragging=!0,this.stop(),this.dragEvents=[{distance:0,x:t.x,y:t.y,now:performance.now()}],this.refreshCursor()}dragMove(e={x:0,y:0}){let t=be(e,this.canvas,this.getActualPixelRatio()),i=this.getAngleFromCenter(t),r=this.dragEvents[0],n=this.getAngleFromCenter(r),s=yt(n,i);this.dragEvents.unshift({distance:s,x:t.x,y:t.y,now:performance.now()}),this.debug&&this.dragEvents.length>=40&&this.dragEvents.pop(),this.rotation+=s}dragEnd(){this.isDragging=!1;let e=0,t=performance.now();for(let[i,r]of this.dragEvents.entries()){if(!this.isDragEventTooOld(t,r)){e+=r.distance;continue}this.dragEvents.length=i;break}this.refreshCursor(),e!==0&&this.setSpeedSpeed(e*(1e3/250),"interact")}isDragEventTooOld(e=0,t={}){return e-t.now>250}raiseEvent_onCurrentIndexChange(e={}){var t;(t=this.onCurrentIndexChange)==null||t.call(this,ve({type:"currentIndexChange",currentIndex:this._currentIndex},e))}raiseEvent_onRest(e={}){var t;(t=this.onRest)==null||t.call(this,ve({type:"rest",currentIndex:this._currentIndex,rotation:this._rotation},e))}raiseEvent_onSpin(e={}){var t;(t=this.onSpin)==null||t.call(this,ve({type:"spin"},e))}},Wt=Math.PI;function qe(e){return(1-Math.cos(Wt*e))/2}function Ne(e){let t,i=e[0].text+"",r;return{c(){t=d("div"),r=oe(i),this.h()},l(n){t=c(n,"DIV",{class:!0});var s=w(t);r=he(s,i),s.forEach(A),this.h()},h(){m(t,"class","caption whitespace-pre-wrap text-sm")},m(n,s){O(n,t,s),u(t,r)},p(n,s){s&1&&i!==(i=n[0].text+"")&&pe(r,i)},d(n){n&&A(t)}}}function Bt(e){let t,i,r,n=(e[0].label??"")+"",s,a,l,o,f,x,q=e[0].percentage+"",V,p,_=e[0].text!==""&&Ne(e);return{c(){t=d("div"),i=d("div"),r=d("div"),s=oe(n),a=S(),_&&_.c(),o=S(),f=d("div"),x=d("div"),V=oe(q),p=oe("%"),this.h()},l(v){t=c(v,"DIV",{class:!0});var C=w(t);i=c(C,"DIV",{class:!0,style:!0});var U=w(i);r=c(U,"DIV",{});var k=w(r);s=he(k,n),k.forEach(A),a=M(U),_&&_.l(U),U.forEach(A),o=M(C),f=c(C,"DIV",{class:!0});var y=w(f);x=c(y,"DIV",{});var D=w(x);V=he(D,q),p=he(D,"%"),D.forEach(A),y.forEach(A),C.forEach(A),this.h()},h(){m(i,"class","flex flex-col outcome-left pl-2 svelte-nmsyay"),m(i,"style",l=`border-left: 8px solid ${e[1]}`),m(f,"class","flex flex-col justify-center"),m(t,"class","flex flex-row justify-between")},m(v,C){O(v,t,C),u(t,i),u(i,r),u(r,s),u(i,a),_&&_.m(i,null),u(t,o),u(t,f),u(f,x),u(x,V),u(x,p)},p(v,[C]){C&1&&n!==(n=(v[0].label??"")+"")&&pe(s,n),v[0].text!==""?_?_.p(v,C):(_=Ne(v),_.c(),_.m(i,null)):_&&(_.d(1),_=null),C&2&&l!==(l=`border-left: 8px solid ${v[1]}`)&&m(i,"style",l),C&1&&q!==(q=v[0].percentage+"")&&pe(V,q)},i:Te,o:Te,d(v){v&&A(t),_&&_.d()}}}function Dt(e,t,i){let{outcomeData:r}=t,{color:n}=t;return e.$$set=s=>{"outcomeData"in s&&i(0,r=s.outcomeData),"color"in s&&i(1,n=s.color)},[r,n]}class zt extends Xe{constructor(t){super(),Ze(this,t,Dt,Bt,Ge,{outcomeData:0,color:1})}}const{window:we}=dt;function je(e,t,i){const r=e.slice();r[19]=t[i],r[23]=i;const n=r[23]-Math.floor(r[23]/r[7].length);r[20]=n;const s=r[7][r[23]];return r[21]=s,r}function He(e){let t,i="developer @strawberria";return{c(){t=d("span"),t.textContent=i,this.h()},l(r){t=c(r,"SPAN",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-fydl1d"&&(t.textContent=i),this.h()},h(){m(t,"class","caption")},m(r,n){O(r,t,n)},d(r){r&&A(t)}}}function Ue(e){let t,i,r,n="Outcomes";return{c(){t=d("hr"),i=S(),r=d("div"),r.textContent=n},l(s){t=c(s,"HR",{}),i=M(s),r=c(s,"DIV",{"data-svelte-h":!0}),H(r)!=="svelte-o84tnz"&&(r.textContent=n)},m(s,a){O(s,t,a),O(s,i,a),O(s,r,a)},d(s){s&&(A(t),A(i),A(r))}}}function Qe(e){let t,i,r='<div class="flex flex-col"><div>Outcomes</div> <div class="caption mb-2">View possible outcomes for the wheel</div></div> <span class="caption">Developer: @strawberria</span>',n,s,a,l=e[6].outcomes.length>0&&Ke(e);return{c(){t=d("div"),i=d("div"),i.innerHTML=r,n=S(),l&&l.c(),this.h()},l(o){t=c(o,"DIV",{class:!0,style:!0});var f=w(t);i=c(f,"DIV",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-1e7xc6f"&&(i.innerHTML=r),n=M(f),l&&l.l(f),f.forEach(A),this.h()},h(){m(i,"class","flex flex-row justify-between w-full"),m(t,"class","h-full flex flex-col ml-4"),m(t,"style",s=`width: ${e[1]}px`)},m(o,f){O(o,t,f),u(t,i),u(t,n),l&&l.m(t,null),a=!0},p(o,f){o[6].outcomes.length>0?l?(l.p(o,f),f&64&&Q(l,1)):(l=Ke(o),l.c(),Q(l,1),l.m(t,null)):l&&(Ce(),Z(l,1,1,()=>{l=null}),xe()),(!a||f&2&&s!==(s=`width: ${o[1]}px`))&&m(t,"style",s)},i(o){a||(Q(l),a=!0)},o(o){Z(l),a=!1},d(o){o&&A(t),l&&l.d()}}}function Ke(e){let t,i,r=ze(e[6].outcomes),n=[];for(let a=0;a<r.length;a+=1)n[a]=Je(je(e,r,a));const s=a=>Z(n[a],1,1,()=>{n[a]=null});return{c(){t=d("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){t=c(a,"DIV",{class:!0});var l=w(t);for(let o=0;o<n.length;o+=1)n[o].l(l);l.forEach(A),this.h()},h(){m(t,"class","card-content outcomes-list flex flex-col space-y-1 items-stretch svelte-k2utje")},m(a,l){O(a,t,l);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null);i=!0},p(a,l){if(l&192){r=ze(a[6].outcomes);let o;for(o=0;o<r.length;o+=1){const f=je(a,r,o);n[o]?(n[o].p(f,l),Q(n[o],1)):(n[o]=Je(f),n[o].c(),Q(n[o],1),n[o].m(t,null))}for(Ce(),o=r.length;o<n.length;o+=1)s(o);xe()}},i(a){if(!i){for(let l=0;l<r.length;l+=1)Q(n[l]);i=!0}},o(a){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)Z(n[l]);i=!1},d(a){a&&A(t),rt(n,a)}}}function Ye(e){let t;return{c(){t=d("hr"),this.h()},l(i){t=c(i,"HR",{class:!0}),this.h()},h(){m(t,"class","mt-0.5 mb-0.5")},m(i,r){O(i,t,r)},d(i){i&&A(t)}}}function Je(e){let t,i,r,n;t=new zt({props:{outcomeData:e[19],color:e[21]}});let s=e[23]!==e[6].outcomes.length-1&&Ye();return{c(){nt(t.$$.fragment),i=S(),s&&s.c(),r=De()},l(a){st(t.$$.fragment,a),i=M(a),s&&s.l(a),r=De()},m(a,l){at(t,a,l),O(a,i,l),s&&s.m(a,l),O(a,r,l),n=!0},p(a,l){const o={};l&64&&(o.outcomeData=a[19]),t.$set(o),a[23]!==a[6].outcomes.length-1?s||(s=Ye(),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i(a){n||(Q(t.$$.fragment,a),n=!0)},o(a){Z(t.$$.fragment,a),n=!1},d(a){a&&(A(i),A(r)),lt(t,a),s&&s.d(a)}}}function Ft(e){let t,i,r,n,s,a,l="Extended Wheel of Fortune",o,f,x,q=`Try your luck and spin the <b>extended</b> wheel of fortune! <br/>
                    Now supporting additional actions and multiple wheels with individual cooldowns!`,V,p,_,v,C,U,k,y,D,W="Select",N,L,$="Choose which wheel to spin with",X,j,z,F,de="Task Wheel",K,ye="Freeze",Y,Le="Pillory",ce,ee,J,Re="<span>Spin the wheel!</span>",Ae,me,ie,fe,Ie;Ve(e[12]);let R=!e[5]&&He(),I=!e[5]&&Ue(),b=e[5]&&Qe(e);return{c(){t=d("div"),i=d("div"),r=d("div"),n=d("div"),s=d("div"),a=d("h4"),a.textContent=l,o=S(),R&&R.c(),f=S(),x=d("div"),x.innerHTML=q,V=S(),p=d("div"),v=S(),C=d("hr"),U=S(),k=d("div"),y=d("div"),D=d("div"),D.textContent=W,N=S(),L=d("div"),L.textContent=$,X=S(),j=d("div"),z=d("select"),F=d("option"),F.textContent=de,K=d("option"),K.textContent=ye,Y=d("option"),Y.textContent=Le,ce=S(),ee=d("div"),J=d("button"),J.innerHTML=Re,Ae=S(),I&&I.c(),me=S(),b&&b.c(),this.h()},l(E){t=c(E,"DIV",{class:!0});var G=w(t);i=c(G,"DIV",{class:!0});var Se=w(i);r=c(Se,"DIV",{class:!0});var ne=w(r);n=c(ne,"DIV",{class:!0});var P=w(n);s=c(P,"DIV",{class:!0});var se=w(s);a=c(se,"H4",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-8v8t59"&&(a.textContent=l),o=M(se),R&&R.l(se),se.forEach(A),f=M(P),x=c(P,"DIV",{class:!0,"data-svelte-h":!0}),H(x)!=="svelte-jxb10g"&&(x.innerHTML=q),V=M(P),p=c(P,"DIV",{class:!0}),w(p).forEach(A),v=M(P),C=c(P,"HR",{}),U=M(P),k=c(P,"DIV",{class:!0});var ae=w(k);y=c(ae,"DIV",{class:!0});var te=w(y);D=c(te,"DIV",{"data-svelte-h":!0}),H(D)!=="svelte-80uym4"&&(D.textContent=W),N=M(te),L=c(te,"DIV",{class:!0,"data-svelte-h":!0}),H(L)!=="svelte-wcdkar"&&(L.textContent=$),X=M(te),j=c(te,"DIV",{class:!0});var Me=w(j);z=c(Me,"SELECT",{class:!0});var le=w(z);F=c(le,"OPTION",{"data-svelte-h":!0}),H(F)!=="svelte-uave17"&&(F.textContent=de),K=c(le,"OPTION",{"data-svelte-h":!0}),H(K)!=="svelte-1wuskqe"&&(K.textContent=ye),Y=c(le,"OPTION",{"data-svelte-h":!0}),H(Y)!=="svelte-134j56c"&&(Y.textContent=Le),le.forEach(A),Me.forEach(A),te.forEach(A),ce=M(ae),ee=c(ae,"DIV",{class:!0});var Ee=w(ee);J=c(Ee,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(J)!=="svelte-18ur83x"&&(J.innerHTML=Re),Ee.forEach(A),ae.forEach(A),Ae=M(P),I&&I.l(P),P.forEach(A),me=M(ne),b&&b.l(ne),ne.forEach(A),Se.forEach(A),G.forEach(A),this.h()},h(){m(a,"class","mb-0"),m(s,"class","flex flex-row items-end justify-between space-x-1 mb-2"),m(x,"class","caption mb-2"),m(p,"class","aspect-square grow mt-1 wheel-container svelte-k2utje"),Ve(()=>e[14].call(p)),m(L,"class","caption mb-2"),F.__value="add_time",ge(F,F.__value),K.__value="freeze",ge(K,K.__value),Y.__value="pillory",ge(Y,Y.__value),m(z,"class","form-control"),m(j,"class","w-full"),m(y,"class","grow"),m(J,"type","button"),m(J,"class","btn btn-primary btn-lg"),m(ee,"class","flex flex-col justify-center ml-6 mr-6"),m(k,"class","w-full flex flex-row items-stretch space-x-4"),m(n,"class","h-full flex flex-col svelte-k2utje"),We(n,"card-horizontal",e[5]),m(r,"class","w-full h-full flex flex-row"),m(i,"class","card-content card-wrapper grow"),m(t,"class","container-bg min-w-0 min-h-0 p-4 space-y-2 grow svelte-k2utje")},m(E,G){O(E,t,G),u(t,i),u(i,r),u(r,n),u(n,s),u(s,a),u(s,o),R&&R.m(s,null),u(n,f),u(n,x),u(n,V),u(n,p),e[13](p),_=it(p,e[14].bind(p)),u(n,v),u(n,C),u(n,U),u(n,k),u(k,y),u(y,D),u(y,N),u(y,L),u(y,X),u(y,j),u(j,z),u(z,F),u(z,K),u(z,Y),u(k,ce),u(k,ee),u(ee,J),u(n,Ae),I&&I.m(n,null),u(r,me),b&&b.m(r,null),e[15](t),ie=!0,fe||(Ie=[Be(we,"resize",e[12]),Be(J,"click",e[9])],fe=!0)},p(E,[G]){E[5]?R&&(R.d(1),R=null):R||(R=He(),R.c(),R.m(s,null)),E[5]?I&&(I.d(1),I=null):I||(I=Ue(),I.c(),I.m(n,null)),(!ie||G&32)&&We(n,"card-horizontal",E[5]),E[5]?b?(b.p(E,G),G&32&&Q(b,1)):(b=Qe(E),b.c(),Q(b,1),b.m(r,null)):b&&(Ce(),Z(b,1,1,()=>{b=null}),xe())},i(E){ie||(Q(b),ie=!0)},o(E){Z(b),ie=!1},d(E){E&&A(t),R&&R.d(),e[13](null),_(),I&&I.d(),b&&b.d(),e[15](null),fe=!1,$e(Ie)}}}function Pt(e,t,i){let r;const n=["#fecaca","#fed7aa","#fde68a","#fef08a","#d9f99d","#bbf7d0","#a7f3d0","#99f6e4","#a5f3fc","#bae6fd","#bfdbfe","#c7d2fe","#ddd6fe","#e9d5ff","#f5d0fe","#fbcfe8","#fecdd3"],s=Array(16).fill(0).map(W=>{const N=new Audio(At);return N.volume=.3,N});let a=ot({outcomes:[]});et(e,a,W=>i(6,r=W)),a.update(W=>{const N={outcomes:[{percentage:"5.00",text:"After spending an entire day stumbling through the forest, you find yourself exactly back where you started.",key:"add_time",params:[86400]},{percentage:"10.00",text:"You make significant progress during your exploration, getting closer and closer to civilization.",key:"remove_time",params:[43200]},{percentage:"5.00",text:"",key:"share_link-requirement-add",params:[12]},{percentage:"20.00",text:"",key:"share_link-add_time-set",params:[14400]},{percentage:"4.50",text:"",key:"pillory-put",params:[]},{percentage:"0.50",text:"",key:"dice-regular_actions-set",params:["non_cumulative",3600]}]};return N.outcomes.forEach(L=>{L.label=ht(L)}),N});let l,o;function f(){o.spinToItem(Math.floor(Math.random()*o.items.length),5e3,!1,6,1,qe)}tt(()=>{const N={items:JSON.parse(JSON.stringify(r.outcomes.map((j,z)=>{const F=j.label??"";return{label:[ut(F,24),F.length>=32?"...":""].join(""),weight:z+1}}))),pointerAngle:270,itemBackgroundColors:n,itemLabelRadiusMax:.3,itemLabelRadius:.825,itemLabelAlign:"left",itemLabelRotation:180,borderWidth:2,overlayImage:mt};i(3,l.innerHTML="",l),o=new kt(l,N),window.wheel=o,window.ease=qe;let L=0,$=!1,X;o.onSpin=()=>{let j=0,z=30;clearInterval(X),X=setInterval(()=>{if($===!0){clearInterval(X),$=!1;return}o._rotation>=j+z&&(j=o._rotation,L=L+1<s.length?L+1:0,s[L].play())},10)},o.onRest=()=>{$=!0,o._rotation=o._rotation-360*Math.floor(o._rotation/360)}});let x,q,V,p,_=0,v=0,C=!0;function U(){i(0,x=we.innerWidth),i(4,q=we.innerHeight)}function k(W){ke[W?"unshift":"push"](()=>{l=W,i(3,l)})}function y(){V=this.clientWidth,i(1,V)}function D(W){ke[W?"unshift":"push"](()=>{p=W,i(2,p)})}return e.$$.update=()=>{e.$$.dirty&3079&&p!==void 0&&(i(10,_=parseFloat(getComputedStyle(p).fontSize)),i(11,v=V*2+4*_*4+(4*_+4)),i(5,C=x>v))},[x,V,p,l,q,C,r,n,a,f,_,v,U,k,y,D]}class Qt extends Xe{constructor(t){super(),Ze(this,t,Pt,Ft,Ge,{})}}export{Qt as component,Ut as universal};
