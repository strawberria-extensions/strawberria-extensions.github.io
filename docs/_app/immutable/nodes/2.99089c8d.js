import{s as _e,n as se,f as Ne,e as Ie,o as Dt,h as ie,b as Fe,r as Ot,i as Tt}from"../chunks/scheduler.9ce0fd20.js";import{S as Ct,i as Rt,g as R,m as K,s as F,h as L,j as O,n as Z,f as p,c as B,k as E,a as k,x as C,o as Ae,y as Le,z as ke,t as z,b as re,d as N,p as ae,A as Pt,B as G,C as le,D as Be,E as Wt,e as H,F as je,r as Lt,u as Et,v as St,w as kt}from"../chunks/index.22b49106.js";import{e as ne}from"../chunks/each.e59479a4.js";import{w as Ce}from"../chunks/index.84d87354.js";import{c as Nt}from"../chunks/logo.09e82b80.js";import{g as Mt,a as Ft,r as Bt,s as ze,t as jt}from"../chunks/utility.dd962d50.js";import{c as zt,g as Ut}from"../chunks/_commonjsHelpers.de833af9.js";const Ht=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,qt=!0,Wi=Object.freeze(Object.defineProperty({__proto__:null,prerender:qt},Symbol.toStringTag,{value:"Module"}));var Jt=Math.PI;function Ue(e){return(1-Math.cos(Jt*e))/2}const Yt="data:audio/mpeg;base64,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",Qt=""+new URL("../assets/wheel-bg-overlay.1f6ec841.svg",import.meta.url).href;var Gt=Object.defineProperty,He=Object.getOwnPropertySymbols,Kt=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable,Ve=Math.pow,qe=(e,t,l)=>t in e?Gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,De=(e,t)=>{for(var l in t||(t={}))Kt.call(t,l)&&qe(e,l,t[l]);if(He)for(var l of He(t))Zt.call(t,l)&&qe(e,l,t[l]);return e};function Xt(e=0,t=0,l=14){return parseFloat((Math.random()*(t-e)+e).toFixed(l))}function $(e=0){return e*Math.PI/180}function $t(e,t,l){return t<l?t<=e&&e<l:t<=e||e<l}function ei(e,t,l,i){i.save(),i.font=`1px ${t}`;let n=i.measureText(e).width;return i.restore(),l/n}function ti(e={x:0,y:0},t,l,i){return Ve(e.x-t,2)+Ve(e.y-l,2)<=Ve(i,2)}function Oe(e={x:0,y:0},t={},l=1){let i=t.getBoundingClientRect();return{x:(e.x-i.left)*l,y:(e.y-i.top)*l}}function ii(e,t,l,i){let n=e-l,r=t-i,s=Math.atan2(-r,-n);return s*=180/Math.PI,s<0&&(s+=360),s}function li(e=0,t=0){let l=e+t,i;return l>0?i=l%360:i=360+l%360,i===360&&(i=0),i}function si(e=0,t=0){let l=180-t;return 180-li(e,l)}function ni(e=0,t=0,l=1){let i=(e%360+t)%360;return i=ri(i),i=(l===1?360-i:360+i)%360,i*=l,e+i}function Me(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}function Q(e){return typeof e=="number"&&!Number.isNaN(e)}function P({val:e,isValid:t,errorMessage:l,defaultValue:i,action:n=null}){if(t)return n?n():e;if(e===void 0)return i;throw new Error(l)}function Je(e){return e&&e.complete&&e.naturalWidth!==0&&e.naturalHeight!==0}function ri(e=0){return Number(e.toFixed(9))}function ai(e){return Math.sin(e*Math.PI/2)}var oi=Object.freeze({left:"left",right:"right",center:"center"}),V=Object.freeze({wheel:{borderColor:"#000",borderWidth:1,debug:!1,image:null,isInteractive:!0,itemBackgroundColors:["#fff"],itemLabelAlign:oi.right,itemLabelBaselineOffset:0,itemLabelColors:["#000"],itemLabelFont:"sans-serif",itemLabelFontSizeMax:500,itemLabelRadius:.85,itemLabelRadiusMax:.2,itemLabelRotation:0,items:[],lineColor:"#000",lineWidth:1,pixelRatio:0,radius:.95,rotation:0,rotationResistance:-35,rotationSpeedMax:300,offset:{w:0,h:0},onCurrentIndexChange:null,onRest:null,onSpin:null,overlayImage:null,pointerAngle:0},item:{backgroundColor:null,image:null,imageRadius:.5,imageRotation:0,imageScale:1,label:"",labelColor:null,labelFont:null,weight:1}}),Re=Object.freeze({pointerLineColor:"#ff00ff",labelOutlineColor:"#ff00ff",labelRadiusColor:"#00ff00",dragEventHue:200});function hi(e={}){fi(e),e._handler_onResize=e.resize.bind(e),window.addEventListener("resize",e._handler_onResize)}function ui(e={}){let t=e.canvas;"PointerEvent"in window?(t.removeEventListener("pointerdown",e._handler_onPointerDown),t.removeEventListener("pointermove",e._handler_onPointerMoveRefreshCursor)):(t.removeEventListener("touchstart",e._handler_onTouchStart),t.removeEventListener("mousedown",e._handler_onMouseDown),t.removeEventListener("mousemove",e._handler_onMouseMoveRefreshCursor)),window.removeEventListener("resize",e._handler_onResize)}function fi(e={}){let t=e.canvas;e._handler_onPointerMoveRefreshCursor=(l={})=>{let i={x:l.clientX,y:l.clientY};e.isCursorOverWheel=e.wheelHitTest(i),e.refreshCursor()},e._handler_onMouseMoveRefreshCursor=(l={})=>{let i={x:l.clientX,y:l.clientY};e.isCursorOverWheel=e.wheelHitTest(i),e.refreshCursor()},e._handler_onPointerDown=(l={})=>{let i={x:l.clientX,y:l.clientY};if(!e.isInteractive||!e.wheelHitTest(i))return;l.preventDefault(),e.dragStart(i),t.setPointerCapture(l.pointerId),t.addEventListener("pointermove",n),t.addEventListener("pointerup",r),t.addEventListener("pointercancel",r),t.addEventListener("pointerout",r);function n(s={}){s.preventDefault(),e.dragMove({x:s.clientX,y:s.clientY})}function r(s={}){s.preventDefault(),t.releasePointerCapture(s.pointerId),t.removeEventListener("pointermove",n),t.removeEventListener("pointerup",r),t.removeEventListener("pointercancel",r),t.removeEventListener("pointerout",r),e.dragEnd()}},e._handler_onMouseDown=(l={})=>{let i={x:l.clientX,y:l.clientY};if(!e.isInteractive||!e.wheelHitTest(i))return;e.dragStart(i),document.addEventListener("mousemove",n),document.addEventListener("mouseup",r);function n(s={}){s.preventDefault(),e.dragMove({x:s.clientX,y:s.clientY})}function r(s={}){s.preventDefault(),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),e.dragEnd()}},e._handler_onTouchStart=(l={})=>{let i={x:l.targetTouches[0].clientX,y:l.targetTouches[0].clientY};if(!e.isInteractive||!e.wheelHitTest(i))return;l.preventDefault(),e.dragStart(i),t.addEventListener("touchmove",n),t.addEventListener("touchend",r),t.addEventListener("touchcancel",r);function n(s={}){s.preventDefault(),e.dragMove({x:s.targetTouches[0].clientX,y:s.targetTouches[0].clientY})}function r(s={}){s.preventDefault(),t.removeEventListener("touchmove",n),t.removeEventListener("touchend",r),t.removeEventListener("touchcancel",r),e.dragEnd()}},"PointerEvent"in window?(t.addEventListener("pointerdown",e._handler_onPointerDown),t.addEventListener("pointermove",e._handler_onPointerMoveRefreshCursor)):(t.addEventListener("touchstart",e._handler_onTouchStart),t.addEventListener("mousedown",e._handler_onMouseDown),t.addEventListener("mousemove",e._handler_onMouseMoveRefreshCursor))}var ci=class{constructor(e,t={}){if(!Me(e))throw new Error("wheel must be an instance of Wheel");if(!Me(t)&&t!==null)throw new Error("props must be an Object or null");this._wheel=e;for(let l of Object.keys(V.item))this["_"+l]=V.item[l];t?this.init(t):this.init(V.item)}init(e={}){this.backgroundColor=e.backgroundColor,this.image=e.image,this.imageRadius=e.imageRadius,this.imageRotation=e.imageRotation,this.imageScale=e.imageScale,this.label=e.label,this.labelColor=e.labelColor,this.value=e.value,this.weight=e.weight}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){typeof e=="string"?this._backgroundColor=e:this._backgroundColor=V.item.backgroundColor,this._wheel.refresh()}get image(){return this._image}set image(e){let t;typeof e=="string"?(t=new Image,t.src=e,t.onload=l=>this._wheel.refresh()):t=V.item.image,this._image=t,this._wheel.refresh()}get imageRadius(){return this._imageRadius}set imageRadius(e){typeof e=="number"?this._imageRadius=e:this._imageRadius=V.item.imageRadius,this._wheel.refresh()}get imageRotation(){return this._imageRotation}set imageRotation(e){typeof e=="number"?this._imageRotation=e:this._imageRotation=V.item.imageRotation,this._wheel.refresh()}get imageScale(){return this._imageScale}set imageScale(e){typeof e=="number"?this._imageScale=e:this._imageScale=V.item.imageScale,this._wheel.refresh()}get label(){return this._label}set label(e){typeof e=="string"?this._label=e:this._label=V.item.label,this._wheel.refresh()}get labelColor(){return this._labelColor}set labelColor(e){typeof e=="string"?this._labelColor=e:this._labelColor=V.item.labelColor,this._wheel.refresh()}get value(){return this._value}set value(e){this._value=e}get weight(){return this._weight}set weight(e){typeof e=="number"?this._weight=e:this._weight=V.item.weight}getIndex(){let e=this._wheel.items.findIndex(t=>t===this);if(e===-1)throw new Error("Item not found in parent Wheel");return e}getCenterAngle(){let e=this._wheel.getItemAngles()[this.getIndex()];return e.start+(e.end-e.start)/2}getStartAngle(){return this._wheel.getItemAngles()[this.getIndex()].start}getEndAngle(){return this._wheel.getItemAngles()[this.getIndex()].end}getRandomAngle(){return Xt(this.getStartAngle(),this.getEndAngle())}},di=class{constructor(e,t={}){if(this._frameRequestId=null,this._rotationSpeed=0,this._rotationDirection=1,!(e instanceof Element))throw new Error("container must be an instance of Element");if(!Me(t)&&t!==null)throw new Error("props must be an Object or null");this._canvasContainer=e,this.canvas=document.createElement("canvas"),this._context=this.canvas.getContext("2d"),this.addCanvas(),hi(this);for(let l of Object.keys(V.wheel))this["_"+l]=V.wheel[l];t?this.init(t):this.init(V.wheel)}init(e={}){this._isInitialising=!0,this.borderColor=e.borderColor,this.borderWidth=e.borderWidth,this.debug=e.debug,this.image=e.image,this.isInteractive=e.isInteractive,this.itemBackgroundColors=e.itemBackgroundColors,this.itemLabelAlign=e.itemLabelAlign,this.itemLabelBaselineOffset=e.itemLabelBaselineOffset,this.itemLabelColors=e.itemLabelColors,this.itemLabelFont=e.itemLabelFont,this.itemLabelFontSizeMax=e.itemLabelFontSizeMax,this.itemLabelRadius=e.itemLabelRadius,this.itemLabelRadiusMax=e.itemLabelRadiusMax,this.itemLabelRotation=e.itemLabelRotation,this.items=e.items,this.lineColor=e.lineColor,this.lineWidth=e.lineWidth,this.pixelRatio=e.pixelRatio,this.rotationSpeedMax=e.rotationSpeedMax,this.radius=e.radius,this.rotation=e.rotation,this.rotationResistance=e.rotationResistance,this.offset=e.offset,this.onCurrentIndexChange=e.onCurrentIndexChange,this.onRest=e.onRest,this.onSpin=e.onSpin,this.overlayImage=e.overlayImage,this.pointerAngle=e.pointerAngle}addCanvas(){this._canvasContainer.appendChild(this.canvas)}removeCanvas(){this._canvasContainer.removeChild(this.canvas)}remove(){window.cancelAnimationFrame(this._frameRequestId),ui(this),this.removeCanvas()}resize(){let[e,t]=[this._canvasContainer.clientWidth*this.getActualPixelRatio(),this._canvasContainer.clientHeight*this.getActualPixelRatio()],l=Math.min(e,t),i={w:l-l*this.offset.w,h:l-l*this.offset.h},n=Math.min(e/i.w,t/i.h);this._size=Math.max(i.w*n,i.h*n),this.canvas.style.width=this._canvasContainer.clientWidth+"px",this.canvas.style.height=this._canvasContainer.clientHeight+"px",this.canvas.width=e,this.canvas.height=t,this._center={x:e/2+e*this.offset.w,y:t/2+t*this.offset.h},this._actualRadius=this._size/2*this.radius,this.itemLabelFontSize=this.itemLabelFontSizeMax*(this._size/500),this.labelMaxWidth=this._actualRadius*(this.itemLabelRadius-this.itemLabelRadiusMax);for(let r of this._items)this.itemLabelFontSize=Math.min(this.itemLabelFontSize,ei(r.label,this.itemLabelFont,this.labelMaxWidth,this._context));this.refresh()}draw(e=0){this._frameRequestId=null;let t=this._context;t.clearRect(0,0,this.canvas.width,this.canvas.height),this.animateRotation(e);let l=this.getItemAngles(this._rotation),i=this.getActualBorderWidth();t.textBaseline="middle",t.textAlign=this.itemLabelAlign,t.font=this.itemLabelFontSize+"px "+this.itemLabelFont,t.save();for(let[n,r]of l.entries()){let s=new Path2D;s.moveTo(this._center.x,this._center.y),s.arc(this._center.x,this._center.y,this._actualRadius-i/2,$(r.start+-90),$(r.end+-90)),this._items[n].path=s}this.drawItemBackgrounds(t,l),this.drawItemImages(t,l),this.drawItemLines(t,l),this.drawItemLabels(t,l),this.drawBorder(t),this.drawImage(t,this._image,!1),this.drawImage(t,this._overlayImage,!0),this.drawPointerLine(t),this.drawDragEvents(t),this._isInitialising=!1}drawItemBackgrounds(e,t=[]){var l;for(let[i,n]of t.entries()){let r=this._items[i];e.fillStyle=(l=r.backgroundColor)!=null?l:this.itemBackgroundColors[i%this.itemBackgroundColors.length],e.fill(r.path)}}drawItemImages(e,t=[]){for(let[l,i]of t.entries()){let n=this._items[l];if(!Je(n.image))return;e.save(),e.clip(n.path);let r=i.start+(i.end-i.start)/2;e.translate(this._center.x+Math.cos($(r+-90))*(this._actualRadius*n.imageRadius),this._center.y+Math.sin($(r+-90))*(this._actualRadius*n.imageRadius)),e.rotate($(r+n.imageRotation));let s=this._size/500*n.image.width*n.imageScale,a=this._size/500*n.image.height*n.imageScale,h=-s/2,A=-a/2;e.drawImage(n.image,h,A,s,a),e.restore()}}drawImage(e,t,l=!1){if(!Je(t))return;e.translate(this._center.x,this._center.y),l||e.rotate($(this._rotation));let i=l?this._size:this._size*this.radius,n=-(i/2);e.drawImage(t,n,n,i,i),e.resetTransform()}drawPointerLine(e){!this.debug||(e.translate(this._center.x,this._center.y),e.rotate($(this._pointerAngle+-90)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius*2,0),e.strokeStyle=Re.pointerLineColor,e.lineWidth=2,e.stroke(),e.resetTransform())}drawBorder(e){if(this.borderWidth<=0)return;let t=this.getActualBorderWidth(),l=this._borderColor||"transparent";e.beginPath(),e.strokeStyle=l,e.lineWidth=t,e.arc(this._center.x,this._center.y,this._actualRadius-t/2,0,2*Math.PI),e.stroke(),this.debug&&(e.beginPath(),e.strokeStyle=e.strokeStyle=Re.labelRadiusColor,e.lineWidth=1,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadius,0,2*Math.PI),e.stroke(),e.beginPath(),e.strokeStyle=e.strokeStyle=Re.labelRadiusColor,e.lineWidth=1,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadiusMax,0,2*Math.PI),e.stroke())}drawItemLines(e,t=[]){if(this.lineWidth<=0)return;let l=this.lineWidth/500*this._size,i=this.getActualBorderWidth();e.translate(this._center.x,this._center.y);for(let n of t)e.rotate($(n.start+-90)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius-i,0),e.strokeStyle=this.lineColor,e.lineWidth=l,e.stroke(),e.rotate(-$(n.start+-90));e.resetTransform()}drawItemLabels(e,t=[]){let l=this.itemLabelFontSize*-this.itemLabelBaselineOffset;for(let[i,n]of t.entries()){let r=this._items[i],s=r.labelColor||this._itemLabelColors[i%this._itemLabelColors.length]||"transparent";if(r.label.trim()===""||s==="transparent")continue;e.save(),e.clip(r.path);let a=n.start+(n.end-n.start)/2;e.translate(this._center.x+Math.cos($(a+-90))*(this._actualRadius*this.itemLabelRadius),this._center.y+Math.sin($(a+-90))*(this._actualRadius*this.itemLabelRadius)),e.rotate($(a+-90)),e.rotate($(this.itemLabelRotation)),this.debug&&(e.beginPath(),e.moveTo(0,0),e.lineTo(-this.labelMaxWidth,0),e.strokeStyle=Re.labelOutlineColor,e.lineWidth=1,e.stroke(),e.strokeRect(0,-this.itemLabelFontSize/2,-this.labelMaxWidth,this.itemLabelFontSize)),e.fillStyle=s,e.fillText(r.label,0,l),e.restore()}}drawDragEvents(e){var t;if(!this.debug||!((t=this.dragEvents)!=null&&t.length))return;let l=[...this.dragEvents].reverse();for(let[i,n]of l.entries()){let r=i/this.dragEvents.length*100;e.beginPath(),e.arc(n.x,n.y,5,0,2*Math.PI),e.fillStyle=`hsl(${Re.dragEventHue},100%,${r}%)`,e.strokeStyle="#000",e.lineWidth=.5,e.fill(),e.stroke()}}animateRotation(e=0){if(this._spinToTimeEnd){if(e>=this._spinToTimeEnd){this.rotation=this._spinToEndRotation,this._spinToTimeEnd=void 0,this.raiseEvent_onRest();return}this.refresh();let t=this._spinToTimeEnd-this._spinToTimeStart,l=(e-this._spinToTimeStart)/t;l=l<0?0:l;let i=this._spinToEndRotation-this._spinToStartRotation;this.rotation=this._spinToStartRotation+i*this._spinToEasingFunction(l);return}if(this._rotationSpeed!==0){this.refresh(),this._lastFrameTime===void 0&&(this._lastFrameTime=e);let t=e-this._lastFrameTime;t>0&&(this.rotation+=t/1e3*this._rotationSpeed%360,this._rotationSpeed=this.getRotationSpeedPlusDrag(t),this._rotationSpeed===0&&this.raiseEvent_onRest(),this._lastFrameTime=e);return}this._lastFrameTime=void 0}getRotationSpeedPlusDrag(e=0){let t=this._rotationSpeed+this.rotationResistance*(e/1e3)*this._rotationDirection;return this._rotationDirection===1&&t<0||this._rotationDirection===-1&&t>=0?0:t}spin(e=0){if(!Q(e))throw new Error("rotationSpeed must be a number");this.setSpeedSpeed(e,"spin")}spinTo(e=0,t=0,l=null){if(Number.isNaN(e))throw new Error("Error: newRotation parameter is NaN");this.stop(),this.animate(e,t,l),this.raiseEvent_onSpin({method:"spinto",targetRotation:e,duration:t})}spinToItem(e=0,t=0,l=!0,i=1,n=1,r=null){this.stop();let s=l?this.items[e].getCenterAngle():this.items[e].getRandomAngle(),a=ni(this.rotation,s-this._pointerAngle,n);a+=i*360*n,this.animate(a,t,r),this.raiseEvent_onSpin({method:"spintoitem",targetItemIndex:e,targetRotation:a,duration:t})}animate(e,t,l){this._spinToStartRotation=this.rotation,this._spinToEndRotation=e,this._spinToTimeStart=performance.now(),this._spinToTimeEnd=this._spinToTimeStart+t,this._spinToEasingFunction=l||ai,this.refresh()}stop(){this._rotationSpeed=0,this._spinToTimeEnd=void 0}getActualBorderWidth(){return this.borderWidth/500*this._size}getActualPixelRatio(){return this._pixelRatio!==0?this._pixelRatio:window.devicePixelRatio}wheelHitTest(e={x:0,y:0}){let t=Oe(e,this.canvas,this.getActualPixelRatio());return ti(t,this._center.x,this._center.y,this._actualRadius)}refreshCursor(){if(this.isInteractive){if(this.isDragging){this.canvas.style.cursor="grabbing";return}if(this.isCursorOverWheel){this.canvas.style.cursor="grab";return}}this.canvas.style.cursor=""}getAngleFromCenter(e={x:0,y:0}){return(ii(this._center.x,this._center.y,e.x,e.y)+90)%360}getCurrentIndex(){return this._currentIndex}refreshCurrentIndex(e=[]){this._items.length===0&&(this._currentIndex=-1);for(let[t,l]of e.entries())if($t(this._pointerAngle,l.start%360,l.end%360)){if(this._currentIndex===t)break;this._currentIndex=t,this._isInitialising||this.raiseEvent_onCurrentIndexChange();break}}getItemAngles(e=0){let t=0;for(let s of this.items)t+=s.weight;let l=360/t,i,n=e,r=[];for(let s of this._items)i=s.weight*l,r.push({start:n,end:n+i}),n+=i;return this._items.length>1&&(r[r.length-1].end=r[0].start+360),r}refresh(){this._frameRequestId===null&&(this._frameRequestId=window.requestAnimationFrame(this.draw.bind(this)))}limitSpeed(e=0,t=0){let l=Math.min(e,t);return Math.max(l,-t)}setSpeedSpeed(e=0,t=""){this.stop(),this._rotationSpeed=this.limitSpeed(e,this._rotationSpeedMax),this._rotationDirection=this._rotationSpeed>=0?1:-1,this._rotationSpeed!==0&&this.raiseEvent_onSpin({method:t,rotationSpeed:this._rotationSpeed,rotationResistance:this._rotationResistance}),this.refresh()}get borderColor(){return this._borderColor}set borderColor(e){this._borderColor=P({val:e,isValid:typeof e=="string",errorMessage:"Wheel.borderColor must be a string",defaultValue:V.wheel.borderColor}),this.refresh()}get borderWidth(){return this._borderWidth}set borderWidth(e){this._borderWidth=P({val:e,isValid:Q(e),errorMessage:"Wheel.borderWidth must be a number",defaultValue:V.wheel.borderWidth}),this.refresh()}get debug(){return this._debug}set debug(e){this._debug=P({val:e,isValid:typeof e=="boolean",errorMessage:"Wheel.debug must be a boolean",defaultValue:V.wheel.debug}),this.refresh()}get image(){var e,t;return(t=(e=this._image)==null?void 0:e.src)!=null?t:null}set image(e){this._image=P({val:e,isValid:typeof e=="string"||e===null,errorMessage:"Wheel.image must be a url (string) or null",defaultValue:V.wheel.image,action:()=>{if(e===null)return null;let t=new Image;return t.src=e,t.onload=l=>this.refresh(),t}}),this.refresh()}get isInteractive(){return this._isInteractive}set isInteractive(e){this._isInteractive=P({val:e,isValid:typeof e=="boolean",errorMessage:"Wheel.isInteractive must be a boolean",defaultValue:V.wheel.isInteractive}),this.refreshCursor()}get itemBackgroundColors(){return this._itemBackgroundColors}set itemBackgroundColors(e){this._itemBackgroundColors=P({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemBackgroundColors must be an array",defaultValue:V.wheel.itemBackgroundColors}),this.refresh()}get itemLabelAlign(){return this._itemLabelAlign}set itemLabelAlign(e){this._itemLabelAlign=P({val:e,isValid:typeof e=="string",errorMessage:"Wheel.itemLabelAlign must be a string",defaultValue:V.wheel.itemLabelAlign}),this.refresh()}get itemLabelBaselineOffset(){return this._itemLabelBaselineOffset}set itemLabelBaselineOffset(e){this._itemLabelBaselineOffset=P({val:e,isValid:Q(e),errorMessage:"Wheel.itemLabelBaselineOffset must be a number",defaultValue:V.wheel.itemLabelBaselineOffset}),this.resize()}get itemLabelColors(){return this._itemLabelColors}set itemLabelColors(e){this._itemLabelColors=P({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemLabelColors must be an array",defaultValue:V.wheel.itemLabelColors}),this.refresh()}get itemLabelFont(){return this._itemLabelFont}set itemLabelFont(e){this._itemLabelFont=P({val:e,isValid:typeof e=="string",errorMessage:"Wheel.itemLabelFont must be a string",defaultValue:V.wheel.itemLabelFont}),this.resize()}get itemLabelFontSizeMax(){return this._itemLabelFontSizeMax}set itemLabelFontSizeMax(e){this._itemLabelFontSizeMax=P({val:e,isValid:Q(e),errorMessage:"Wheel.itemLabelFontSizeMax must be a number",defaultValue:V.wheel.itemLabelFontSizeMax}),this.resize()}get itemLabelRadius(){return this._itemLabelRadius}set itemLabelRadius(e){this._itemLabelRadius=P({val:e,isValid:Q(e),errorMessage:"Wheel.itemLabelRadius must be a number",defaultValue:V.wheel.itemLabelRadius}),this.resize()}get itemLabelRadiusMax(){return this._itemLabelRadiusMax}set itemLabelRadiusMax(e){this._itemLabelRadiusMax=P({val:e,isValid:Q(e),errorMessage:"Wheel.itemLabelRadiusMax must be a number",defaultValue:V.wheel.itemLabelRadiusMax}),this.resize()}get itemLabelRotation(){return this._itemLabelRotation}set itemLabelRotation(e){this._itemLabelRotation=P({val:e,isValid:Q(e),errorMessage:"Wheel.itemLabelRotation must be a number",defaultValue:V.wheel.itemLabelRotation}),this.refresh()}get items(){return this._items}set items(e){this._items=P({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.items must be an array of Items",defaultValue:V.wheel.items,action:()=>{let t=[];for(let l of e)t.push(new ci(this,{backgroundColor:l.backgroundColor,image:l.image,imageRadius:l.imageRadius,imageRotation:l.imageRotation,imageScale:l.imageScale,label:l.label,labelColor:l.labelColor,value:l.value,weight:l.weight}));return t}}),this.refreshCurrentIndex(this.getItemAngles(this._rotation))}get lineColor(){return this._lineColor}set lineColor(e){this._lineColor=P({val:e,isValid:typeof e=="string",errorMessage:"Wheel.lineColor must be a string",defaultValue:V.wheel.lineColor}),this.refresh()}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=P({val:e,isValid:Q(e),errorMessage:"Wheel.lineWidth must be a number",defaultValue:V.wheel.lineWidth}),this.refresh()}get offset(){return this._offset}set offset(e){this._offset=P({val:e,isValid:Me(e),errorMessage:"Wheel.offset must be an object",defaultValue:V.wheel.offset}),this.resize()}get onCurrentIndexChange(){return this._onCurrentIndexChange}set onCurrentIndexChange(e){this._onCurrentIndexChange=P({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onCurrentIndexChange must be a function or null",defaultValue:V.wheel.onCurrentIndexChange})}get onRest(){return this._onRest}set onRest(e){this._onRest=P({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onRest must be a function or null",defaultValue:V.wheel.onRest})}get onSpin(){return this._onSpin}set onSpin(e){this._onSpin=P({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onSpin must be a function or null",defaultValue:V.wheel.onSpin})}get overlayImage(){var e,t;return(t=(e=this._overlayImage)==null?void 0:e.src)!=null?t:null}set overlayImage(e){this._overlayImage=P({val:e,isValid:typeof e=="string"||e===null,errorMessage:"Wheel.overlayImage must be a url (string) or null",defaultValue:V.wheel.overlayImage,action:()=>{if(e===null)return null;let t=new Image;return t.src=e,t.onload=l=>this.refresh(),t}}),this.refresh()}get pixelRatio(){return this._pixelRatio}set pixelRatio(e){this._pixelRatio=P({val:e,isValid:Q(e),errorMessage:"Wheel.pixelRatio must be a number",defaultValue:V.wheel.pixelRatio}),this.resize()}get pointerAngle(){return this._pointerAngle}set pointerAngle(e){this._pointerAngle=P({val:e,isValid:Q(e)&&e>=0,errorMessage:"Wheel.pointerAngle must be a number between 0 and 360",defaultValue:V.wheel.pointerAngle,action:()=>e%360}),this.debug&&this.refresh()}get radius(){return this._radius}set radius(e){this._radius=P({val:e,isValid:Q(e),errorMessage:"Wheel.radius must be a number",defaultValue:V.wheel.radius}),this.resize()}get rotation(){return this._rotation}set rotation(e){this._rotation=P({val:e,isValid:Q(e),errorMessage:"Wheel.rotation must be a number",defaultValue:V.wheel.rotation}),this.refreshCurrentIndex(this.getItemAngles(this._rotation)),this.refresh()}get rotationResistance(){return this._rotationResistance}set rotationResistance(e){this._rotationResistance=P({val:e,isValid:Q(e),errorMessage:"Wheel.rotationResistance must be a number",defaultValue:V.wheel.rotationResistance})}get rotationSpeed(){return this._rotationSpeed}get rotationSpeedMax(){return this._rotationSpeedMax}set rotationSpeedMax(e){this._rotationSpeedMax=P({val:e,isValid:Q(e)&&e>=0,errorMessage:"Wheel.rotationSpeedMax must be a number >= 0",defaultValue:V.wheel.rotationSpeedMax})}dragStart(e={x:0,y:0}){let t=Oe(e,this.canvas,this.getActualPixelRatio());this.isDragging=!0,this.stop(),this.dragEvents=[{distance:0,x:t.x,y:t.y,now:performance.now()}],this.refreshCursor()}dragMove(e={x:0,y:0}){let t=Oe(e,this.canvas,this.getActualPixelRatio()),l=this.getAngleFromCenter(t),i=this.dragEvents[0],n=this.getAngleFromCenter(i),r=si(n,l);this.dragEvents.unshift({distance:r,x:t.x,y:t.y,now:performance.now()}),this.debug&&this.dragEvents.length>=40&&this.dragEvents.pop(),this.rotation+=r}dragEnd(){this.isDragging=!1;let e=0,t=performance.now();for(let[l,i]of this.dragEvents.entries()){if(!this.isDragEventTooOld(t,i)){e+=i.distance;continue}this.dragEvents.length=l;break}this.refreshCursor(),e!==0&&this.setSpeedSpeed(e*(1e3/250),"interact")}isDragEventTooOld(e=0,t={}){return e-t.now>250}raiseEvent_onCurrentIndexChange(e={}){var t;(t=this.onCurrentIndexChange)==null||t.call(this,De({type:"currentIndexChange",currentIndex:this._currentIndex},e))}raiseEvent_onRest(e={}){var t;(t=this.onRest)==null||t.call(this,De({type:"rest",currentIndex:this._currentIndex,rotation:this._rotation},e))}raiseEvent_onSpin(e={}){var t;(t=this.onSpin)==null||t.call(this,De({type:"spin"},e))}},xt={exports:{}};(function(e,t){(function(i,n){e.exports=n()})(zt,function(){return function(){var l={165:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.abs=void 0;function h(A){return(typeof A=="number"||typeof A=="bigint")&&(A=A.toString()),A[0]=="-"?A.substring(1):A}a.abs=h},217:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.pad=a.trim=a.add=void 0;function h(f,_){var v;_===void 0&&(_="0");var m=0,I=-1;f[0]=="-"&&(f=f.substring(1),u(f)||(m++,I=1,f.length)),_[0]=="-"&&(_=_.substring(1),u(_)||(m++,I=2,_.length)),f=b(f),_=b(_),v=c(b(f),b(_)),f=v[0],_=v[1],m==1&&(I===1?f=A(f):I===2&&(_=A(_)));var g=o(f,_);return m?m==2?"-"+b(g):f.length<g.length?b(g.substring(1)):"-"+b(A(g)):b(g)}a.add=h;function A(f){if(u(f))return f;for(var _="",v=f.length,m=f.split(".")[1],I=m?m.length:0,g=0;g<v;g++)f[g]>="0"&&f[g]<="9"?_+=9-parseInt(f[g]):_+=f[g];var d=I>0?"0."+new Array(I).join("0")+"1":"1";return o(_,d)}function b(f){var _=f.split(".");for(_[0]||(_[0]="0");_[0][0]=="0"&&_[0].length>1;)_[0]=_[0].substring(1);return _[0]+(_[1]?"."+_[1]:"")}a.trim=b;function c(f,_){var v=f.split("."),m=_.split("."),I=v[0].length,g=m[0].length;return I>g?m[0]=new Array(Math.abs(I-g)+1).join("0")+(m[0]?m[0]:""):v[0]=new Array(Math.abs(I-g)+1).join("0")+(v[0]?v[0]:""),I=v[1]?v[1].length:0,g=m[1]?m[1].length:0,(I||g)&&(I>g?m[1]=(m[1]?m[1]:"")+new Array(Math.abs(I-g)+1).join("0"):v[1]=(v[1]?v[1]:"")+new Array(Math.abs(I-g)+1).join("0")),f=v[0]+(v[1]?"."+v[1]:""),_=m[0]+(m[1]?"."+m[1]:""),[f,_]}a.pad=c;function o(f,_){var v;v=c(f,_),f=v[0],_=v[1];for(var m="",I=0,g=f.length-1;g>=0;g--){if(f[g]==="."){m="."+m;continue}var d=parseInt(f[g])+parseInt(_[g])+I;m=d%10+m,I=Math.floor(d/10)}return I?I.toString()+m:m}function u(f){return/^0[0]*[.]{0,1}[0]*$/.test(f)}},423:function(s,a,h){var A=h(217),b=h(165),c=h(350),o=h(182),u=h(415),f=h(213),_=h(664),v=h(26),m=h(916),I=function(){function g(d){d===void 0&&(d="0"),this.value=g.validate(d)}return g.validate=function(d){if(d){if(d=d.toString(),isNaN(d))throw Error("Parameter is not a number: "+d);d[0]=="+"&&(d=d.substring(1))}else d="0";if(d.startsWith(".")?d="0"+d:d.startsWith("-.")&&(d="-0"+d.substr(1)),/e/i.test(d)){var w=d.split(/[eE]/),y=w[0],D=w[1];y=(0,A.trim)(y);var x="";y[0]=="-"&&(x="-",y=y.substring(1)),y.indexOf(".")>=0?(D=parseInt(D)+y.indexOf("."),y=y.replace(".","")):D=parseInt(D)+y.length,y.length<D?d=x+y+new Array(D-y.length+1).join("0"):y.length>=D&&D>0?d=x+(0,A.trim)(y.substring(0,D))+(y.length>D?"."+y.substring(D):""):d=x+"0."+new Array(-D+1).join("0")+y}return d},g.prototype.getValue=function(){return this.value},g.prototype.setValue=function(d){this.value=g.validate(d)},g.getPrettyValue=function(d,w,y){if(!(w||y))w=3,y=",";else if(!(w&&y))throw Error("Illegal Arguments. Should pass both digits and separator or pass none");d=g.validate(d);var D=d.charAt(0)=="-";D&&(d=d.substring(1));var x=d.indexOf(".");x=x>0?x:d.length;for(var j="",Y=x;Y>0;)Y<w?(w=Y,Y=0):Y-=w,j=d.substring(Y,Y+w)+(Y<x-w&&Y>=0?y:"")+j;return(D?"-":"")+j+d.substring(x)},g.prototype.getPrettyValue=function(d,w){return g.getPrettyValue(this.value,d,w)},g.round=function(d,w,y){if(w===void 0&&(w=0),y===void 0&&(y=m.RoundingModes.HALF_EVEN),d=g.validate(d),isNaN(w))throw Error("Precision is not a number: "+w);return(0,c.roundOff)(d,w,y)},g.prototype.round=function(d,w){if(d===void 0&&(d=0),w===void 0&&(w=m.RoundingModes.HALF_EVEN),isNaN(d))throw Error("Precision is not a number: "+d);return new g((0,c.roundOff)(this.value,d,w))},g.abs=function(d){return d=g.validate(d),(0,b.abs)(d)},g.prototype.abs=function(){return new g((0,b.abs)(this.value))},g.floor=function(d){return d=g.validate(d),d.indexOf(".")===-1?d:g.round(d,0,m.RoundingModes.FLOOR)},g.prototype.floor=function(){return this.value.indexOf(".")===-1?new g(this.value):new g(this.value).round(0,m.RoundingModes.FLOOR)},g.ceil=function(d){return d=g.validate(d),d.indexOf(".")===-1?d:g.round(d,0,m.RoundingModes.CEILING)},g.prototype.ceil=function(){return this.value.indexOf(".")===-1?new g(this.value):new g(this.value).round(0,m.RoundingModes.CEILING)},g.add=function(d,w){return d=g.validate(d),w=g.validate(w),(0,A.add)(d,w)},g.prototype.add=function(d){return new g((0,A.add)(this.value,d.getValue()))},g.subtract=function(d,w){return d=g.validate(d),w=g.validate(w),(0,v.subtract)(d,w)},g.prototype.subtract=function(d){return new g((0,v.subtract)(this.value,d.getValue()))},g.multiply=function(d,w){return d=g.validate(d),w=g.validate(w),(0,o.multiply)(d,w)},g.prototype.multiply=function(d){return new g((0,o.multiply)(this.value,d.getValue()))},g.divide=function(d,w,y){return d=g.validate(d),w=g.validate(w),(0,u.divide)(d,w,y)},g.prototype.divide=function(d,w){return new g((0,u.divide)(this.value,d.getValue(),w))},g.modulus=function(d,w){return d=g.validate(d),w=g.validate(w),(0,f.modulus)(d,w)},g.prototype.modulus=function(d){return new g((0,f.modulus)(this.value,d.getValue()))},g.compareTo=function(d,w){return d=g.validate(d),w=g.validate(w),(0,_.compareTo)(d,w)},g.prototype.compareTo=function(d){return(0,_.compareTo)(this.value,d.getValue())},g.negate=function(d){return d=g.validate(d),(0,v.negate)(d)},g.prototype.negate=function(){return new g((0,v.negate)(this.value))},g.RoundingModes=m.RoundingModes,g}();s.exports=I},664:function(s,a,h){Object.defineProperty(a,"__esModule",{value:!0}),a.compareTo=void 0;var A=h(217);function b(c,o){var u,f=!1;if(c[0]=="-"&&o[0]!="-")return-1;if(c[0]!="-"&&o[0]=="-")return 1;if(c[0]=="-"&&o[0]=="-"&&(c=c.substr(1),o=o.substr(1),f=!0),u=(0,A.pad)(c,o),c=u[0],o=u[1],c.localeCompare(o)==0)return 0;for(var _=0;_<c.length;_++)if(c[_]!=o[_])return c[_]>o[_]?f?-1:1:f?1:-1;return 0}a.compareTo=b},415:function(s,a,h){Object.defineProperty(a,"__esModule",{value:!0}),a.divide=void 0;var A=h(217),b=h(350);function c(o,u,f){if(f===void 0&&(f=8),u==0)throw new Error("Cannot divide by 0");if(o=o.toString(),u=u.toString(),o=o.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),u=u.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),o==0)return"0";var _=0;u[0]=="-"&&(u=u.substring(1),_++),o[0]=="-"&&(o=o.substring(1),_++);var v=u.indexOf(".")>0?u.length-u.indexOf(".")-1:-1;if(u=(0,A.trim)(u.replace(".","")),v>=0){var m=o.indexOf(".")>0?o.length-o.indexOf(".")-1:-1;if(m==-1)o=(0,A.trim)(o+new Array(v+1).join("0"));else if(v>m)o=o.replace(".",""),o=(0,A.trim)(o+new Array(v-m+1).join("0"));else if(v<m){o=o.replace(".","");var I=o.length-m+v;o=(0,A.trim)(o.substring(0,I)+"."+o.substring(I))}else v==m&&(o=(0,A.trim)(o.replace(".","")))}var g=0,d=u.length,w="",y=o.indexOf(".")>-1&&o.indexOf(".")<d?o.substring(0,d+1):o.substring(0,d);if(o=o.indexOf(".")>-1&&o.indexOf(".")<d?o.substring(d+1):o.substring(d),y.indexOf(".")>-1){var D=y.length-y.indexOf(".")-1;y=y.replace(".",""),d>y.length&&(D+=d-y.length,y=y+new Array(d-y.length+1).join("0")),g=D,w="0."+new Array(D).join("0")}for(f=f+2;g<=f;){for(var x=0;parseInt(y)>=parseInt(u);)y=(0,A.add)(y,"-"+u),x++;w+=x,o?(o[0]=="."&&(w+=".",g++,o=o.substring(1)),y=y+o.substring(0,1),o=o.substring(1)):(g||(w+="."),g++,y=y+"0")}return(_==1?"-":"")+(0,A.trim)((0,b.roundOff)(w,f-2))}a.divide=c},213:function(s,a,h){Object.defineProperty(a,"__esModule",{value:!0}),a.modulus=void 0;var A=h(415),b=h(350),c=h(182),o=h(26),u=h(916);function f(v,m){if(m==0)throw new Error("Cannot divide by 0");v=v.toString(),m=m.toString(),_(v),_(m);var I="";v[0]=="-"&&(I="-",v=v.substr(1)),m[0]=="-"&&(m=m.substr(1));var g=(0,o.subtract)(v,(0,c.multiply)(m,(0,b.roundOff)((0,A.divide)(v,m),0,u.RoundingModes.FLOOR)));return I+g}a.modulus=f;function _(v){if(v.indexOf(".")!=-1)throw new Error("Modulus of non-integers not supported")}},182:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.multiply=void 0;function h(c,o){c=c.toString(),o=o.toString();var u=0;c[0]=="-"&&(u++,c=c.substr(1)),o[0]=="-"&&(u++,o=o.substr(1)),c=b(c),o=b(o);var f=0,_=0;c.indexOf(".")!=-1&&(f=c.length-c.indexOf(".")-1),o.indexOf(".")!=-1&&(_=o.length-o.indexOf(".")-1);var v=f+_;if(c=b(c.replace(".","")),o=b(o.replace(".","")),c.length<o.length){var m=c;c=o,o=m}if(o=="0")return"0";for(var I=o.length,g=0,d=[],w=I-1,y="",D=0;D<I;D++)d[D]=c.length-1;for(var D=0;D<2*c.length;D++){for(var x=0,j=o.length-1;j>=w&&j>=0;j--)d[j]>-1&&d[j]<c.length&&(x+=parseInt(c[d[j]--])*parseInt(o[j]));x+=g,g=Math.floor(x/10),y=x%10+y,w--}return y=b(A(y,v)),u==1&&(y="-"+y),y}a.multiply=h;function A(c,o){return o==0?c:(c=o>=c.length?new Array(o-c.length+1).join("0")+c:c,c.substr(0,c.length-o)+"."+c.substr(c.length-o,o))}function b(c){for(;c[0]=="0";)c=c.substr(1);if(c.indexOf(".")!=-1)for(;c[c.length-1]=="0";)c=c.substr(0,c.length-1);return c==""||c=="."?c="0":c[c.length-1]=="."&&(c=c.substr(0,c.length-1)),c[0]=="."&&(c="0"+c),c}},350:function(s,a,h){Object.defineProperty(a,"__esModule",{value:!0}),a.roundOff=void 0;var A=h(916);function b(u,f,_){if(f===void 0&&(f=0),_===void 0&&(_=A.RoundingModes.HALF_EVEN),_===A.RoundingModes.UNNECESSARY)throw new Error("UNNECESSARY Rounding Mode has not yet been implemented");(typeof u=="number"||typeof u=="bigint")&&(u=u.toString());var v=!1;u[0]==="-"&&(v=!0,u=u.substring(1));var m=u.split("."),I=m[0],g=m[1];if(f<0){if(f=-f,I.length<=f)return"0";var d=I.substr(0,I.length-f);return u=d+"."+I.substr(I.length-f)+g,d=b(u,0,_),(v?"-":"")+d+new Array(f+1).join("0")}if(f==0)return I.length,c(m[1],I,v,_)&&(I=o(I)),(v&&parseInt(I)?"-":"")+I;if(m[1]){if(m[1].length<f)return(v?"-":"")+I+"."+m[1]+new Array(f-m[1].length+1).join("0")}else return(v?"-":"")+I+"."+new Array(f+1).join("0");g=m[1].substring(0,f);var w=m[1].substring(f);return w&&c(w,g,v,_)&&(g=o(g),g.length>f)?(v?"-":"")+o(I,parseInt(g[0]))+"."+g.substring(1):(v&&(parseInt(I)||parseInt(g))?"-":"")+I+"."+g}a.roundOff=b;function c(u,f,_,v){if(!u||u===new Array(u.length+1).join("0")||v===A.RoundingModes.DOWN||!_&&v===A.RoundingModes.FLOOR||_&&v===A.RoundingModes.CEILING)return!1;if(v===A.RoundingModes.UP||_&&v===A.RoundingModes.FLOOR||!_&&v===A.RoundingModes.CEILING)return!0;var m="5"+new Array(u.length).join("0");if(u>m)return!0;if(u<m)return!1;switch(v){case A.RoundingModes.HALF_DOWN:return!1;case A.RoundingModes.HALF_UP:return!0;case A.RoundingModes.HALF_EVEN:default:return parseInt(f[f.length-1])%2==1}}function o(u,f){f===void 0&&(f=0),f||(f=1),typeof u=="number"&&u.toString();for(var _=u.length-1,v="",m=_;m>=0;m--){var I=parseInt(u[m])+f;I==10?(f=1,I=0):f=0,v+=I}return f&&(v+=f),v.split("").reverse().join("")}},916:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.RoundingModes=void 0,function(h){h[h.CEILING=0]="CEILING",h[h.DOWN=1]="DOWN",h[h.FLOOR=2]="FLOOR",h[h.HALF_DOWN=3]="HALF_DOWN",h[h.HALF_EVEN=4]="HALF_EVEN",h[h.HALF_UP=5]="HALF_UP",h[h.UNNECESSARY=6]="UNNECESSARY",h[h.UP=7]="UP"}(a.RoundingModes||(a.RoundingModes={}))},26:function(s,a,h){Object.defineProperty(a,"__esModule",{value:!0}),a.negate=a.subtract=void 0;var A=h(217);function b(o,u){return o=o.toString(),u=u.toString(),u=c(u),(0,A.add)(o,u)}a.subtract=b;function c(o){return o[0]=="-"?o=o.substr(1):o="-"+o,o}a.negate=c}},i={};function n(s){var a=i[s];if(a!==void 0)return a.exports;var h=i[s]={exports:{}};return l[s](h,h.exports,n),h.exports}var r=n(423);return r}()})})(xt);var gi=xt.exports;const Te=Ut(gi);function Ye(e,t,l){const i=e.slice();i[6]=t[l];const n=Mt(i[6]);return i[7]=n,i}function Qe(e){let t,l=ne(e[0].effects),i=[];for(let n=0;n<l.length;n+=1)i[n]=Ge(Ye(e,l,n));return{c(){t=R("ul");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){t=L(n,"UL",{class:!0});var r=O(t);for(let s=0;s<i.length;s+=1)i[s].l(r);r.forEach(p),this.h()},h(){E(t,"class","list svelte-1ut37ec")},m(n,r){k(n,t,r);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(t,null)},p(n,r){if(r&1){l=ne(n[0].effects);let s;for(s=0;s<l.length;s+=1){const a=Ye(n,l,s);i[s]?i[s].p(a,r):(i[s]=Ge(a),i[s].c(),i[s].m(t,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=l.length}},d(n){n&&p(t),Le(i,n)}}}function Ge(e){let t,l=e[7]+"",i;return{c(){t=R("li"),i=K(l),this.h()},l(n){t=L(n,"LI",{class:!0});var r=O(t);i=Z(r,l),r.forEach(p),this.h()},h(){E(t,"class","caption whitespace-pre-wrap text-sm")},m(n,r){k(n,t,r),C(t,i)},p(n,r){r&1&&l!==(l=n[7]+"")&&Ae(i,l)},d(n){n&&p(t)}}}function _i(e){let t,l,i,n=(e[0].text??"")+"",r,s,a,h,A,b,c,o,u=e[0].effects!==void 0&&Qe(e);return{c(){t=R("div"),l=R("div"),i=R("div"),r=K(n),s=F(),u&&u.c(),h=F(),A=R("div"),b=R("div"),c=K(e[2]),o=K("%"),this.h()},l(f){t=L(f,"DIV",{class:!0});var _=O(t);l=L(_,"DIV",{class:!0,style:!0});var v=O(l);i=L(v,"DIV",{class:!0});var m=O(i);r=Z(m,n),m.forEach(p),s=B(v),u&&u.l(v),v.forEach(p),h=B(_),A=L(_,"DIV",{class:!0});var I=O(A);b=L(I,"DIV",{class:!0});var g=O(b);c=Z(g,e[2]),o=Z(g,"%"),g.forEach(p),I.forEach(p),_.forEach(p),this.h()},h(){E(i,"class","mb-[0.125em]"),E(l,"class","flex flex-col outcome-left pl-[0.75em] svelte-1ut37ec"),E(l,"style",a=`border-left: 8px solid ${e[1]}`),E(b,"class","caption"),E(A,"class","flex flex-col justify-center w-[5em] text-right"),E(t,"class","flex flex-row justify-between space-x-[1em]")},m(f,_){k(f,t,_),C(t,l),C(l,i),C(i,r),C(l,s),u&&u.m(l,null),C(t,h),C(t,A),C(A,b),C(b,c),C(b,o)},p(f,[_]){_&1&&n!==(n=(f[0].text??"")+"")&&Ae(r,n),f[0].effects!==void 0?u?u.p(f,_):(u=Qe(f),u.c(),u.m(l,null)):u&&(u.d(1),u=null),_&2&&a!==(a=`border-left: 8px solid ${f[1]}`)&&E(l,"style",a)},i:se,o:se,d(f){f&&p(t),u&&u.d()}}}function Ai(e,t,l){let{outcomeData:i}=t,{settings:n}=t,{userRole:r}=t,{totalPercentage:s}=t,{color:a}=t,h=n.hiddenPercentages&&r!=="keyholder"?"???":new Te(i.percentage).divide(new Te(s),8).multiply(new Te(100)).round(3).getValue().replace(/\.0+$|([^\.])0+$/,"$1");return e.$$set=A=>{"outcomeData"in A&&l(0,i=A.outcomeData),"settings"in A&&l(3,n=A.settings),"userRole"in A&&l(4,r=A.userRole),"totalPercentage"in A&&l(5,s=A.totalPercentage),"color"in A&&l(1,a=A.color)},[i,a,h,n,r,s]}class Vt extends Ct{constructor(t){super(),Rt(this,t,Ai,_i,_e,{outcomeData:0,settings:3,userRole:4,totalPercentage:5,color:1})}}const{window:We}=Ht;function Ke(e,t,l){const i=e.slice();i[43]=t[l],i[47]=l;const n=i[47]-Math.floor(i[47]/i[13].length)*i[13].length;i[44]=n;const r=i[13][i[44]];return i[45]=r,i}function Ze(e){const t=e.slice(),l=t[38].outcomes.reduce((n,r)=>n+=parseFloat(r.percentage),0);t[41]=l;const i=!t[3]&&t[2]==="keyholder";return t[42]=i,t}function Xe(e,t,l){const i=e.slice();i[43]=t[l],i[47]=l;const n=i[47]-Math.floor(i[47]/i[13].length)*i[13].length;i[44]=n;const r=i[13][i[44]];return i[45]=r,i}function $e(e){const t=e.slice(),l=t[38].outcomes.reduce((i,n)=>i+=parseFloat(n.percentage),0);return t[41]=l,t}function et(e,t,l){const i=e.slice();return i[49]=t[l][0],i[38]=t[l][1],i}function tt(e,t,l){const i=e.slice();i[52]=t[l];const n=Mt(i[52]);return i[53]=n,i}function vi(e){const t=e.slice(),l=t[9].wheels[t[0]];t[38]=l;const i=t[4]||t[38].settings.disabled===!0;t[39]=i;const n=t[12]===""||t[2]==="keyholder";return t[40]=n,t}function mi(e){let t,l,i,n,r='<h4 class="mb-0">Extended Wheel of Fortune</h4> <span class="caption">Developer: @strawberria</span>',s,a,h=`Try your luck and spin the <b>extended</b> wheel of fortune! <br/>
                        Now supporting additional actions and multiple wheels with individual cooldowns!`,A,b=e[0],c,o,u,f,_="Select",v,m,I="Choose which wheel to spin with",g,d,w,y,D,x,j,Y,be=e[20]?" the wheel":"",ve,me,ue,fe,ce,de,ye,Ee,te=rt(e),oe=ne(Object.entries(e[9].wheels)),q=[];for(let S=0;S<oe.length;S+=1)q[S]=ot(et(e,oe,S));let X=!e[20]&&wi($e(e)),M=e[20]&&Ii(Ze(e));return{c(){t=R("div"),l=R("div"),i=R("div"),n=R("div"),n.innerHTML=r,s=F(),a=R("div"),a.innerHTML=h,A=F(),te.c(),c=F(),o=R("div"),u=R("div"),f=R("div"),f.textContent=_,v=F(),m=R("div"),m.textContent=I,g=F(),d=R("div"),w=R("select");for(let S=0;S<q.length;S+=1)q[S].c();y=F(),D=R("div"),x=R("button"),j=R("span"),Y=K("Spin"),ve=K(be),me=K("!"),fe=F(),X&&X.c(),ce=F(),M&&M.c(),this.h()},l(S){t=L(S,"DIV",{class:!0});var W=O(t);l=L(W,"DIV",{class:!0});var T=O(l);i=L(T,"DIV",{class:!0});var U=O(i);n=L(U,"DIV",{class:!0,"data-svelte-h":!0}),G(n)!=="svelte-kcosgd"&&(n.innerHTML=r),s=B(U),a=L(U,"DIV",{class:!0,"data-svelte-h":!0}),G(a)!=="svelte-1b8f23k"&&(a.innerHTML=h),A=B(U),te.l(U),c=B(U),o=L(U,"DIV",{class:!0});var J=O(o);u=L(J,"DIV",{class:!0});var ee=O(u);f=L(ee,"DIV",{"data-svelte-h":!0}),G(f)!=="svelte-80uym4"&&(f.textContent=_),v=B(ee),m=L(ee,"DIV",{class:!0,"data-svelte-h":!0}),G(m)!=="svelte-nnb33a"&&(m.textContent=I),g=B(ee),d=L(ee,"DIV",{class:!0});var pe=O(d);w=L(pe,"SELECT",{class:!0});var he=O(w);for(let xe=0;xe<q.length;xe+=1)q[xe].l(he);he.forEach(p),pe.forEach(p),ee.forEach(p),y=B(J),D=L(J,"DIV",{class:!0});var ge=O(D);x=L(ge,"BUTTON",{type:!0,class:!0});var Se=O(x);j=L(Se,"SPAN",{});var we=O(j);Y=Z(we,"Spin"),ve=Z(we,be),me=Z(we,"!"),we.forEach(p),Se.forEach(p),ge.forEach(p),J.forEach(p),fe=B(U),X&&X.l(U),U.forEach(p),ce=B(T),M&&M.l(T),T.forEach(p),W.forEach(p),this.h()},h(){E(n,"class","flex items-end justify-between mb-2"),le(n,"flex-row",e[20]),le(n,"flex-col",!e[20]),le(n,"space-x-1",e[20]),le(n,"items-end",e[20]),E(a,"class","caption mb-2"),E(m,"class","caption mb-[0.5em]"),E(w,"class","form-control"),e[0]===void 0&&Ne(()=>e[25].call(w)),E(d,"class","w-full"),E(u,"class","grow"),E(x,"type","button"),E(x,"class","btn btn-primary btn-lg"),x.disabled=ue=e[39]||!e[40],E(D,"class","flex flex-col justify-center space-y-[0.5em] max-w-[12em]"),le(D,"mx-4",e[20]),le(D,"mx-2",!e[20]),E(o,"class","w-full flex flex-row items-stretch space-x-4"),E(i,"class","h-full flex flex-col svelte-nhh4rm"),le(i,"card-horizontal",e[20]),E(l,"class","w-full h-full flex flex-row"),E(t,"class","card-content grow svelte-nhh4rm"),le(t,"card-wrapper-desktop",e[20])},m(S,W){k(S,t,W),C(t,l),C(l,i),C(i,n),C(i,s),C(i,a),C(i,A),te.m(i,null),C(i,c),C(i,o),C(o,u),C(u,f),C(u,v),C(u,m),C(u,g),C(u,d),C(d,w);for(let T=0;T<q.length;T+=1)q[T]&&q[T].m(w,null);Be(w,e[0],!0),C(o,y),C(o,D),C(D,x),C(x,j),C(j,Y),C(j,ve),C(j,me),C(i,fe),X&&X.m(i,null),C(l,ce),M&&M.m(l,null),de=!0,ye||(Ee=[ke(w,"change",e[25]),ke(x,"click",e[19])],ye=!0)},p(S,W){if(W[0]&1&&_e(b,b=S[0])?(te.d(1),te=rt(S),te.c(),te.m(i,c)):te.p(S,W),W[0]&512){oe=ne(Object.entries(S[9].wheels));let T;for(T=0;T<oe.length;T+=1){const U=et(S,oe,T);q[T]?q[T].p(U,W):(q[T]=ot(U),q[T].c(),q[T].m(w,null))}for(;T<q.length;T+=1)q[T].d(1);q.length=oe.length}W[0]&513&&Be(w,S[0]),(!de||W[0]&4629&&ue!==(ue=S[39]||!S[40]))&&(x.disabled=ue),S[20]||X.p($e(S),W),S[20]&&M.p(Ze(S),W)},i(S){de||(N(X),N(M),de=!0)},o(S){z(X),z(M),de=!1},d(S){S&&p(t),te.d(S),Le(q,S),X&&X.d(),M&&M.d(),ye=!1,Ot(Ee)}}}function pi(e){let t,l,i,n,r,s;return{c(){t=R("div"),l=R("img"),n=F(),r=R("div"),s=K(e[1]),this.h()},l(a){t=L(a,"DIV",{class:!0});var h=O(t);l=L(h,"IMG",{src:!0,alt:!0}),n=B(h),r=L(h,"DIV",{class:!0});var A=O(r);s=Z(A,e[1]),A.forEach(p),h.forEach(p),this.h()},h(){Tt(l.src,i=Nt)||E(l,"src",i),E(l,"alt","Chaster logo"),E(r,"class","mt-4 caption text-lg"),E(t,"class","w-full h-screen flex flex-col items-center justify-center")},m(a,h){k(a,t,h),C(t,l),C(t,n),C(t,r),C(r,s)},p(a,h){h[0]&2&&Ae(s,a[1])},i:se,o:se,d(a){a&&p(t)}}}function it(e){let t,l,i,n=(e[11].text??"")+"",r,s,a,h,A="[ Click anywhere to close ]",b,c,o=e[11].effects!==void 0&&lt(e);return{c(){t=R("div"),l=R("div"),i=R("div"),r=K(n),s=F(),o&&o.c(),a=F(),h=R("div"),h.textContent=A,this.h()},l(u){t=L(u,"DIV",{class:!0});var f=O(t);l=L(f,"DIV",{class:!0});var _=O(l);i=L(_,"DIV",{});var v=O(i);r=Z(v,n),v.forEach(p),s=B(_),o&&o.l(_),_.forEach(p),a=B(f),h=L(f,"DIV",{class:!0,"data-svelte-h":!0}),G(h)!=="svelte-ecicjm"&&(h.textContent=A),f.forEach(p),this.h()},h(){E(l,"class","flex flex-col"),E(h,"class","text-sm mt-[1em] w-full text-center cursor-default"),E(t,"class","result svelte-nhh4rm")},m(u,f){k(u,t,f),C(t,l),C(l,i),C(i,r),C(l,s),o&&o.m(l,null),C(t,a),C(t,h),b||(c=ke(t,"click",e[24]),b=!0)},p(u,f){f[0]&2048&&n!==(n=(u[11].text??"")+"")&&Ae(r,n),u[11].effects!==void 0?o?o.p(u,f):(o=lt(u),o.c(),o.m(l,null)):o&&(o.d(1),o=null)},d(u){u&&p(t),o&&o.d(),b=!1,c()}}}function lt(e){let t,l=ne(e[11].effects),i=[];for(let n=0;n<l.length;n+=1)i[n]=st(tt(e,l,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=H()},l(n){for(let r=0;r<i.length;r+=1)i[r].l(n);t=H()},m(n,r){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(n,r);k(n,t,r)},p(n,r){if(r[0]&2048){l=ne(n[11].effects);let s;for(s=0;s<l.length;s+=1){const a=tt(n,l,s);i[s]?i[s].p(a,r):(i[s]=st(a),i[s].c(),i[s].m(t.parentNode,t))}for(;s<i.length;s+=1)i[s].d(1);i.length=l.length}},d(n){n&&p(t),Le(i,n)}}}function st(e){let t,l,i=e[53]+"",n;return{c(){t=R("div"),l=K("• "),n=K(i),this.h()},l(r){t=L(r,"DIV",{class:!0});var s=O(t);l=Z(s,"• "),n=Z(s,i),s.forEach(p),this.h()},h(){E(t,"class","caption whitespace-pre-wrap text-sm")},m(r,s){k(r,t,s),C(t,l),C(t,n)},p(r,s){s[0]&2048&&i!==(i=r[53]+"")&&Ae(n,i)},d(r){r&&p(t)}}}function nt(e){let t,l;return{c(){t=K("Next spin available in "),l=K(e[12])},l(i){t=Z(i,"Next spin available in "),l=Z(i,e[12])},m(i,n){k(i,t,n),k(i,l,n)},p(i,n){n[0]&4096&&Ae(l,i[12])},d(i){i&&(p(t),p(l))}}}function rt(e){let t,l,i="",n,r,s,a,h,A,b,c=e[11]!==void 0&&it(e),o=!e[40]&&nt(e);return{c(){t=R("div"),l=R("div"),l.innerHTML=i,r=F(),s=R("div"),c&&c.c(),a=F(),h=R("div"),o&&o.c(),A=F(),b=R("hr"),this.h()},l(u){t=L(u,"DIV",{class:!0});var f=O(t);l=L(f,"DIV",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-1dgs7up"&&(l.innerHTML=i),r=B(f),s=L(f,"DIV",{class:!0});var _=O(s);c&&c.l(_),_.forEach(p),f.forEach(p),a=B(u),h=L(u,"DIV",{class:!0});var v=O(h);o&&o.l(v),v.forEach(p),A=B(u),b=L(u,"HR",{}),this.h()},h(){E(l,"class","grow wheel-container h-full svelte-nhh4rm"),Ne(()=>e[23].call(l)),le(l,"aspect-square",!e[20]),E(s,"class","absolute top-0 right-0 h-full w-full z-10 flex align-center justify-center items-center"),le(s,"aspect-square",!e[20]),E(t,"class","grow mt-1 wheel-container relative svelte-nhh4rm"),E(h,"class","min-h-[1em] text-center")},m(u,f){k(u,t,f),C(t,l),e[22](l),n=Wt(l,e[23].bind(l)),C(t,r),C(t,s),c&&c.m(s,null),k(u,a,f),k(u,h,f),o&&o.m(h,null),k(u,A,f),k(u,b,f)},p(u,f){u[11]!==void 0?c?c.p(u,f):(c=it(u),c.c(),c.m(s,null)):c&&(c.d(1),c=null),u[40]?o&&(o.d(1),o=null):o?o.p(u,f):(o=nt(u),o.c(),o.m(h,null))},d(u){u&&(p(t),p(a),p(h),p(A),p(b)),e[22](null),n(),c&&c.d(),o&&o.d()}}}function at(e){let t,l=e[38].display+"",i,n;return{c(){t=R("option"),i=K(l),this.h()},l(r){t=L(r,"OPTION",{});var s=O(t);i=Z(s,l),s.forEach(p),this.h()},h(){t.__value=n=e[49],je(t,t.__value)},m(r,s){k(r,t,s),C(t,i)},p(r,s){s[0]&512&&l!==(l=r[38].display+"")&&Ae(i,l),s[0]&512&&n!==(n=r[49])&&(t.__value=n,je(t,t.__value))},d(r){r&&p(t)}}}function ot(e){let t,l=e[38].settings.disabled===!1&&at(e);return{c(){l&&l.c(),t=H()},l(i){l&&l.l(i),t=H()},m(i,n){l&&l.m(i,n),k(i,t,n)},p(i,n){i[38].settings.disabled===!1?l?l.p(i,n):(l=at(i),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(i){i&&p(t),l&&l.d(i)}}}function wi(e){let t,l,i,n=e[0],r,s=_t(e);return{c(){t=R("hr"),l=F(),i=R("div"),s.c(),this.h()},l(a){t=L(a,"HR",{}),l=B(a),i=L(a,"DIV",{class:!0});var h=O(i);s.l(h),h.forEach(p),this.h()},h(){E(i,"class","h-full flex flex-col")},m(a,h){k(a,t,h),k(a,l,h),k(a,i,h),s.m(i,null),r=!0},p(a,h){h[0]&1&&_e(n,n=a[0])?(ae(),z(s,1,1,se),re(),s=_t(a),s.c(),N(s,1),s.m(i,null)):s.p(a,h)},i(a){r||(N(s),r=!0)},o(a){z(s),r=!1},d(a){a&&(p(t),p(l),p(i)),s.d(a)}}}function bi(e){let t,l,i=e[38].settings.hiddenEffects===!0&&ht(),n=e[38].settings.hiddenPercentages===!0&&ut();return{c(){i&&i.c(),t=F(),n&&n.c(),l=H()},l(r){i&&i.l(r),t=B(r),n&&n.l(r),l=H()},m(r,s){i&&i.m(r,s),k(r,t,s),n&&n.m(r,s),k(r,l,s)},p(r,s){r[38].settings.hiddenEffects===!0?i||(i=ht(),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),r[38].settings.hiddenPercentages===!0?n||(n=ut(),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(r){r&&(p(t),p(l)),i&&i.d(r),n&&n.d(r)}}}function yi(e){let t,l="❗ Outcomes Hidden ❗";return{c(){t=R("div"),t.textContent=l,this.h()},l(i){t=L(i,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-fmdfs4"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,n){k(i,t,n)},p:se,d(i){i&&p(t)}}}function ht(e){let t,l="❗ Effects Hidden ❗";return{c(){t=R("div"),t.textContent=l,this.h()},l(i){t=L(i,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-136ba5r"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,n){k(i,t,n)},d(i){i&&p(t)}}}function ut(e){let t,l="❗ Percentages Hidden ❗";return{c(){t=R("div"),t.textContent=l,this.h()},l(i){t=L(i,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-1k907vu"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,n){k(i,t,n)},d(i){i&&p(t)}}}function ft(e){let t,l,i=e[9],n,r=gt(e);return{c(){t=R("div"),l=R("div"),r.c(),this.h()},l(s){t=L(s,"DIV",{class:!0});var a=O(t);l=L(a,"DIV",{class:!0});var h=O(l);r.l(h),h.forEach(p),a.forEach(p),this.h()},h(){E(l,"class","flex flex-col space-y-1 items-stretch"),E(t,"class","card-content outcomes-list svelte-nhh4rm")},m(s,a){k(s,t,a),C(t,l),r.m(l,null),n=!0},p(s,a){a[0]&512&&_e(i,i=s[9])?(ae(),z(r,1,1,se),re(),r=gt(s),r.c(),N(r,1),r.m(l,null)):r.p(s,a)},i(s){n||(N(r),n=!0)},o(s){z(r),n=!1},d(s){s&&p(t),r.d(s)}}}function ct(e){let t;return{c(){t=R("hr"),this.h()},l(l){t=L(l,"HR",{class:!0}),this.h()},h(){E(t,"class","mt-0.5 mb-0.5")},m(l,i){k(l,t,i)},d(l){l&&p(t)}}}function dt(e){let t,l,i,n;t=new Vt({props:{outcomeData:e[43],settings:e[38].settings,userRole:e[2],totalPercentage:e[41],color:e[45]}});let r=e[47]!==e[38].outcomes.length-1&&ct();return{c(){Lt(t.$$.fragment),l=F(),r&&r.c(),i=H()},l(s){Et(t.$$.fragment,s),l=B(s),r&&r.l(s),i=H()},m(s,a){St(t,s,a),k(s,l,a),r&&r.m(s,a),k(s,i,a),n=!0},p(s,a){const h={};a[0]&513&&(h.outcomeData=s[43]),a[0]&513&&(h.settings=s[38].settings),a[0]&4&&(h.userRole=s[2]),a[0]&513&&(h.totalPercentage=s[41]),t.$set(h),s[47]!==s[38].outcomes.length-1?r||(r=ct(),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){z(t.$$.fragment,s),n=!1},d(s){s&&(p(l),p(i)),kt(t,s),r&&r.d(s)}}}function gt(e){let t,l,i=ne(e[38].outcomes),n=[];for(let s=0;s<i.length;s+=1)n[s]=dt(Xe(e,i,s));const r=s=>z(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=H()},l(s){for(let a=0;a<n.length;a+=1)n[a].l(s);t=H()},m(s,a){for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(s,a);k(s,t,a),l=!0},p(s,a){if(a[0]&8709){i=ne(s[38].outcomes);let h;for(h=0;h<i.length;h+=1){const A=Xe(s,i,h);n[h]?(n[h].p(A,a),N(n[h],1)):(n[h]=dt(A),n[h].c(),N(n[h],1),n[h].m(t.parentNode,t))}for(ae(),h=i.length;h<n.length;h+=1)r(h);re()}},i(s){if(!l){for(let a=0;a<i.length;a+=1)N(n[a]);l=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)z(n[a]);l=!1},d(s){s&&p(t),Le(n,s)}}}function _t(e){let t,l,i='<div>Outcomes</div> <div class="caption mb-2">View possible outcomes for the wheel</div>',n,r,s,a,h;function A(u,f){return u[38].settings.hiddenOutcomes===!0?yi:bi}let b=A(e),c=b(e),o=e[38].outcomes.length>0&&ft(e);return{c(){t=R("div"),l=R("div"),l.innerHTML=i,n=F(),r=R("div"),c.c(),s=F(),o&&o.c(),a=H(),this.h()},l(u){t=L(u,"DIV",{class:!0});var f=O(t);l=L(f,"DIV",{"data-svelte-h":!0}),G(l)!=="svelte-4yn6as"&&(l.innerHTML=i),n=B(f),r=L(f,"DIV",{class:!0});var _=O(r);c.l(_),_.forEach(p),f.forEach(p),s=B(u),o&&o.l(u),a=H(),this.h()},h(){E(r,"class","text-right"),E(t,"class","flex flex-row justify-between")},m(u,f){k(u,t,f),C(t,l),C(t,n),C(t,r),c.m(r,null),k(u,s,f),o&&o.m(u,f),k(u,a,f),h=!0},p(u,f){b===(b=A(u))&&c?c.p(u,f):(c.d(1),c=b(u),c&&(c.c(),c.m(r,null))),u[38].outcomes.length>0?o?(o.p(u,f),f[0]&513&&N(o,1)):(o=ft(u),o.c(),N(o,1),o.m(a.parentNode,a)):o&&(ae(),z(o,1,1,()=>{o=null}),re())},i(u){h||(N(o),h=!0)},o(u){z(o),h=!1},d(u){u&&(p(t),p(s),p(a)),c.d(),o&&o.d(u)}}}function Ii(e){let t,l=e[0],i,n,r=yt(e);return{c(){t=R("div"),r.c(),this.h()},l(s){t=L(s,"DIV",{class:!0,style:!0});var a=O(t);r.l(a),a.forEach(p),this.h()},h(){E(t,"class","h-full flex flex-col ml-4"),E(t,"style",i=`width: calc(${e[7]}px * 1.0)`)},m(s,a){k(s,t,a),r.m(t,null),n=!0},p(s,a){a[0]&1&&_e(l,l=s[0])?(ae(),z(r,1,1,se),re(),r=yt(s),r.c(),N(r,1),r.m(t,null)):r.p(s,a),(!n||a[0]&128&&i!==(i=`width: calc(${s[7]}px * 1.0)`))&&E(t,"style",i)},i(s){n||(N(r),n=!0)},o(s){z(r),n=!1},d(s){s&&p(t),r.d(s)}}}function Ci(e){let t,l,i=e[38].settings.hiddenEffects===!0&&At(),n=e[38].settings.hiddenPercentages===!0&&vt();return{c(){i&&i.c(),t=F(),n&&n.c(),l=H()},l(r){i&&i.l(r),t=B(r),n&&n.l(r),l=H()},m(r,s){i&&i.m(r,s),k(r,t,s),n&&n.m(r,s),k(r,l,s)},p(r,s){r[38].settings.hiddenEffects===!0?i||(i=At(),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),r[38].settings.hiddenPercentages===!0?n||(n=vt(),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(r){r&&(p(t),p(l)),i&&i.d(r),n&&n.d(r)}}}function Ri(e){let t,l="❗ Outcomes Hidden ❗";return{c(){t=R("div"),t.textContent=l,this.h()},l(i){t=L(i,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-fmdfs4"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,n){k(i,t,n)},p:se,d(i){i&&p(t)}}}function At(e){let t,l="❗ Effects Hidden ❗";return{c(){t=R("div"),t.textContent=l,this.h()},l(i){t=L(i,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-136ba5r"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,n){k(i,t,n)},d(i){i&&p(t)}}}function vt(e){let t,l="❗ Percentages Hidden ❗";return{c(){t=R("div"),t.textContent=l,this.h()},l(i){t=L(i,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-1k907vu"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,n){k(i,t,n)},d(i){i&&p(t)}}}function mt(e){let t,l,i=e[9],n,r=bt(e);return{c(){t=R("div"),l=R("div"),r.c(),this.h()},l(s){t=L(s,"DIV",{class:!0});var a=O(t);l=L(a,"DIV",{class:!0});var h=O(l);r.l(h),h.forEach(p),a.forEach(p),this.h()},h(){E(l,"class","flex flex-col space-y-1 items-stretch"),E(t,"class","card-content outcomes-list svelte-nhh4rm")},m(s,a){k(s,t,a),C(t,l),r.m(l,null),n=!0},p(s,a){a[0]&512&&_e(i,i=s[9])?(ae(),z(r,1,1,se),re(),r=bt(s),r.c(),N(r,1),r.m(l,null)):r.p(s,a)},i(s){n||(N(r),n=!0)},o(s){z(r),n=!1},d(s){s&&p(t),r.d(s)}}}function pt(e){let t;return{c(){t=R("hr"),this.h()},l(l){t=L(l,"HR",{class:!0}),this.h()},h(){E(t,"class","mt-0.5 mb-0.5")},m(l,i){k(l,t,i)},d(l){l&&p(t)}}}function wt(e){let t,l,i,n;t=new Vt({props:{outcomeData:e[43],settings:e[38].settings,userRole:e[2],totalPercentage:e[41],color:e[45]}});let r=e[47]!==e[38].outcomes.length-1&&pt();return{c(){Lt(t.$$.fragment),l=F(),r&&r.c(),i=H()},l(s){Et(t.$$.fragment,s),l=B(s),r&&r.l(s),i=H()},m(s,a){St(t,s,a),k(s,l,a),r&&r.m(s,a),k(s,i,a),n=!0},p(s,a){const h={};a[0]&513&&(h.outcomeData=s[43]),a[0]&513&&(h.settings=s[38].settings),a[0]&4&&(h.userRole=s[2]),a[0]&513&&(h.totalPercentage=s[41]),t.$set(h),s[47]!==s[38].outcomes.length-1?r||(r=pt(),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){z(t.$$.fragment,s),n=!1},d(s){s&&(p(l),p(i)),kt(t,s),r&&r.d(s)}}}function bt(e){let t,l,i=ne(e[38].outcomes),n=[];for(let s=0;s<i.length;s+=1)n[s]=wt(Ke(e,i,s));const r=s=>z(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=H()},l(s){for(let a=0;a<n.length;a+=1)n[a].l(s);t=H()},m(s,a){for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(s,a);k(s,t,a),l=!0},p(s,a){if(a[0]&8709){i=ne(s[38].outcomes);let h;for(h=0;h<i.length;h+=1){const A=Ke(s,i,h);n[h]?(n[h].p(A,a),N(n[h],1)):(n[h]=wt(A),n[h].c(),N(n[h],1),n[h].m(t.parentNode,t))}for(ae(),h=i.length;h<n.length;h+=1)r(h);re()}},i(s){if(!l){for(let a=0;a<i.length;a+=1)N(n[a]);l=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)z(n[a]);l=!1},d(s){s&&p(t),Le(n,s)}}}function yt(e){let t,l,i='<div>Outcomes</div> <div class="caption mb-2">View possible outcomes for the wheel</div>',n,r,s,a,h;function A(u,f){return u[38].settings.hiddenOutcomes===!0?Ri:Ci}let b=A(e),c=b(e),o=e[38].outcomes.length>0&&mt(e);return{c(){t=R("div"),l=R("div"),l.innerHTML=i,n=F(),r=R("div"),c.c(),s=F(),o&&o.c(),a=H(),this.h()},l(u){t=L(u,"DIV",{class:!0});var f=O(t);l=L(f,"DIV",{"data-svelte-h":!0}),G(l)!=="svelte-1jjgdd0"&&(l.innerHTML=i),n=B(f),r=L(f,"DIV",{class:!0});var _=O(r);c.l(_),_.forEach(p),f.forEach(p),s=B(u),o&&o.l(u),a=H(),this.h()},h(){E(r,"class","text-right"),E(t,"class","flex flex-row justify-between")},m(u,f){k(u,t,f),C(t,l),C(t,n),C(t,r),c.m(r,null),k(u,s,f),o&&o.m(u,f),k(u,a,f),h=!0},p(u,f){b===(b=A(u))&&c?c.p(u,f):(c.d(1),c=b(u),c&&(c.c(),c.m(r,null))),u[38].outcomes.length>0?o?(o.p(u,f),f[0]&513&&N(o,1)):(o=mt(u),o.c(),N(o,1),o.m(a.parentNode,a)):o&&(ae(),z(o,1,1,()=>{o=null}),re())},i(u){h||(N(o),h=!0)},o(u){z(o),h=!1},d(u){u&&(p(t),p(s),p(a)),c.d(),o&&o.d(u)}}}function Li(e){let t,l,i,n,r,s;Ne(e[21]);const a=[pi,mi],h=[];function A(c,o){return c[1]!==""?0:c[0]!==void 0?1:-1}function b(c,o){return o===1?vi(c):c}return~(l=A(e))&&(i=h[l]=a[l](b(e,l))),{c(){t=R("div"),i&&i.c(),this.h()},l(c){t=L(c,"DIV",{class:!0});var o=O(t);i&&i.l(o),o.forEach(p),this.h()},h(){E(t,"class","container-bg min-w-0 min-h-0 p-4 space-y-2 grow svelte-nhh4rm")},m(c,o){k(c,t,o),~l&&h[l].m(t,null),e[26](t),n=!0,r||(s=ke(We,"resize",e[21]),r=!0)},p(c,o){let u=l;l=A(c),l===u?~l&&h[l].p(b(c,l),o):(i&&(ae(),z(h[u],1,1,()=>{h[u]=null}),re()),~l?(i=h[l],i?i.p(b(c,l),o):(i=h[l]=a[l](b(c,l)),i.c()),N(i,1),i.m(t,null)):i=null)},i(c){n||(N(i),n=!0)},o(c){z(i),n=!1},d(c){c&&p(t),~l&&h[l].d(),e[26](null),r=!1,s()}}}const Pe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJwbmpsYmpwY2ZlYnFwYXFrcGh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODg1NDM0NTgsImV4cCI6MjAwNDExOTQ1OH0.CsGySz2c8bIWphE6--T51CsmSeBQajfwvBYfTkjviM4",It="https://bpnjlbjpcfebqpaqkphy.supabase.co/functions/v1/chaster_utilities",Ei="https://bpnjlbjpcfebqpaqkphy.supabase.co/functions/v1/database_utilities",Si="profile locks shared_locks keyholder";function ki(e,t,l){let i,n,r,s,a;const h=["#fecaca","#fed7aa","#fde68a","#d9f99d","#bbf7d0","#a7f3d0","#99f6e4","#a5f3fc","#bae6fd","#bfdbfe","#c7d2fe","#ddd6fe","#e9d5ff","#f5d0fe","#fbcfe8","#fecdd3"],A=[{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1}],b=Array(32).fill(0).map(M=>{const S=new Audio(Yt);return S.volume=.3,S});let c="Loading extension data...",o,u="",f="keyholder",_=!1,v=Ce({wheels:{}});Ie(e,v,M=>l(9,i=M));let m=Ce({wheels:{}});Ie(e,m,M=>l(31,r=M));let I="";Dt(async()=>{I=window.location.hash.substring(1).split("?")[0];const M=window.location.search,S=new URLSearchParams(M);if(I!=="")u=JSON.parse(decodeURIComponent(I)).mainToken;else{const U=S.get("state");U!==null&&(u=JSON.parse(decodeURIComponent(U)).mainToken)}const W=S.get("code");if(W!==null){const U=window.location.href.split("?")[0];await fetch(Ei,{method:"POST",headers:{Authorization:`Bearer ${Pe}`},body:JSON.stringify({action:"chaster_access-set",authorizationCode:W,redirectURI:U,scopes:Si})});const J=new URL(window.location.href),ee=J.searchParams.get("state");J.searchParams.delete("state"),J.searchParams.delete("session_state"),J.searchParams.delete("code"),J.hash=encodeURIComponent(ee),history.pushState(null,"",J.toString())}l(1,c="Retrieving extended wheel data...");const T=await be();l(3,_=T.hasKeyholder),l(2,f=T.userRole),ie(v,i=T.config,i),ie(m,r=T.customData,r),l(0,o=Object.keys(i.wheels)[0]??void 0),l(1,c="")});let g=Ce("");Ie(e,g,M=>l(12,a=M));function d(){if(o===void 0)return;const M=r.wheels[o];if(M===void 0)ie(g,a="",a);else{const S=i.wheels[o];if(S.regularity.mode==="unlimited")ie(g,a="",a);else{const W=new Date().getTime(),T=M.lastActionTimeMS+S.regularity.interval*1e3;ie(g,a=W>T?"":Ft(Math.floor((T-W)/1e3)),a)}}}setInterval(d,200),v.subscribe(()=>{d()}),m.subscribe(()=>{d()});let w=Ce(void 0);Ie(e,w,M=>l(10,n=M));let y=Ce(void 0);Ie(e,y,M=>l(11,s=M));let D=!1,x,j=["",0];async function Y(){l(4,D=!0),ie(y,s=void 0,s);const S=await(await fetch(It,{method:"POST",headers:{Authorization:`Bearer ${Pe}`},body:JSON.stringify({action:"extended_wheel-spin",mainToken:u,wheelID:o})})).json();S.index===void 0&&(S.index=Bt(0,16)),x.spinToItem(S.index,5e3,!1,5,1,Ue),setTimeout(()=>{ie(y,s=S.result,s),l(4,D=!1),j=[o,x.rotation]},5100);const W=await be();for(;D;)await ze(100);JSON.stringify(i)!==JSON.stringify(W.config)&&ie(v,i=W.config,i),ie(m,r=W.customData,r)}w.subscribe(ve),v.subscribe(ve);async function be(){const M=await fetch(It,{method:"POST",headers:{Authorization:`Bearer ${Pe}`},body:JSON.stringify({action:"extended_wheel-page",mainToken:u})});if(M.status!==200)throw console.error(`Error retrieving session data: ${await M.text()}`),new Error("error retrieving session data");return await M.json()}async function ve(){if(o===void 0)return;const M=n;if(M===void 0)return;await ze(10);const S=i.wheels[o];let W=JSON.parse(JSON.stringify(S.outcomes.map(he=>{const ge=he.text??"",Se=[jt(ge,24),ge.length>=32?"...":""].join(""),we=parseFloat(he.percentage);return{label:Se,weight:we}})));S.settings.hiddenOutcomes&&(W=A);let T=0;j[0]==o?T=j[1]:j=["",0];const U={items:W,pointerAngle:270,isInteractive:!1,itemBackgroundColors:h,itemLabelRadiusMax:.3,itemLabelRadius:.825,itemLabelAlign:"left",itemLabelRotation:180,borderWidth:2,overlayImage:Qt,rotation:T};M&&(M.innerHTML=""),x=new di(M,U),window.wheel=x,window.ease=Ue;let J=0,ee=!1,pe;x.onSpin=()=>{let he=0,ge=30;clearInterval(pe),pe=setInterval(()=>{if(ee===!0){clearInterval(pe),ee=!1;return}x._rotation>=he+ge&&(he=x._rotation,J=J+1<b.length?J+1:0,b[J].play())},10)},x.onRest=()=>{ee=!0,x._rotation=x._rotation-360*Math.floor(x._rotation/360)}}let me,ue,fe,ce,de=/Mobi/i.test(window.navigator.userAgent);function ye(){l(5,me=We.innerWidth),l(6,ue=We.innerHeight)}function Ee(M){Fe[M?"unshift":"push"](()=>{n=M,w.set(n)})}function te(){fe=this.clientWidth,l(7,fe)}const oe=()=>{ie(y,s=void 0,s)};function q(){o=Pt(this),l(0,o)}function X(M){Fe[M?"unshift":"push"](()=>{ce=M,l(8,ce)})}return e.$$.update=()=>{e.$$.dirty[0]&1&&d()},[o,c,f,_,D,me,ue,fe,ce,i,n,s,a,h,v,m,g,w,y,Y,de,ye,Ee,te,oe,q,X]}class Ni extends Ct{constructor(t){super(),Rt(this,t,ki,Li,_e,{},null,[-1,-1])}}export{Ni as component,Wi as universal};
