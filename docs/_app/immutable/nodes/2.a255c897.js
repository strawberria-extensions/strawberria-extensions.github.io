import{s as fe,e as I,t as te,a as W,c as C,b as x,d as ie,f as w,g as P,m as S,i as E,h as R,j as ve,F as ce,r as q,k as ke,o as qt,C as re,x as Jt,Z as Yt,p as X,z as se,K as Ft,_ as qe,q as Se,n as ae,B as Qt,l as Gt,$ as Kt,A as Je}from"../chunks/scheduler.bf7cec6e.js";import{S as Bt,i as jt,a as L,g as J,t as M,c as Y,b as Ae,d as me,m as pe,e as we}from"../chunks/index.11aa0ef0.js";import{e as le}from"../chunks/each.e59479a4.js";import{w as Re}from"../chunks/index.8b0b25cb.js";import{S as xe}from"../chunks/SvelteMarkdown.9441d14d.js";import{c as Zt}from"../chunks/logo.09e82b80.js";import{c as Xt,a as $t}from"../chunks/_commonjsHelpers.23102255.js";import{d as zt,g as ei,r as ti,s as Ye,t as ii}from"../chunks/utility.ad7e1a81.js";const li=!0,Qi=Object.freeze(Object.defineProperty({__proto__:null,prerender:li},Symbol.toStringTag,{value:"Module"}));var ni=Math.PI;function Qe(e){return(1-Math.cos(ni*e))/2}const ri="data:audio/mpeg;base64,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",si=""+new URL("../assets/wheel-bg-overlay.1f6ec841.svg",import.meta.url).href;var ai=Object.defineProperty,Ge=Object.getOwnPropertySymbols,oi=Object.prototype.hasOwnProperty,hi=Object.prototype.propertyIsEnumerable,De=Math.pow,Ke=(e,t,l)=>t in e?ai(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Oe=(e,t)=>{for(var l in t||(t={}))oi.call(t,l)&&Ke(e,l,t[l]);if(Ge)for(var l of Ge(t))hi.call(t,l)&&Ke(e,l,t[l]);return e};function ui(e=0,t=0,l=14){return parseFloat((Math.random()*(t-e)+e).toFixed(l))}function ne(e=0){return e*Math.PI/180}function fi(e,t,l){return t<l?t<=e&&e<l:t<=e||e<l}function ci(e,t,l,i){i.save(),i.font=`1px ${t}`;let n=i.measureText(e).width;return i.restore(),l/n}function di(e={x:0,y:0},t,l,i){return De(e.x-t,2)+De(e.y-l,2)<=De(i,2)}function Te(e={x:0,y:0},t={},l=1){let i=t.getBoundingClientRect();return{x:(e.x-i.left)*l,y:(e.y-i.top)*l}}function gi(e,t,l,i){let n=e-l,s=t-i,r=Math.atan2(-s,-n);return r*=180/Math.PI,r<0&&(r+=360),r}function _i(e=0,t=0){let l=e+t,i;return l>0?i=l%360:i=360+l%360,i===360&&(i=0),i}function vi(e=0,t=0){let l=180-t;return 180-_i(e,l)}function Ai(e=0,t=0,l=1){let i=(e%360+t)%360;return i=mi(i),i=(l===1?360-i:360+i)%360,i*=l,e+i}function Me(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}function ee(e){return typeof e=="number"&&!Number.isNaN(e)}function z({val:e,isValid:t,errorMessage:l,defaultValue:i,action:n=null}){if(t)return n?n():e;if(e===void 0)return i;throw new Error(l)}function Ze(e){return e&&e.complete&&e.naturalWidth!==0&&e.naturalHeight!==0}function mi(e=0){return Number(e.toFixed(9))}function pi(e){return Math.sin(e*Math.PI/2)}var wi=Object.freeze({left:"left",right:"right",center:"center"}),D=Object.freeze({wheel:{borderColor:"#000",borderWidth:1,debug:!1,image:null,isInteractive:!0,itemBackgroundColors:["#fff"],itemLabelAlign:wi.right,itemLabelBaselineOffset:0,itemLabelColors:["#000"],itemLabelFont:"sans-serif",itemLabelFontSizeMax:500,itemLabelRadius:.85,itemLabelRadiusMax:.2,itemLabelRotation:0,items:[],lineColor:"#000",lineWidth:1,pixelRatio:0,radius:.95,rotation:0,rotationResistance:-35,rotationSpeedMax:300,offset:{w:0,h:0},onCurrentIndexChange:null,onRest:null,onSpin:null,overlayImage:null,pointerAngle:0},item:{backgroundColor:null,image:null,imageRadius:.5,imageRotation:0,imageScale:1,label:"",labelColor:null,labelFont:null,weight:1}}),Le=Object.freeze({pointerLineColor:"#ff00ff",labelOutlineColor:"#ff00ff",labelRadiusColor:"#00ff00",dragEventHue:200});function bi(e={}){Ii(e),e._handler_onResize=e.resize.bind(e),window.addEventListener("resize",e._handler_onResize)}function yi(e={}){let t=e.canvas;"PointerEvent"in window?(t.removeEventListener("pointerdown",e._handler_onPointerDown),t.removeEventListener("pointermove",e._handler_onPointerMoveRefreshCursor)):(t.removeEventListener("touchstart",e._handler_onTouchStart),t.removeEventListener("mousedown",e._handler_onMouseDown),t.removeEventListener("mousemove",e._handler_onMouseMoveRefreshCursor)),window.removeEventListener("resize",e._handler_onResize)}function Ii(e={}){let t=e.canvas;e._handler_onPointerMoveRefreshCursor=(l={})=>{let i={x:l.clientX,y:l.clientY};e.isCursorOverWheel=e.wheelHitTest(i),e.refreshCursor()},e._handler_onMouseMoveRefreshCursor=(l={})=>{let i={x:l.clientX,y:l.clientY};e.isCursorOverWheel=e.wheelHitTest(i),e.refreshCursor()},e._handler_onPointerDown=(l={})=>{let i={x:l.clientX,y:l.clientY};if(!e.isInteractive||!e.wheelHitTest(i))return;l.preventDefault(),e.dragStart(i),t.setPointerCapture(l.pointerId),t.addEventListener("pointermove",n),t.addEventListener("pointerup",s),t.addEventListener("pointercancel",s),t.addEventListener("pointerout",s);function n(r={}){r.preventDefault(),e.dragMove({x:r.clientX,y:r.clientY})}function s(r={}){r.preventDefault(),t.releasePointerCapture(r.pointerId),t.removeEventListener("pointermove",n),t.removeEventListener("pointerup",s),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerout",s),e.dragEnd()}},e._handler_onMouseDown=(l={})=>{let i={x:l.clientX,y:l.clientY};if(!e.isInteractive||!e.wheelHitTest(i))return;e.dragStart(i),document.addEventListener("mousemove",n),document.addEventListener("mouseup",s);function n(r={}){r.preventDefault(),e.dragMove({x:r.clientX,y:r.clientY})}function s(r={}){r.preventDefault(),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s),e.dragEnd()}},e._handler_onTouchStart=(l={})=>{let i={x:l.targetTouches[0].clientX,y:l.targetTouches[0].clientY};if(!e.isInteractive||!e.wheelHitTest(i))return;l.preventDefault(),e.dragStart(i),t.addEventListener("touchmove",n),t.addEventListener("touchend",s),t.addEventListener("touchcancel",s);function n(r={}){r.preventDefault(),e.dragMove({x:r.targetTouches[0].clientX,y:r.targetTouches[0].clientY})}function s(r={}){r.preventDefault(),t.removeEventListener("touchmove",n),t.removeEventListener("touchend",s),t.removeEventListener("touchcancel",s),e.dragEnd()}},"PointerEvent"in window?(t.addEventListener("pointerdown",e._handler_onPointerDown),t.addEventListener("pointermove",e._handler_onPointerMoveRefreshCursor)):(t.addEventListener("touchstart",e._handler_onTouchStart),t.addEventListener("mousedown",e._handler_onMouseDown),t.addEventListener("mousemove",e._handler_onMouseMoveRefreshCursor))}var Ci=class{constructor(e,t={}){if(!Me(e))throw new Error("wheel must be an instance of Wheel");if(!Me(t)&&t!==null)throw new Error("props must be an Object or null");this._wheel=e;for(let l of Object.keys(D.item))this["_"+l]=D.item[l];t?this.init(t):this.init(D.item)}init(e={}){this.backgroundColor=e.backgroundColor,this.image=e.image,this.imageRadius=e.imageRadius,this.imageRotation=e.imageRotation,this.imageScale=e.imageScale,this.label=e.label,this.labelColor=e.labelColor,this.value=e.value,this.weight=e.weight}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){typeof e=="string"?this._backgroundColor=e:this._backgroundColor=D.item.backgroundColor,this._wheel.refresh()}get image(){return this._image}set image(e){let t;typeof e=="string"?(t=new Image,t.src=e,t.onload=l=>this._wheel.refresh()):t=D.item.image,this._image=t,this._wheel.refresh()}get imageRadius(){return this._imageRadius}set imageRadius(e){typeof e=="number"?this._imageRadius=e:this._imageRadius=D.item.imageRadius,this._wheel.refresh()}get imageRotation(){return this._imageRotation}set imageRotation(e){typeof e=="number"?this._imageRotation=e:this._imageRotation=D.item.imageRotation,this._wheel.refresh()}get imageScale(){return this._imageScale}set imageScale(e){typeof e=="number"?this._imageScale=e:this._imageScale=D.item.imageScale,this._wheel.refresh()}get label(){return this._label}set label(e){typeof e=="string"?this._label=e:this._label=D.item.label,this._wheel.refresh()}get labelColor(){return this._labelColor}set labelColor(e){typeof e=="string"?this._labelColor=e:this._labelColor=D.item.labelColor,this._wheel.refresh()}get value(){return this._value}set value(e){this._value=e}get weight(){return this._weight}set weight(e){typeof e=="number"?this._weight=e:this._weight=D.item.weight}getIndex(){let e=this._wheel.items.findIndex(t=>t===this);if(e===-1)throw new Error("Item not found in parent Wheel");return e}getCenterAngle(){let e=this._wheel.getItemAngles()[this.getIndex()];return e.start+(e.end-e.start)/2}getStartAngle(){return this._wheel.getItemAngles()[this.getIndex()].start}getEndAngle(){return this._wheel.getItemAngles()[this.getIndex()].end}getRandomAngle(){return ui(this.getStartAngle(),this.getEndAngle())}},ki=class{constructor(e,t={}){if(this._frameRequestId=null,this._rotationSpeed=0,this._rotationDirection=1,!(e instanceof Element))throw new Error("container must be an instance of Element");if(!Me(t)&&t!==null)throw new Error("props must be an Object or null");this._canvasContainer=e,this.canvas=document.createElement("canvas"),this._context=this.canvas.getContext("2d"),this.addCanvas(),bi(this);for(let l of Object.keys(D.wheel))this["_"+l]=D.wheel[l];t?this.init(t):this.init(D.wheel)}init(e={}){this._isInitialising=!0,this.borderColor=e.borderColor,this.borderWidth=e.borderWidth,this.debug=e.debug,this.image=e.image,this.isInteractive=e.isInteractive,this.itemBackgroundColors=e.itemBackgroundColors,this.itemLabelAlign=e.itemLabelAlign,this.itemLabelBaselineOffset=e.itemLabelBaselineOffset,this.itemLabelColors=e.itemLabelColors,this.itemLabelFont=e.itemLabelFont,this.itemLabelFontSizeMax=e.itemLabelFontSizeMax,this.itemLabelRadius=e.itemLabelRadius,this.itemLabelRadiusMax=e.itemLabelRadiusMax,this.itemLabelRotation=e.itemLabelRotation,this.items=e.items,this.lineColor=e.lineColor,this.lineWidth=e.lineWidth,this.pixelRatio=e.pixelRatio,this.rotationSpeedMax=e.rotationSpeedMax,this.radius=e.radius,this.rotation=e.rotation,this.rotationResistance=e.rotationResistance,this.offset=e.offset,this.onCurrentIndexChange=e.onCurrentIndexChange,this.onRest=e.onRest,this.onSpin=e.onSpin,this.overlayImage=e.overlayImage,this.pointerAngle=e.pointerAngle}addCanvas(){this._canvasContainer.appendChild(this.canvas)}removeCanvas(){this._canvasContainer.removeChild(this.canvas)}remove(){window.cancelAnimationFrame(this._frameRequestId),yi(this),this.removeCanvas()}resize(){let[e,t]=[this._canvasContainer.clientWidth*this.getActualPixelRatio(),this._canvasContainer.clientHeight*this.getActualPixelRatio()],l=Math.min(e,t),i={w:l-l*this.offset.w,h:l-l*this.offset.h},n=Math.min(e/i.w,t/i.h);this._size=Math.max(i.w*n,i.h*n),this.canvas.style.width=this._canvasContainer.clientWidth+"px",this.canvas.style.height=this._canvasContainer.clientHeight+"px",this.canvas.width=e,this.canvas.height=t,this._center={x:e/2+e*this.offset.w,y:t/2+t*this.offset.h},this._actualRadius=this._size/2*this.radius,this.itemLabelFontSize=this.itemLabelFontSizeMax*(this._size/500),this.labelMaxWidth=this._actualRadius*(this.itemLabelRadius-this.itemLabelRadiusMax);for(let s of this._items)this.itemLabelFontSize=Math.min(this.itemLabelFontSize,ci(s.label,this.itemLabelFont,this.labelMaxWidth,this._context));this.refresh()}draw(e=0){this._frameRequestId=null;let t=this._context;t.clearRect(0,0,this.canvas.width,this.canvas.height),this.animateRotation(e);let l=this.getItemAngles(this._rotation),i=this.getActualBorderWidth();t.textBaseline="middle",t.textAlign=this.itemLabelAlign,t.font=this.itemLabelFontSize+"px "+this.itemLabelFont,t.save();for(let[n,s]of l.entries()){let r=new Path2D;r.moveTo(this._center.x,this._center.y),r.arc(this._center.x,this._center.y,this._actualRadius-i/2,ne(s.start+-90),ne(s.end+-90)),this._items[n].path=r}this.drawItemBackgrounds(t,l),this.drawItemImages(t,l),this.drawItemLines(t,l),this.drawItemLabels(t,l),this.drawBorder(t),this.drawImage(t,this._image,!1),this.drawImage(t,this._overlayImage,!0),this.drawPointerLine(t),this.drawDragEvents(t),this._isInitialising=!1}drawItemBackgrounds(e,t=[]){var l;for(let[i,n]of t.entries()){let s=this._items[i];e.fillStyle=(l=s.backgroundColor)!=null?l:this.itemBackgroundColors[i%this.itemBackgroundColors.length],e.fill(s.path)}}drawItemImages(e,t=[]){for(let[l,i]of t.entries()){let n=this._items[l];if(!Ze(n.image))return;e.save(),e.clip(n.path);let s=i.start+(i.end-i.start)/2;e.translate(this._center.x+Math.cos(ne(s+-90))*(this._actualRadius*n.imageRadius),this._center.y+Math.sin(ne(s+-90))*(this._actualRadius*n.imageRadius)),e.rotate(ne(s+n.imageRotation));let r=this._size/500*n.image.width*n.imageScale,o=this._size/500*n.image.height*n.imageScale,a=-r/2,g=-o/2;e.drawImage(n.image,a,g,r,o),e.restore()}}drawImage(e,t,l=!1){if(!Ze(t))return;e.translate(this._center.x,this._center.y),l||e.rotate(ne(this._rotation));let i=l?this._size:this._size*this.radius,n=-(i/2);e.drawImage(t,n,n,i,i),e.resetTransform()}drawPointerLine(e){!this.debug||(e.translate(this._center.x,this._center.y),e.rotate(ne(this._pointerAngle+-90)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius*2,0),e.strokeStyle=Le.pointerLineColor,e.lineWidth=2,e.stroke(),e.resetTransform())}drawBorder(e){if(this.borderWidth<=0)return;let t=this.getActualBorderWidth(),l=this._borderColor||"transparent";e.beginPath(),e.strokeStyle=l,e.lineWidth=t,e.arc(this._center.x,this._center.y,this._actualRadius-t/2,0,2*Math.PI),e.stroke(),this.debug&&(e.beginPath(),e.strokeStyle=e.strokeStyle=Le.labelRadiusColor,e.lineWidth=1,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadius,0,2*Math.PI),e.stroke(),e.beginPath(),e.strokeStyle=e.strokeStyle=Le.labelRadiusColor,e.lineWidth=1,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadiusMax,0,2*Math.PI),e.stroke())}drawItemLines(e,t=[]){if(this.lineWidth<=0)return;let l=this.lineWidth/500*this._size,i=this.getActualBorderWidth();e.translate(this._center.x,this._center.y);for(let n of t)e.rotate(ne(n.start+-90)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius-i,0),e.strokeStyle=this.lineColor,e.lineWidth=l,e.stroke(),e.rotate(-ne(n.start+-90));e.resetTransform()}drawItemLabels(e,t=[]){let l=this.itemLabelFontSize*-this.itemLabelBaselineOffset;for(let[i,n]of t.entries()){let s=this._items[i],r=s.labelColor||this._itemLabelColors[i%this._itemLabelColors.length]||"transparent";if(s.label.trim()===""||r==="transparent")continue;e.save(),e.clip(s.path);let o=n.start+(n.end-n.start)/2;e.translate(this._center.x+Math.cos(ne(o+-90))*(this._actualRadius*this.itemLabelRadius),this._center.y+Math.sin(ne(o+-90))*(this._actualRadius*this.itemLabelRadius)),e.rotate(ne(o+-90)),e.rotate(ne(this.itemLabelRotation)),this.debug&&(e.beginPath(),e.moveTo(0,0),e.lineTo(-this.labelMaxWidth,0),e.strokeStyle=Le.labelOutlineColor,e.lineWidth=1,e.stroke(),e.strokeRect(0,-this.itemLabelFontSize/2,-this.labelMaxWidth,this.itemLabelFontSize)),e.fillStyle=r,e.fillText(s.label,0,l),e.restore()}}drawDragEvents(e){var t;if(!this.debug||!((t=this.dragEvents)!=null&&t.length))return;let l=[...this.dragEvents].reverse();for(let[i,n]of l.entries()){let s=i/this.dragEvents.length*100;e.beginPath(),e.arc(n.x,n.y,5,0,2*Math.PI),e.fillStyle=`hsl(${Le.dragEventHue},100%,${s}%)`,e.strokeStyle="#000",e.lineWidth=.5,e.fill(),e.stroke()}}animateRotation(e=0){if(this._spinToTimeEnd){if(e>=this._spinToTimeEnd){this.rotation=this._spinToEndRotation,this._spinToTimeEnd=void 0,this.raiseEvent_onRest();return}this.refresh();let t=this._spinToTimeEnd-this._spinToTimeStart,l=(e-this._spinToTimeStart)/t;l=l<0?0:l;let i=this._spinToEndRotation-this._spinToStartRotation;this.rotation=this._spinToStartRotation+i*this._spinToEasingFunction(l);return}if(this._rotationSpeed!==0){this.refresh(),this._lastFrameTime===void 0&&(this._lastFrameTime=e);let t=e-this._lastFrameTime;t>0&&(this.rotation+=t/1e3*this._rotationSpeed%360,this._rotationSpeed=this.getRotationSpeedPlusDrag(t),this._rotationSpeed===0&&this.raiseEvent_onRest(),this._lastFrameTime=e);return}this._lastFrameTime=void 0}getRotationSpeedPlusDrag(e=0){let t=this._rotationSpeed+this.rotationResistance*(e/1e3)*this._rotationDirection;return this._rotationDirection===1&&t<0||this._rotationDirection===-1&&t>=0?0:t}spin(e=0){if(!ee(e))throw new Error("rotationSpeed must be a number");this.setSpeedSpeed(e,"spin")}spinTo(e=0,t=0,l=null){if(Number.isNaN(e))throw new Error("Error: newRotation parameter is NaN");this.stop(),this.animate(e,t,l),this.raiseEvent_onSpin({method:"spinto",targetRotation:e,duration:t})}spinToItem(e=0,t=0,l=!0,i=1,n=1,s=null){this.stop();let r=l?this.items[e].getCenterAngle():this.items[e].getRandomAngle(),o=Ai(this.rotation,r-this._pointerAngle,n);o+=i*360*n,this.animate(o,t,s),this.raiseEvent_onSpin({method:"spintoitem",targetItemIndex:e,targetRotation:o,duration:t})}animate(e,t,l){this._spinToStartRotation=this.rotation,this._spinToEndRotation=e,this._spinToTimeStart=performance.now(),this._spinToTimeEnd=this._spinToTimeStart+t,this._spinToEasingFunction=l||pi,this.refresh()}stop(){this._rotationSpeed=0,this._spinToTimeEnd=void 0}getActualBorderWidth(){return this.borderWidth/500*this._size}getActualPixelRatio(){return this._pixelRatio!==0?this._pixelRatio:window.devicePixelRatio}wheelHitTest(e={x:0,y:0}){let t=Te(e,this.canvas,this.getActualPixelRatio());return di(t,this._center.x,this._center.y,this._actualRadius)}refreshCursor(){if(this.isInteractive){if(this.isDragging){this.canvas.style.cursor="grabbing";return}if(this.isCursorOverWheel){this.canvas.style.cursor="grab";return}}this.canvas.style.cursor=""}getAngleFromCenter(e={x:0,y:0}){return(gi(this._center.x,this._center.y,e.x,e.y)+90)%360}getCurrentIndex(){return this._currentIndex}refreshCurrentIndex(e=[]){this._items.length===0&&(this._currentIndex=-1);for(let[t,l]of e.entries())if(fi(this._pointerAngle,l.start%360,l.end%360)){if(this._currentIndex===t)break;this._currentIndex=t,this._isInitialising||this.raiseEvent_onCurrentIndexChange();break}}getItemAngles(e=0){let t=0;for(let r of this.items)t+=r.weight;let l=360/t,i,n=e,s=[];for(let r of this._items)i=r.weight*l,s.push({start:n,end:n+i}),n+=i;return this._items.length>1&&(s[s.length-1].end=s[0].start+360),s}refresh(){this._frameRequestId===null&&(this._frameRequestId=window.requestAnimationFrame(this.draw.bind(this)))}limitSpeed(e=0,t=0){let l=Math.min(e,t);return Math.max(l,-t)}setSpeedSpeed(e=0,t=""){this.stop(),this._rotationSpeed=this.limitSpeed(e,this._rotationSpeedMax),this._rotationDirection=this._rotationSpeed>=0?1:-1,this._rotationSpeed!==0&&this.raiseEvent_onSpin({method:t,rotationSpeed:this._rotationSpeed,rotationResistance:this._rotationResistance}),this.refresh()}get borderColor(){return this._borderColor}set borderColor(e){this._borderColor=z({val:e,isValid:typeof e=="string",errorMessage:"Wheel.borderColor must be a string",defaultValue:D.wheel.borderColor}),this.refresh()}get borderWidth(){return this._borderWidth}set borderWidth(e){this._borderWidth=z({val:e,isValid:ee(e),errorMessage:"Wheel.borderWidth must be a number",defaultValue:D.wheel.borderWidth}),this.refresh()}get debug(){return this._debug}set debug(e){this._debug=z({val:e,isValid:typeof e=="boolean",errorMessage:"Wheel.debug must be a boolean",defaultValue:D.wheel.debug}),this.refresh()}get image(){var e,t;return(t=(e=this._image)==null?void 0:e.src)!=null?t:null}set image(e){this._image=z({val:e,isValid:typeof e=="string"||e===null,errorMessage:"Wheel.image must be a url (string) or null",defaultValue:D.wheel.image,action:()=>{if(e===null)return null;let t=new Image;return t.src=e,t.onload=l=>this.refresh(),t}}),this.refresh()}get isInteractive(){return this._isInteractive}set isInteractive(e){this._isInteractive=z({val:e,isValid:typeof e=="boolean",errorMessage:"Wheel.isInteractive must be a boolean",defaultValue:D.wheel.isInteractive}),this.refreshCursor()}get itemBackgroundColors(){return this._itemBackgroundColors}set itemBackgroundColors(e){this._itemBackgroundColors=z({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemBackgroundColors must be an array",defaultValue:D.wheel.itemBackgroundColors}),this.refresh()}get itemLabelAlign(){return this._itemLabelAlign}set itemLabelAlign(e){this._itemLabelAlign=z({val:e,isValid:typeof e=="string",errorMessage:"Wheel.itemLabelAlign must be a string",defaultValue:D.wheel.itemLabelAlign}),this.refresh()}get itemLabelBaselineOffset(){return this._itemLabelBaselineOffset}set itemLabelBaselineOffset(e){this._itemLabelBaselineOffset=z({val:e,isValid:ee(e),errorMessage:"Wheel.itemLabelBaselineOffset must be a number",defaultValue:D.wheel.itemLabelBaselineOffset}),this.resize()}get itemLabelColors(){return this._itemLabelColors}set itemLabelColors(e){this._itemLabelColors=z({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemLabelColors must be an array",defaultValue:D.wheel.itemLabelColors}),this.refresh()}get itemLabelFont(){return this._itemLabelFont}set itemLabelFont(e){this._itemLabelFont=z({val:e,isValid:typeof e=="string",errorMessage:"Wheel.itemLabelFont must be a string",defaultValue:D.wheel.itemLabelFont}),this.resize()}get itemLabelFontSizeMax(){return this._itemLabelFontSizeMax}set itemLabelFontSizeMax(e){this._itemLabelFontSizeMax=z({val:e,isValid:ee(e),errorMessage:"Wheel.itemLabelFontSizeMax must be a number",defaultValue:D.wheel.itemLabelFontSizeMax}),this.resize()}get itemLabelRadius(){return this._itemLabelRadius}set itemLabelRadius(e){this._itemLabelRadius=z({val:e,isValid:ee(e),errorMessage:"Wheel.itemLabelRadius must be a number",defaultValue:D.wheel.itemLabelRadius}),this.resize()}get itemLabelRadiusMax(){return this._itemLabelRadiusMax}set itemLabelRadiusMax(e){this._itemLabelRadiusMax=z({val:e,isValid:ee(e),errorMessage:"Wheel.itemLabelRadiusMax must be a number",defaultValue:D.wheel.itemLabelRadiusMax}),this.resize()}get itemLabelRotation(){return this._itemLabelRotation}set itemLabelRotation(e){this._itemLabelRotation=z({val:e,isValid:ee(e),errorMessage:"Wheel.itemLabelRotation must be a number",defaultValue:D.wheel.itemLabelRotation}),this.refresh()}get items(){return this._items}set items(e){this._items=z({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.items must be an array of Items",defaultValue:D.wheel.items,action:()=>{let t=[];for(let l of e)t.push(new Ci(this,{backgroundColor:l.backgroundColor,image:l.image,imageRadius:l.imageRadius,imageRotation:l.imageRotation,imageScale:l.imageScale,label:l.label,labelColor:l.labelColor,value:l.value,weight:l.weight}));return t}}),this.refreshCurrentIndex(this.getItemAngles(this._rotation))}get lineColor(){return this._lineColor}set lineColor(e){this._lineColor=z({val:e,isValid:typeof e=="string",errorMessage:"Wheel.lineColor must be a string",defaultValue:D.wheel.lineColor}),this.refresh()}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=z({val:e,isValid:ee(e),errorMessage:"Wheel.lineWidth must be a number",defaultValue:D.wheel.lineWidth}),this.refresh()}get offset(){return this._offset}set offset(e){this._offset=z({val:e,isValid:Me(e),errorMessage:"Wheel.offset must be an object",defaultValue:D.wheel.offset}),this.resize()}get onCurrentIndexChange(){return this._onCurrentIndexChange}set onCurrentIndexChange(e){this._onCurrentIndexChange=z({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onCurrentIndexChange must be a function or null",defaultValue:D.wheel.onCurrentIndexChange})}get onRest(){return this._onRest}set onRest(e){this._onRest=z({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onRest must be a function or null",defaultValue:D.wheel.onRest})}get onSpin(){return this._onSpin}set onSpin(e){this._onSpin=z({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onSpin must be a function or null",defaultValue:D.wheel.onSpin})}get overlayImage(){var e,t;return(t=(e=this._overlayImage)==null?void 0:e.src)!=null?t:null}set overlayImage(e){this._overlayImage=z({val:e,isValid:typeof e=="string"||e===null,errorMessage:"Wheel.overlayImage must be a url (string) or null",defaultValue:D.wheel.overlayImage,action:()=>{if(e===null)return null;let t=new Image;return t.src=e,t.onload=l=>this.refresh(),t}}),this.refresh()}get pixelRatio(){return this._pixelRatio}set pixelRatio(e){this._pixelRatio=z({val:e,isValid:ee(e),errorMessage:"Wheel.pixelRatio must be a number",defaultValue:D.wheel.pixelRatio}),this.resize()}get pointerAngle(){return this._pointerAngle}set pointerAngle(e){this._pointerAngle=z({val:e,isValid:ee(e)&&e>=0,errorMessage:"Wheel.pointerAngle must be a number between 0 and 360",defaultValue:D.wheel.pointerAngle,action:()=>e%360}),this.debug&&this.refresh()}get radius(){return this._radius}set radius(e){this._radius=z({val:e,isValid:ee(e),errorMessage:"Wheel.radius must be a number",defaultValue:D.wheel.radius}),this.resize()}get rotation(){return this._rotation}set rotation(e){this._rotation=z({val:e,isValid:ee(e),errorMessage:"Wheel.rotation must be a number",defaultValue:D.wheel.rotation}),this.refreshCurrentIndex(this.getItemAngles(this._rotation)),this.refresh()}get rotationResistance(){return this._rotationResistance}set rotationResistance(e){this._rotationResistance=z({val:e,isValid:ee(e),errorMessage:"Wheel.rotationResistance must be a number",defaultValue:D.wheel.rotationResistance})}get rotationSpeed(){return this._rotationSpeed}get rotationSpeedMax(){return this._rotationSpeedMax}set rotationSpeedMax(e){this._rotationSpeedMax=z({val:e,isValid:ee(e)&&e>=0,errorMessage:"Wheel.rotationSpeedMax must be a number >= 0",defaultValue:D.wheel.rotationSpeedMax})}dragStart(e={x:0,y:0}){let t=Te(e,this.canvas,this.getActualPixelRatio());this.isDragging=!0,this.stop(),this.dragEvents=[{distance:0,x:t.x,y:t.y,now:performance.now()}],this.refreshCursor()}dragMove(e={x:0,y:0}){let t=Te(e,this.canvas,this.getActualPixelRatio()),l=this.getAngleFromCenter(t),i=this.dragEvents[0],n=this.getAngleFromCenter(i),s=vi(n,l);this.dragEvents.unshift({distance:s,x:t.x,y:t.y,now:performance.now()}),this.debug&&this.dragEvents.length>=40&&this.dragEvents.pop(),this.rotation+=s}dragEnd(){this.isDragging=!1;let e=0,t=performance.now();for(let[l,i]of this.dragEvents.entries()){if(!this.isDragEventTooOld(t,i)){e+=i.distance;continue}this.dragEvents.length=l;break}this.refreshCursor(),e!==0&&this.setSpeedSpeed(e*(1e3/250),"interact")}isDragEventTooOld(e=0,t={}){return e-t.now>250}raiseEvent_onCurrentIndexChange(e={}){var t;(t=this.onCurrentIndexChange)==null||t.call(this,Oe({type:"currentIndexChange",currentIndex:this._currentIndex},e))}raiseEvent_onRest(e={}){var t;(t=this.onRest)==null||t.call(this,Oe({type:"rest",currentIndex:this._currentIndex,rotation:this._rotation},e))}raiseEvent_onSpin(e={}){var t;(t=this.onSpin)==null||t.call(this,Oe({type:"spin"},e))}},Ht={exports:{}};(function(e,t){(function(i,n){e.exports=n()})(Xt,function(){return function(){var l={165:function(r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.abs=void 0;function a(g){return(typeof g=="number"||typeof g=="bigint")&&(g=g.toString()),g[0]=="-"?g.substring(1):g}o.abs=a},217:function(r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.pad=o.trim=o.add=void 0;function a(h,u){var _;u===void 0&&(u="0");var A=0,b=-1;h[0]=="-"&&(h=h.substring(1),c(h)||(A++,b=1,h.length)),u[0]=="-"&&(u=u.substring(1),c(u)||(A++,b=2,u.length)),h=m(h),u=m(u),_=d(m(h),m(u)),h=_[0],u=_[1],A==1&&(b===1?h=g(h):b===2&&(u=g(u)));var p=f(h,u);return A?A==2?"-"+m(p):h.length<p.length?m(p.substring(1)):"-"+m(g(p)):m(p)}o.add=a;function g(h){if(c(h))return h;for(var u="",_=h.length,A=h.split(".")[1],b=A?A.length:0,p=0;p<_;p++)h[p]>="0"&&h[p]<="9"?u+=9-parseInt(h[p]):u+=h[p];var v=b>0?"0."+new Array(b).join("0")+"1":"1";return f(u,v)}function m(h){var u=h.split(".");for(u[0]||(u[0]="0");u[0][0]=="0"&&u[0].length>1;)u[0]=u[0].substring(1);return u[0]+(u[1]?"."+u[1]:"")}o.trim=m;function d(h,u){var _=h.split("."),A=u.split("."),b=_[0].length,p=A[0].length;return b>p?A[0]=new Array(Math.abs(b-p)+1).join("0")+(A[0]?A[0]:""):_[0]=new Array(Math.abs(b-p)+1).join("0")+(_[0]?_[0]:""),b=_[1]?_[1].length:0,p=A[1]?A[1].length:0,(b||p)&&(b>p?A[1]=(A[1]?A[1]:"")+new Array(Math.abs(b-p)+1).join("0"):_[1]=(_[1]?_[1]:"")+new Array(Math.abs(b-p)+1).join("0")),h=_[0]+(_[1]?"."+_[1]:""),u=A[0]+(A[1]?"."+A[1]:""),[h,u]}o.pad=d;function f(h,u){var _;_=d(h,u),h=_[0],u=_[1];for(var A="",b=0,p=h.length-1;p>=0;p--){if(h[p]==="."){A="."+A;continue}var v=parseInt(h[p])+parseInt(u[p])+b;A=v%10+A,b=Math.floor(v/10)}return b?b.toString()+A:A}function c(h){return/^0[0]*[.]{0,1}[0]*$/.test(h)}},423:function(r,o,a){var g=a(217),m=a(165),d=a(350),f=a(182),c=a(415),h=a(213),u=a(664),_=a(26),A=a(916),b=function(){function p(v){v===void 0&&(v="0"),this.value=p.validate(v)}return p.validate=function(v){if(v){if(v=v.toString(),isNaN(v))throw Error("Parameter is not a number: "+v);v[0]=="+"&&(v=v.substring(1))}else v="0";if(v.startsWith(".")?v="0"+v:v.startsWith("-.")&&(v="-0"+v.substr(1)),/e/i.test(v)){var y=v.split(/[eE]/),k=y[0],O=y[1];k=(0,g.trim)(k);var V="";k[0]=="-"&&(V="-",k=k.substring(1)),k.indexOf(".")>=0?(O=parseInt(O)+k.indexOf("."),k=k.replace(".","")):O=parseInt(O)+k.length,k.length<O?v=V+k+new Array(O-k.length+1).join("0"):k.length>=O&&O>0?v=V+(0,g.trim)(k.substring(0,O))+(k.length>O?"."+k.substring(O):""):v=V+"0."+new Array(-O+1).join("0")+k}return v},p.prototype.getValue=function(){return this.value},p.prototype.setValue=function(v){this.value=p.validate(v)},p.getPrettyValue=function(v,y,k){if(!(y||k))y=3,k=",";else if(!(y&&k))throw Error("Illegal Arguments. Should pass both digits and separator or pass none");v=p.validate(v);var O=v.charAt(0)=="-";O&&(v=v.substring(1));var V=v.indexOf(".");V=V>0?V:v.length;for(var H="",Z=V;Z>0;)Z<y?(y=Z,Z=0):Z-=y,H=v.substring(Z,Z+y)+(Z<V-y&&Z>=0?k:"")+H;return(O?"-":"")+H+v.substring(V)},p.prototype.getPrettyValue=function(v,y){return p.getPrettyValue(this.value,v,y)},p.round=function(v,y,k){if(y===void 0&&(y=0),k===void 0&&(k=A.RoundingModes.HALF_EVEN),v=p.validate(v),isNaN(y))throw Error("Precision is not a number: "+y);return(0,d.roundOff)(v,y,k)},p.prototype.round=function(v,y){if(v===void 0&&(v=0),y===void 0&&(y=A.RoundingModes.HALF_EVEN),isNaN(v))throw Error("Precision is not a number: "+v);return new p((0,d.roundOff)(this.value,v,y))},p.abs=function(v){return v=p.validate(v),(0,m.abs)(v)},p.prototype.abs=function(){return new p((0,m.abs)(this.value))},p.floor=function(v){return v=p.validate(v),v.indexOf(".")===-1?v:p.round(v,0,A.RoundingModes.FLOOR)},p.prototype.floor=function(){return this.value.indexOf(".")===-1?new p(this.value):new p(this.value).round(0,A.RoundingModes.FLOOR)},p.ceil=function(v){return v=p.validate(v),v.indexOf(".")===-1?v:p.round(v,0,A.RoundingModes.CEILING)},p.prototype.ceil=function(){return this.value.indexOf(".")===-1?new p(this.value):new p(this.value).round(0,A.RoundingModes.CEILING)},p.add=function(v,y){return v=p.validate(v),y=p.validate(y),(0,g.add)(v,y)},p.prototype.add=function(v){return new p((0,g.add)(this.value,v.getValue()))},p.subtract=function(v,y){return v=p.validate(v),y=p.validate(y),(0,_.subtract)(v,y)},p.prototype.subtract=function(v){return new p((0,_.subtract)(this.value,v.getValue()))},p.multiply=function(v,y){return v=p.validate(v),y=p.validate(y),(0,f.multiply)(v,y)},p.prototype.multiply=function(v){return new p((0,f.multiply)(this.value,v.getValue()))},p.divide=function(v,y,k){return v=p.validate(v),y=p.validate(y),(0,c.divide)(v,y,k)},p.prototype.divide=function(v,y){return new p((0,c.divide)(this.value,v.getValue(),y))},p.modulus=function(v,y){return v=p.validate(v),y=p.validate(y),(0,h.modulus)(v,y)},p.prototype.modulus=function(v){return new p((0,h.modulus)(this.value,v.getValue()))},p.compareTo=function(v,y){return v=p.validate(v),y=p.validate(y),(0,u.compareTo)(v,y)},p.prototype.compareTo=function(v){return(0,u.compareTo)(this.value,v.getValue())},p.negate=function(v){return v=p.validate(v),(0,_.negate)(v)},p.prototype.negate=function(){return new p((0,_.negate)(this.value))},p.RoundingModes=A.RoundingModes,p}();r.exports=b},664:function(r,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.compareTo=void 0;var g=a(217);function m(d,f){var c,h=!1;if(d[0]=="-"&&f[0]!="-")return-1;if(d[0]!="-"&&f[0]=="-")return 1;if(d[0]=="-"&&f[0]=="-"&&(d=d.substr(1),f=f.substr(1),h=!0),c=(0,g.pad)(d,f),d=c[0],f=c[1],d.localeCompare(f)==0)return 0;for(var u=0;u<d.length;u++)if(d[u]!=f[u])return d[u]>f[u]?h?-1:1:h?1:-1;return 0}o.compareTo=m},415:function(r,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.divide=void 0;var g=a(217),m=a(350);function d(f,c,h){if(h===void 0&&(h=8),c==0)throw new Error("Cannot divide by 0");if(f=f.toString(),c=c.toString(),f=f.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),c=c.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),f==0)return"0";var u=0;c[0]=="-"&&(c=c.substring(1),u++),f[0]=="-"&&(f=f.substring(1),u++);var _=c.indexOf(".")>0?c.length-c.indexOf(".")-1:-1;if(c=(0,g.trim)(c.replace(".","")),_>=0){var A=f.indexOf(".")>0?f.length-f.indexOf(".")-1:-1;if(A==-1)f=(0,g.trim)(f+new Array(_+1).join("0"));else if(_>A)f=f.replace(".",""),f=(0,g.trim)(f+new Array(_-A+1).join("0"));else if(_<A){f=f.replace(".","");var b=f.length-A+_;f=(0,g.trim)(f.substring(0,b)+"."+f.substring(b))}else _==A&&(f=(0,g.trim)(f.replace(".","")))}var p=0,v=c.length,y="",k=f.indexOf(".")>-1&&f.indexOf(".")<v?f.substring(0,v+1):f.substring(0,v);if(f=f.indexOf(".")>-1&&f.indexOf(".")<v?f.substring(v+1):f.substring(v),k.indexOf(".")>-1){var O=k.length-k.indexOf(".")-1;k=k.replace(".",""),v>k.length&&(O+=v-k.length,k=k+new Array(v-k.length+1).join("0")),p=O,y="0."+new Array(O).join("0")}for(h=h+2;p<=h;){for(var V=0;parseInt(k)>=parseInt(c);)k=(0,g.add)(k,"-"+c),V++;y+=V,f?(f[0]=="."&&(y+=".",p++,f=f.substring(1)),k=k+f.substring(0,1),f=f.substring(1)):(p||(y+="."),p++,k=k+"0")}return(u==1?"-":"")+(0,g.trim)((0,m.roundOff)(y,h-2))}o.divide=d},213:function(r,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.modulus=void 0;var g=a(415),m=a(350),d=a(182),f=a(26),c=a(916);function h(_,A){if(A==0)throw new Error("Cannot divide by 0");_=_.toString(),A=A.toString(),u(_),u(A);var b="";_[0]=="-"&&(b="-",_=_.substr(1)),A[0]=="-"&&(A=A.substr(1));var p=(0,f.subtract)(_,(0,d.multiply)(A,(0,m.roundOff)((0,g.divide)(_,A),0,c.RoundingModes.FLOOR)));return b+p}o.modulus=h;function u(_){if(_.indexOf(".")!=-1)throw new Error("Modulus of non-integers not supported")}},182:function(r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.multiply=void 0;function a(d,f){d=d.toString(),f=f.toString();var c=0;d[0]=="-"&&(c++,d=d.substr(1)),f[0]=="-"&&(c++,f=f.substr(1)),d=m(d),f=m(f);var h=0,u=0;d.indexOf(".")!=-1&&(h=d.length-d.indexOf(".")-1),f.indexOf(".")!=-1&&(u=f.length-f.indexOf(".")-1);var _=h+u;if(d=m(d.replace(".","")),f=m(f.replace(".","")),d.length<f.length){var A=d;d=f,f=A}if(f=="0")return"0";for(var b=f.length,p=0,v=[],y=b-1,k="",O=0;O<b;O++)v[O]=d.length-1;for(var O=0;O<2*d.length;O++){for(var V=0,H=f.length-1;H>=y&&H>=0;H--)v[H]>-1&&v[H]<d.length&&(V+=parseInt(d[v[H]--])*parseInt(f[H]));V+=p,p=Math.floor(V/10),k=V%10+k,y--}return k=m(g(k,_)),c==1&&(k="-"+k),k}o.multiply=a;function g(d,f){return f==0?d:(d=f>=d.length?new Array(f-d.length+1).join("0")+d:d,d.substr(0,d.length-f)+"."+d.substr(d.length-f,f))}function m(d){for(;d[0]=="0";)d=d.substr(1);if(d.indexOf(".")!=-1)for(;d[d.length-1]=="0";)d=d.substr(0,d.length-1);return d==""||d=="."?d="0":d[d.length-1]=="."&&(d=d.substr(0,d.length-1)),d[0]=="."&&(d="0"+d),d}},350:function(r,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.roundOff=void 0;var g=a(916);function m(c,h,u){if(h===void 0&&(h=0),u===void 0&&(u=g.RoundingModes.HALF_EVEN),u===g.RoundingModes.UNNECESSARY)throw new Error("UNNECESSARY Rounding Mode has not yet been implemented");(typeof c=="number"||typeof c=="bigint")&&(c=c.toString());var _=!1;c[0]==="-"&&(_=!0,c=c.substring(1));var A=c.split("."),b=A[0],p=A[1];if(h<0){if(h=-h,b.length<=h)return"0";var v=b.substr(0,b.length-h);return c=v+"."+b.substr(b.length-h)+p,v=m(c,0,u),(_?"-":"")+v+new Array(h+1).join("0")}if(h==0)return b.length,d(A[1],b,_,u)&&(b=f(b)),(_&&parseInt(b)?"-":"")+b;if(A[1]){if(A[1].length<h)return(_?"-":"")+b+"."+A[1]+new Array(h-A[1].length+1).join("0")}else return(_?"-":"")+b+"."+new Array(h+1).join("0");p=A[1].substring(0,h);var y=A[1].substring(h);return y&&d(y,p,_,u)&&(p=f(p),p.length>h)?(_?"-":"")+f(b,parseInt(p[0]))+"."+p.substring(1):(_&&(parseInt(b)||parseInt(p))?"-":"")+b+"."+p}o.roundOff=m;function d(c,h,u,_){if(!c||c===new Array(c.length+1).join("0")||_===g.RoundingModes.DOWN||!u&&_===g.RoundingModes.FLOOR||u&&_===g.RoundingModes.CEILING)return!1;if(_===g.RoundingModes.UP||u&&_===g.RoundingModes.FLOOR||!u&&_===g.RoundingModes.CEILING)return!0;var A="5"+new Array(c.length).join("0");if(c>A)return!0;if(c<A)return!1;switch(_){case g.RoundingModes.HALF_DOWN:return!1;case g.RoundingModes.HALF_UP:return!0;case g.RoundingModes.HALF_EVEN:default:return parseInt(h[h.length-1])%2==1}}function f(c,h){h===void 0&&(h=0),h||(h=1),typeof c=="number"&&c.toString();for(var u=c.length-1,_="",A=u;A>=0;A--){var b=parseInt(c[A])+h;b==10?(h=1,b=0):h=0,_+=b}return h&&(_+=h),_.split("").reverse().join("")}},916:function(r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.RoundingModes=void 0,function(a){a[a.CEILING=0]="CEILING",a[a.DOWN=1]="DOWN",a[a.FLOOR=2]="FLOOR",a[a.HALF_DOWN=3]="HALF_DOWN",a[a.HALF_EVEN=4]="HALF_EVEN",a[a.HALF_UP=5]="HALF_UP",a[a.UNNECESSARY=6]="UNNECESSARY",a[a.UP=7]="UP"}(o.RoundingModes||(o.RoundingModes={}))},26:function(r,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.negate=o.subtract=void 0;var g=a(217);function m(f,c){return f=f.toString(),c=c.toString(),c=d(c),(0,g.add)(f,c)}o.subtract=m;function d(f){return f[0]=="-"?f=f.substr(1):f="-"+f,f}o.negate=d}},i={};function n(r){var o=i[r];if(o!==void 0)return o.exports;var a=i[r]={exports:{}};return l[r](a,a.exports,n),a.exports}var s=n(423);return s}()})})(Ht);var Ri=Ht.exports;const We=$t(Ri);function Xe(e,t,l){const i=e.slice();return i[6]=t[l],i}function Pe(e){const t=e.slice(),l=zt(t[6]);return t[9]=l,t}function $e(e){let t,l,i=le(e[0].effects),n=[];for(let r=0;r<i.length;r+=1)n[r]=tt(Xe(e,i,r));const s=r=>M(n[r],1,1,()=>{n[r]=null});return{c(){t=I("ul");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){t=C(r,"UL",{class:!0});var o=x(t);for(let a=0;a<n.length;a+=1)n[a].l(o);o.forEach(w),this.h()},h(){S(t,"class","list mt-[0.25em] svelte-1ut37ec")},m(r,o){E(r,t,o);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(t,null);l=!0},p(r,o){if(o&1){i=le(r[0].effects);let a;for(a=0;a<i.length;a+=1){const g=Xe(r,i,a);n[a]?(n[a].p(g,o),L(n[a],1)):(n[a]=tt(g),n[a].c(),L(n[a],1),n[a].m(t,null))}for(J(),a=i.length;a<n.length;a+=1)s(a);Y()}},i(r){if(!l){for(let o=0;o<i.length;o+=1)L(n[o]);l=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)M(n[o]);l=!1},d(r){r&&w(t),ce(n,r)}}}function et(e){let t,l,i,n;return l=new xe({props:{source:e[9],isInline:!0}}),{c(){t=I("li"),Ae(l.$$.fragment),i=W(),this.h()},l(s){t=C(s,"LI",{class:!0});var r=x(t);me(l.$$.fragment,r),i=P(r),r.forEach(w),this.h()},h(){S(t,"class","caption whitespace-pre-wrap text-sm")},m(s,r){E(s,t,r),pe(l,t,null),R(t,i),n=!0},p(s,r){const o={};r&1&&(o.source=s[9]),l.$set(o)},i(s){n||(L(l.$$.fragment,s),n=!0)},o(s){M(l.$$.fragment,s),n=!1},d(s){s&&w(t),we(l)}}}function tt(e){let t,l,i=!e[6].hidden&&et(Pe(e));return{c(){i&&i.c(),t=q()},l(n){i&&i.l(n),t=q()},m(n,s){i&&i.m(n,s),E(n,t,s),l=!0},p(n,s){n[6].hidden?i&&(J(),M(i,1,1,()=>{i=null}),Y()):i?(i.p(Pe(n),s),s&1&&L(i,1)):(i=et(Pe(n)),i.c(),L(i,1),i.m(t.parentNode,t))},i(n){l||(L(i),l=!0)},o(n){M(i),l=!1},d(n){n&&w(t),i&&i.d(n)}}}function Li(e){let t,l,i,n=(e[0].text??"")+"",s,r,o,a,g,m,d,f,c,h=e[0].effects.length>0&&$e(e);return{c(){t=I("div"),l=I("div"),i=I("div"),s=te(n),r=W(),h&&h.c(),a=W(),g=I("div"),m=I("div"),d=te(e[2]),f=te("%"),this.h()},l(u){t=C(u,"DIV",{class:!0});var _=x(t);l=C(_,"DIV",{class:!0,style:!0});var A=x(l);i=C(A,"DIV",{class:!0});var b=x(i);s=ie(b,n),b.forEach(w),r=P(A),h&&h.l(A),A.forEach(w),a=P(_),g=C(_,"DIV",{class:!0});var p=x(g);m=C(p,"DIV",{class:!0});var v=x(m);d=ie(v,e[2]),f=ie(v,"%"),v.forEach(w),p.forEach(w),_.forEach(w),this.h()},h(){S(i,"class","leading-5"),S(l,"class","flex flex-col l outcome-left pl-[0.75em] svelte-1ut37ec"),S(l,"style",o=`border-left: 8px solid ${e[1]}`),S(m,"class","caption"),S(g,"class","flex flex-col justify-center w-[5.5em] text-right"),S(t,"class","flex flex-row justify-between space-x-[1em]")},m(u,_){E(u,t,_),R(t,l),R(l,i),R(i,s),R(l,r),h&&h.m(l,null),R(t,a),R(t,g),R(g,m),R(m,d),R(m,f),c=!0},p(u,[_]){(!c||_&1)&&n!==(n=(u[0].text??"")+"")&&ve(s,n),u[0].effects.length>0?h?(h.p(u,_),_&1&&L(h,1)):(h=$e(u),h.c(),L(h,1),h.m(l,null)):h&&(J(),M(h,1,1,()=>{h=null}),Y()),(!c||_&2&&o!==(o=`border-left: 8px solid ${u[1]}`))&&S(l,"style",o)},i(u){c||(L(h),c=!0)},o(u){M(h),c=!1},d(u){u&&w(t),h&&h.d()}}}function Ei(e,t,l){let{outcomeData:i}=t,{settings:n}=t,{userRole:s}=t,{totalPercentage:r}=t,{color:o}=t,a=n.hiddenPercentages&&s!=="keyholder"?"???":new We(i.percentage).divide(new We(r),8).multiply(new We(100)).round(3).getValue().replace(/\.0+$|([^\.])0+$/,"$1");return e.$$set=g=>{"outcomeData"in g&&l(0,i=g.outcomeData),"settings"in g&&l(3,n=g.settings),"userRole"in g&&l(4,s=g.userRole),"totalPercentage"in g&&l(5,r=g.totalPercentage),"color"in g&&l(1,o=g.color)},[i,o,a,n,s,r]}class Ut extends Bt{constructor(t){super(),jt(this,t,Ei,Li,fe,{outcomeData:0,settings:3,userRole:4,totalPercentage:5,color:1})}}function it(e,t,l){const i=e.slice();i[36]=t[l],i[40]=l;const n=i[40]-Math.floor(i[40]/i[10].length)*i[10].length;i[37]=n;const s=i[10][i[37]];return i[38]=s,i}function lt(e,t,l){const i=e.slice();return i[42]=t[l],i}function Ne(e){const t=e.slice(),l=t[32].note.split(`
`);return t[41]=l,t}function nt(e){const t=e.slice(),l=t[32].outcomes.reduce((i,n)=>i+=parseFloat(n.percentage),0);return t[35]=l,t}function rt(e,t,l){const i=e.slice();i[36]=t[l],i[40]=l;const n=i[40]-Math.floor(i[40]/i[10].length)*i[10].length;i[37]=n;const s=i[10][i[37]];return i[38]=s,i}function st(e,t,l){const i=e.slice();return i[42]=t[l],i}function Fe(e){const t=e.slice(),l=t[32].note.trim().split(`
`);return t[41]=l,t}function at(e){const t=e.slice(),l=t[32].outcomes.reduce((i,n)=>i+=parseFloat(n.percentage),0);return t[35]=l,t}function ot(e,t,l){const i=e.slice();return i[48]=t[l][0],i[32]=t[l][1],i}function ht(e,t,l){const i=e.slice();return i[51]=t[l],i}function Be(e){const t=e.slice(),l=zt(t[51]);return t[54]=l,t}function Si(e){const t=e.slice(),l=t[6].wheels[t[0]];t[32]=l;const i=t[4]||t[32].settings.disabled===!0&&t[2]!=="keyholder";t[33]=i;const n=t[9]===""||t[2]==="keyholder";return t[34]=n,t}function Mi(e){let t,l,i,n,s='<h4 class="mb-0">[🍓] Extended Wheel of Fortune</h4> <span class="caption">Developer: <a href="https://chaster.app/user/strawberria" target="_blank">@strawberria</a></span>',r,o,a=`Try your luck and spin the <b>extended</b> wheel of fortune! <br/>
                        Now supporting additional actions and multiple wheels with individual cooldowns!`,g,m=e[0],d,f,c,h,u="Select",_,A,b="Choose which wheel to spin with",p,v,y,k,O,V,H,Z,be=e[17]?" the wheel":"",de,he,ge,ye,Ie,ue,Ce,T,F=_t(e),U=le(Object.entries(e[6].wheels)),B=[];for(let N=0;N<U.length;N+=1)B[N]=At(ot(e,U,N));let $=!e[17]&&Vi(at(e)),K=e[17]&&Ti(nt(e));return{c(){t=I("div"),l=I("div"),i=I("div"),n=I("div"),n.innerHTML=s,r=W(),o=I("div"),o.innerHTML=a,g=W(),F.c(),d=W(),f=I("div"),c=I("div"),h=I("div"),h.textContent=u,_=W(),A=I("div"),A.textContent=b,p=W(),v=I("div"),y=I("select");for(let N=0;N<B.length;N+=1)B[N].c();k=W(),O=I("div"),V=I("button"),H=I("span"),Z=te("Spin"),de=te(be),he=te("!"),ye=W(),$&&$.c(),Ie=W(),K&&K.c(),this.h()},l(N){t=C(N,"DIV",{class:!0});var G=x(t);l=C(G,"DIV",{class:!0});var j=x(l);i=C(j,"DIV",{class:!0});var Q=x(i);n=C(Q,"DIV",{class:!0,"data-svelte-h":!0}),X(n)!=="svelte-1pyx1qx"&&(n.innerHTML=s),r=P(Q),o=C(Q,"DIV",{class:!0,"data-svelte-h":!0}),X(o)!=="svelte-1b8f23k"&&(o.innerHTML=a),g=P(Q),F.l(Q),d=P(Q),f=C(Q,"DIV",{class:!0});var _e=x(f);c=C(_e,"DIV",{class:!0});var oe=x(c);h=C(oe,"DIV",{"data-svelte-h":!0}),X(h)!=="svelte-80uym4"&&(h.textContent=u),_=P(oe),A=C(oe,"DIV",{class:!0,"data-svelte-h":!0}),X(A)!=="svelte-nnb33a"&&(A.textContent=b),p=P(oe),v=C(oe,"DIV",{class:!0});var je=x(v);y=C(je,"SELECT",{class:!0});var ze=x(y);for(let Ve=0;Ve<B.length;Ve+=1)B[Ve].l(ze);ze.forEach(w),je.forEach(w),oe.forEach(w),k=P(_e),O=C(_e,"DIV",{class:!0});var He=x(O);V=C(He,"BUTTON",{type:!0,class:!0});var Ue=x(V);H=C(Ue,"SPAN",{});var Ee=x(H);Z=ie(Ee,"Spin"),de=ie(Ee,be),he=ie(Ee,"!"),Ee.forEach(w),Ue.forEach(w),He.forEach(w),_e.forEach(w),ye=P(Q),$&&$.l(Q),Q.forEach(w),Ie=P(j),K&&K.l(j),j.forEach(w),G.forEach(w),this.h()},h(){S(n,"class","flex items-end justify-between mb-2"),se(n,"flex-row",e[17]),se(n,"flex-col",!e[17]),se(n,"space-x-1",e[17]),se(n,"items-end",e[17]),S(o,"class","caption mb-2"),S(A,"class","caption mb-[0.5em]"),S(y,"class","form-control"),e[0]===void 0&&Ft(()=>e[21].call(y)),S(v,"class","w-full"),S(c,"class","grow"),S(V,"type","button"),S(V,"class","btn btn-primary btn-lg"),V.disabled=ge=e[33]||!e[34],S(O,"class","flex flex-col justify-center space-y-[0.5em] max-w-[12em]"),se(O,"mx-4",e[17]),se(O,"mx-2",!e[17]),S(f,"class","w-full flex flex-row items-stretch space-x-4"),S(i,"class","h-full flex flex-col svelte-4z29vi"),se(i,"card-horizontal",e[17]),S(l,"class","w-full h-full flex flex-row"),S(t,"class","card-content grow svelte-4z29vi"),se(t,"card-wrapper-desktop",e[17])},m(N,G){E(N,t,G),R(t,l),R(l,i),R(i,n),R(i,r),R(i,o),R(i,g),F.m(i,null),R(i,d),R(i,f),R(f,c),R(c,h),R(c,_),R(c,A),R(c,p),R(c,v),R(v,y);for(let j=0;j<B.length;j+=1)B[j]&&B[j].m(y,null);qe(y,e[0],!0),R(f,k),R(f,O),R(O,V),R(V,H),R(H,Z),R(H,de),R(H,he),R(i,ye),$&&$.m(i,null),R(l,Ie),K&&K.m(l,null),ue=!0,Ce||(T=[Se(y,"change",e[21]),Se(V,"click",e[16])],Ce=!0)},p(N,G){if(G[0]&1&&fe(m,m=N[0])?(J(),M(F,1,1,ae),Y(),F=_t(N),F.c(),L(F,1),F.m(i,d)):F.p(N,G),G[0]&68){U=le(Object.entries(N[6].wheels));let j;for(j=0;j<U.length;j+=1){const Q=ot(N,U,j);B[j]?B[j].p(Q,G):(B[j]=At(Q),B[j].c(),B[j].m(y,null))}for(;j<B.length;j+=1)B[j].d(1);B.length=U.length}G[0]&65&&qe(y,N[0]),(!ue||G[0]&597&&ge!==(ge=N[33]||!N[34]))&&(V.disabled=ge),N[17]||$.p(at(N),G),N[17]&&K.p(nt(N),G)},i(N){ue||(L(F),L($),L(K),ue=!0)},o(N){M(F),M($),M(K),ue=!1},d(N){N&&w(t),F.d(N),ce(B,N),$&&$.d(),K&&K.d(),Ce=!1,Qt(T)}}}function xi(e){let t,l,i,n,s,r,o,a;return{c(){t=I("div"),l=I("img"),n=W(),s=I("div"),r=te(e[1]),o=W(),a=I("div"),this.h()},l(g){t=C(g,"DIV",{class:!0});var m=x(t);l=C(m,"IMG",{src:!0,alt:!0}),n=P(m),s=C(m,"DIV",{class:!0});var d=x(s);r=ie(d,e[1]),d.forEach(w),o=P(m),a=C(m,"DIV",{class:!0}),x(a).forEach(w),m.forEach(w),this.h()},h(){Gt(l.src,i=Zt)||S(l,"src",i),S(l,"alt","Chaster logo"),S(s,"class","mt-4 caption text-lg"),S(a,"class","fa-image"),S(t,"class","w-full h-screen flex flex-col items-center justify-center")},m(g,m){E(g,t,m),R(t,l),R(t,n),R(t,s),R(s,r),R(t,o),R(t,a)},p(g,m){m[0]&2&&ve(r,g[1])},i:ae,o:ae,d(g){g&&w(t)}}}function ut(e){let t,l,i,n=(e[8].text??"")+"",s,r,o,a,g="[ Click anywhere to close ]",m,d,f,c=e[8].effects.length>0&&ft(e);return{c(){t=I("div"),l=I("div"),i=I("div"),s=te(n),r=W(),c&&c.c(),o=W(),a=I("div"),a.textContent=g,this.h()},l(h){t=C(h,"DIV",{class:!0});var u=x(t);l=C(u,"DIV",{class:!0});var _=x(l);i=C(_,"DIV",{});var A=x(i);s=ie(A,n),A.forEach(w),r=P(_),c&&c.l(_),_.forEach(w),o=P(u),a=C(u,"DIV",{class:!0,"data-svelte-h":!0}),X(a)!=="svelte-ecicjm"&&(a.textContent=g),u.forEach(w),this.h()},h(){S(l,"class","flex flex-col"),S(a,"class","text-sm mt-[1em] w-full text-center cursor-default"),S(t,"class","result svelte-4z29vi")},m(h,u){E(h,t,u),R(t,l),R(l,i),R(i,s),R(l,r),c&&c.m(l,null),R(t,o),R(t,a),m=!0,d||(f=Se(t,"click",e[20]),d=!0)},p(h,u){(!m||u[0]&256)&&n!==(n=(h[8].text??"")+"")&&ve(s,n),h[8].effects.length>0?c?(c.p(h,u),u[0]&256&&L(c,1)):(c=ft(h),c.c(),L(c,1),c.m(l,null)):c&&(J(),M(c,1,1,()=>{c=null}),Y())},i(h){m||(L(c),m=!0)},o(h){M(c),m=!1},d(h){h&&w(t),c&&c.d(),d=!1,f()}}}function ft(e){let t,l,i=le(e[8].effects),n=[];for(let r=0;r<i.length;r+=1)n[r]=dt(ht(e,i,r));const s=r=>M(n[r],1,1,()=>{n[r]=null});return{c(){t=I("ul");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){t=C(r,"UL",{class:!0});var o=x(t);for(let a=0;a<n.length;a+=1)n[a].l(o);o.forEach(w),this.h()},h(){S(t,"class","list svelte-4z29vi")},m(r,o){E(r,t,o);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(t,null);l=!0},p(r,o){if(o[0]&256){i=le(r[8].effects);let a;for(a=0;a<i.length;a+=1){const g=ht(r,i,a);n[a]?(n[a].p(g,o),L(n[a],1)):(n[a]=dt(g),n[a].c(),L(n[a],1),n[a].m(t,null))}for(J(),a=i.length;a<n.length;a+=1)s(a);Y()}},i(r){if(!l){for(let o=0;o<i.length;o+=1)L(n[o]);l=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)M(n[o]);l=!1},d(r){r&&w(t),ce(n,r)}}}function ct(e){let t,l,i,n;return l=new xe({props:{source:e[54],isInline:!0}}),{c(){t=I("li"),Ae(l.$$.fragment),i=W(),this.h()},l(s){t=C(s,"LI",{class:!0});var r=x(t);me(l.$$.fragment,r),i=P(r),r.forEach(w),this.h()},h(){S(t,"class","caption whitespace-pre-wrap text-sm")},m(s,r){E(s,t,r),pe(l,t,null),R(t,i),n=!0},p(s,r){const o={};r[0]&256&&(o.source=s[54]),l.$set(o)},i(s){n||(L(l.$$.fragment,s),n=!0)},o(s){M(l.$$.fragment,s),n=!1},d(s){s&&w(t),we(l)}}}function dt(e){let t,l,i=!e[51].hidden&&ct(Be(e));return{c(){i&&i.c(),t=q()},l(n){i&&i.l(n),t=q()},m(n,s){i&&i.m(n,s),E(n,t,s),l=!0},p(n,s){n[51].hidden?i&&(J(),M(i,1,1,()=>{i=null}),Y()):i?(i.p(Be(n),s),s[0]&256&&L(i,1)):(i=ct(Be(n)),i.c(),L(i,1),i.m(t.parentNode,t))},i(n){l||(L(i),l=!0)},o(n){M(i),l=!1},d(n){n&&w(t),i&&i.d(n)}}}function gt(e){let t,l;return{c(){t=te("Next spin available in "),l=te(e[9])},l(i){t=ie(i,"Next spin available in "),l=ie(i,e[9])},m(i,n){E(i,t,n),E(i,l,n)},p(i,n){n[0]&512&&ve(l,i[9])},d(i){i&&(w(t),w(l))}}}function _t(e){let t,l,i="",n,s,r,o,a,g,m,d,f=e[8]!==void 0&&ut(e),c=!e[34]&&gt(e);return{c(){t=I("div"),l=I("div"),l.innerHTML=i,s=W(),r=I("div"),f&&f.c(),o=W(),a=I("p"),c&&c.c(),g=W(),m=I("hr"),this.h()},l(h){t=C(h,"DIV",{class:!0});var u=x(t);l=C(u,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1dgs7up"&&(l.innerHTML=i),s=P(u),r=C(u,"DIV",{class:!0});var _=x(r);f&&f.l(_),_.forEach(w),u.forEach(w),o=P(h),a=C(h,"P",{class:!0});var A=x(a);c&&c.l(A),A.forEach(w),g=P(h),m=C(h,"HR",{}),this.h()},h(){S(l,"class","grow wheel-container h-full svelte-4z29vi"),Ft(()=>e[19].call(l)),se(l,"aspect-square",!e[17]),S(r,"class","absolute top-0 right-0 h-full w-full z-10 flex align-center justify-center items-center"),se(r,"aspect-square",!e[17]),S(t,"class","grow mt-1 wheel-container relative svelte-4z29vi"),S(a,"class","min-h-[1em] text-center")},m(h,u){E(h,t,u),R(t,l),e[18](l),n=Kt(l,e[19].bind(l)),R(t,s),R(t,r),f&&f.m(r,null),E(h,o,u),E(h,a,u),c&&c.m(a,null),E(h,g,u),E(h,m,u),d=!0},p(h,u){h[8]!==void 0?f?(f.p(h,u),u[0]&256&&L(f,1)):(f=ut(h),f.c(),L(f,1),f.m(r,null)):f&&(J(),M(f,1,1,()=>{f=null}),Y()),h[34]?c&&(c.d(1),c=null):c?c.p(h,u):(c=gt(h),c.c(),c.m(a,null))},i(h){d||(L(f),d=!0)},o(h){M(f),d=!1},d(h){h&&(w(t),w(o),w(a),w(g),w(m)),e[18](null),n(),f&&f.d(),c&&c.d()}}}function vt(e){let t,l=e[32].display+"",i,n;return{c(){t=I("option"),i=te(l),this.h()},l(s){t=C(s,"OPTION",{});var r=x(t);i=ie(r,l),r.forEach(w),this.h()},h(){t.__value=n=e[48],Je(t,t.__value)},m(s,r){E(s,t,r),R(t,i)},p(s,r){r[0]&64&&l!==(l=s[32].display+"")&&ve(i,l),r[0]&64&&n!==(n=s[48])&&(t.__value=n,Je(t,t.__value))},d(s){s&&w(t)}}}function At(e){let t,l=(e[2]==="keyholder"||e[32].settings.disabled===!1)&&vt(e);return{c(){l&&l.c(),t=q()},l(i){l&&l.l(i),t=q()},m(i,n){l&&l.m(i,n),E(i,t,n)},p(i,n){i[2]==="keyholder"||i[32].settings.disabled===!1?l?l.p(i,n):(l=vt(i),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(i){i&&w(t),l&&l.d(i)}}}function Vi(e){let t,l,i,n=e[0],s,r=Rt(e);return{c(){t=I("hr"),l=W(),i=I("div"),r.c(),this.h()},l(o){t=C(o,"HR",{}),l=P(o),i=C(o,"DIV",{class:!0});var a=x(i);r.l(a),a.forEach(w),this.h()},h(){S(i,"class","h-full flex flex-col")},m(o,a){E(o,t,a),E(o,l,a),E(o,i,a),r.m(i,null),s=!0},p(o,a){a[0]&1&&fe(n,n=o[0])?(J(),M(r,1,1,ae),Y(),r=Rt(o),r.c(),L(r,1),r.m(i,null)):r.p(o,a)},i(o){s||(L(r),s=!0)},o(o){M(r),s=!1},d(o){o&&(w(t),w(l),w(i)),r.d(o)}}}function mt(e){let t,l,i,n,s,r,o,a,g,m=le(e[41]),d=[];for(let c=0;c<m.length;c+=1)d[c]=pt(st(e,m,c));const f=c=>M(d[c],1,1,()=>{d[c]=null});return{c(){t=I("div");for(let c=0;c<d.length;c+=1)d[c].c();l=W(),i=I("div"),n=te("Signed, "),s=te(e[3]),r=te("~"),o=W(),a=I("hr"),this.h()},l(c){t=C(c,"DIV",{class:!0});var h=x(t);for(let _=0;_<d.length;_+=1)d[_].l(h);l=P(h),i=C(h,"DIV",{class:!0});var u=x(i);n=ie(u,"Signed, "),s=ie(u,e[3]),r=ie(u,"~"),u.forEach(w),h.forEach(w),o=P(c),a=C(c,"HR",{}),this.h()},h(){S(i,"class","text-right"),S(t,"class","space-y-[0.375em]")},m(c,h){E(c,t,h);for(let u=0;u<d.length;u+=1)d[u]&&d[u].m(t,null);R(t,l),R(t,i),R(i,n),R(i,s),R(i,r),E(c,o,h),E(c,a,h),g=!0},p(c,h){if(h[0]&65){m=le(c[41]);let u;for(u=0;u<m.length;u+=1){const _=st(c,m,u);d[u]?(d[u].p(_,h),L(d[u],1)):(d[u]=pt(_),d[u].c(),L(d[u],1),d[u].m(t,l))}for(J(),u=m.length;u<d.length;u+=1)f(u);Y()}(!g||h[0]&8)&&ve(s,c[3])},i(c){if(!g){for(let h=0;h<m.length;h+=1)L(d[h]);g=!0}},o(c){d=d.filter(Boolean);for(let h=0;h<d.length;h+=1)M(d[h]);g=!1},d(c){c&&(w(t),w(o),w(a)),ce(d,c)}}}function pt(e){let t,l,i;return l=new xe({props:{source:e[42],isInline:!0}}),{c(){t=I("div"),Ae(l.$$.fragment),this.h()},l(n){t=C(n,"DIV",{class:!0});var s=x(t);me(l.$$.fragment,s),s.forEach(w),this.h()},h(){S(t,"class","caption leading-5")},m(n,s){E(n,t,s),pe(l,t,null),i=!0},p(n,s){const r={};s[0]&65&&(r.source=n[42]),l.$set(r)},i(n){i||(L(l.$$.fragment,n),i=!0)},o(n){M(l.$$.fragment,n),i=!1},d(n){n&&w(t),we(l)}}}function Di(e){let t,l,i=e[32].settings.hiddenEffects===!0&&wt(),n=e[32].settings.hiddenPercentages===!0&&bt();return{c(){i&&i.c(),t=W(),n&&n.c(),l=q()},l(s){i&&i.l(s),t=P(s),n&&n.l(s),l=q()},m(s,r){i&&i.m(s,r),E(s,t,r),n&&n.m(s,r),E(s,l,r)},p(s,r){s[32].settings.hiddenEffects===!0?i||(i=wt(),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),s[32].settings.hiddenPercentages===!0?n||(n=bt(),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(s){s&&(w(t),w(l)),i&&i.d(s),n&&n.d(s)}}}function Oi(e){let t,l="❗ Outcomes Hidden ❗";return{c(){t=I("div"),t.textContent=l,this.h()},l(i){t=C(i,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-fmdfs4"&&(t.textContent=l),this.h()},h(){S(t,"class","w-[14em] min-h-[1em]")},m(i,n){E(i,t,n)},p:ae,d(i){i&&w(t)}}}function wt(e){let t,l="❗ Effects Hidden ❗";return{c(){t=I("div"),t.textContent=l,this.h()},l(i){t=C(i,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-136ba5r"&&(t.textContent=l),this.h()},h(){S(t,"class","w-[14em] min-h-[1em]")},m(i,n){E(i,t,n)},d(i){i&&w(t)}}}function bt(e){let t,l="❗ Percentages Hidden ❗";return{c(){t=I("div"),t.textContent=l,this.h()},l(i){t=C(i,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1k907vu"&&(t.textContent=l),this.h()},h(){S(t,"class","w-[14em] min-h-[1em]")},m(i,n){E(i,t,n)},d(i){i&&w(t)}}}function yt(e){let t,l,i=e[6],n,s=kt(e);return{c(){t=I("div"),l=I("div"),s.c(),this.h()},l(r){t=C(r,"DIV",{class:!0});var o=x(t);l=C(o,"DIV",{class:!0});var a=x(l);s.l(a),a.forEach(w),o.forEach(w),this.h()},h(){S(l,"class","flex flex-col space-y-1 items-stretch"),S(t,"class","card-content outcomes-list svelte-4z29vi")},m(r,o){E(r,t,o),R(t,l),s.m(l,null),n=!0},p(r,o){o[0]&64&&fe(i,i=r[6])?(J(),M(s,1,1,ae),Y(),s=kt(r),s.c(),L(s,1),s.m(l,null)):s.p(r,o)},i(r){n||(L(s),n=!0)},o(r){M(s),n=!1},d(r){r&&w(t),s.d(r)}}}function It(e){let t;return{c(){t=I("hr"),this.h()},l(l){t=C(l,"HR",{class:!0}),this.h()},h(){S(t,"class","mt-0.5 mb-0.5")},m(l,i){E(l,t,i)},d(l){l&&w(t)}}}function Ct(e){let t,l,i,n;t=new Ut({props:{outcomeData:e[36],settings:e[32].settings,userRole:e[2],totalPercentage:e[35],color:e[38]}});let s=e[40]!==e[32].outcomes.length-1&&It();return{c(){Ae(t.$$.fragment),l=W(),s&&s.c(),i=q()},l(r){me(t.$$.fragment,r),l=P(r),s&&s.l(r),i=q()},m(r,o){pe(t,r,o),E(r,l,o),s&&s.m(r,o),E(r,i,o),n=!0},p(r,o){const a={};o[0]&65&&(a.outcomeData=r[36]),o[0]&65&&(a.settings=r[32].settings),o[0]&4&&(a.userRole=r[2]),o[0]&65&&(a.totalPercentage=r[35]),t.$set(a),r[40]!==r[32].outcomes.length-1?s||(s=It(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},i(r){n||(L(t.$$.fragment,r),n=!0)},o(r){M(t.$$.fragment,r),n=!1},d(r){r&&(w(l),w(i)),we(t,r),s&&s.d(r)}}}function kt(e){let t,l,i=le(e[32].outcomes),n=[];for(let r=0;r<i.length;r+=1)n[r]=Ct(rt(e,i,r));const s=r=>M(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();t=q()},l(r){for(let o=0;o<n.length;o+=1)n[o].l(r);t=q()},m(r,o){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,o);E(r,t,o),l=!0},p(r,o){if(o[0]&1093){i=le(r[32].outcomes);let a;for(a=0;a<i.length;a+=1){const g=rt(r,i,a);n[a]?(n[a].p(g,o),L(n[a],1)):(n[a]=Ct(g),n[a].c(),L(n[a],1),n[a].m(t.parentNode,t))}for(J(),a=i.length;a<n.length;a+=1)s(a);Y()}},i(r){if(!l){for(let o=0;o<i.length;o+=1)L(n[o]);l=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)M(n[o]);l=!1},d(r){r&&w(t),ce(n,r)}}}function Rt(e){let t,l,i,n='<div>Outcomes</div> <div class="caption mb-2">View possible outcomes for the wheel</div>',s,r,o,a,g,m=e[32].note!==void 0&&mt(Fe(e));function d(u,_){return u[32].settings.hiddenOutcomes===!0?Oi:Di}let f=d(e),c=f(e),h=e[32].outcomes.length>0&&yt(e);return{c(){m&&m.c(),t=W(),l=I("div"),i=I("div"),i.innerHTML=n,s=W(),r=I("div"),c.c(),o=W(),h&&h.c(),a=q(),this.h()},l(u){m&&m.l(u),t=P(u),l=C(u,"DIV",{class:!0});var _=x(l);i=C(_,"DIV",{"data-svelte-h":!0}),X(i)!=="svelte-4yn6as"&&(i.innerHTML=n),s=P(_),r=C(_,"DIV",{class:!0});var A=x(r);c.l(A),A.forEach(w),_.forEach(w),o=P(u),h&&h.l(u),a=q(),this.h()},h(){S(r,"class","text-right"),S(l,"class","flex flex-row justify-between")},m(u,_){m&&m.m(u,_),E(u,t,_),E(u,l,_),R(l,i),R(l,s),R(l,r),c.m(r,null),E(u,o,_),h&&h.m(u,_),E(u,a,_),g=!0},p(u,_){u[32].note!==void 0?m?(m.p(Fe(u),_),_[0]&65&&L(m,1)):(m=mt(Fe(u)),m.c(),L(m,1),m.m(t.parentNode,t)):m&&(J(),M(m,1,1,()=>{m=null}),Y()),f===(f=d(u))&&c?c.p(u,_):(c.d(1),c=f(u),c&&(c.c(),c.m(r,null))),u[32].outcomes.length>0?h?(h.p(u,_),_[0]&65&&L(h,1)):(h=yt(u),h.c(),L(h,1),h.m(a.parentNode,a)):h&&(J(),M(h,1,1,()=>{h=null}),Y())},i(u){g||(L(m),L(h),g=!0)},o(u){M(m),M(h),g=!1},d(u){u&&(w(t),w(l),w(o),w(a)),m&&m.d(u),c.d(),h&&h.d(u)}}}function Ti(e){let t,l=e[0],i,n=Wt(e);return{c(){t=I("div"),n.c(),this.h()},l(s){t=C(s,"DIV",{class:!0});var r=x(t);n.l(r),r.forEach(w),this.h()},h(){S(t,"class","h-full flex flex-col ml-4 w-[40em]")},m(s,r){E(s,t,r),n.m(t,null),i=!0},p(s,r){r[0]&1&&fe(l,l=s[0])?(J(),M(n,1,1,ae),Y(),n=Wt(s),n.c(),L(n,1),n.m(t,null)):n.p(s,r)},i(s){i||(L(n),i=!0)},o(s){M(n),i=!1},d(s){s&&w(t),n.d(s)}}}function Lt(e){let t,l="[ Debug - Simulate Config ]",i,n,s,r;return{c(){t=I("button"),t.textContent=l,i=W(),n=I("hr")},l(o){t=C(o,"BUTTON",{"data-svelte-h":!0}),X(t)!=="svelte-1egyqnq"&&(t.textContent=l),i=P(o),n=C(o,"HR",{})},m(o,a){E(o,t,a),E(o,i,a),E(o,n,a),s||(r=Se(t,"click",window.setConfig),s=!0)},p:ae,d(o){o&&(w(t),w(i),w(n)),s=!1,r()}}}function Et(e){let t,l,i,n,s=le(e[41]),r=[];for(let a=0;a<s.length;a+=1)r[a]=St(lt(e,s,a));const o=a=>M(r[a],1,1,()=>{r[a]=null});return{c(){t=I("div");for(let a=0;a<r.length;a+=1)r[a].c();l=W(),i=I("hr"),this.h()},l(a){t=C(a,"DIV",{class:!0});var g=x(t);for(let m=0;m<r.length;m+=1)r[m].l(g);g.forEach(w),l=P(a),i=C(a,"HR",{}),this.h()},h(){S(t,"class","space-y-[0.5em]")},m(a,g){E(a,t,g);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(t,null);E(a,l,g),E(a,i,g),n=!0},p(a,g){if(g[0]&65){s=le(a[41]);let m;for(m=0;m<s.length;m+=1){const d=lt(a,s,m);r[m]?(r[m].p(d,g),L(r[m],1)):(r[m]=St(d),r[m].c(),L(r[m],1),r[m].m(t,null))}for(J(),m=s.length;m<r.length;m+=1)o(m);Y()}},i(a){if(!n){for(let g=0;g<s.length;g+=1)L(r[g]);n=!0}},o(a){r=r.filter(Boolean);for(let g=0;g<r.length;g+=1)M(r[g]);n=!1},d(a){a&&(w(t),w(l),w(i)),ce(r,a)}}}function St(e){let t,l,i,n;return l=new xe({props:{source:e[42],isInline:!0}}),{c(){t=I("div"),Ae(l.$$.fragment),i=W(),this.h()},l(s){t=C(s,"DIV",{class:!0});var r=x(t);me(l.$$.fragment,r),i=P(r),r.forEach(w),this.h()},h(){S(t,"class","caption leading-5")},m(s,r){E(s,t,r),pe(l,t,null),R(t,i),n=!0},p(s,r){const o={};r[0]&65&&(o.source=s[42]),l.$set(o)},i(s){n||(L(l.$$.fragment,s),n=!0)},o(s){M(l.$$.fragment,s),n=!1},d(s){s&&w(t),we(l)}}}function Wi(e){let t,l,i=e[32].settings.hiddenEffects===!0&&Mt(),n=e[32].settings.hiddenPercentages===!0&&xt();return{c(){i&&i.c(),t=W(),n&&n.c(),l=q()},l(s){i&&i.l(s),t=P(s),n&&n.l(s),l=q()},m(s,r){i&&i.m(s,r),E(s,t,r),n&&n.m(s,r),E(s,l,r)},p(s,r){s[32].settings.hiddenEffects===!0?i||(i=Mt(),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),s[32].settings.hiddenPercentages===!0?n||(n=xt(),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(s){s&&(w(t),w(l)),i&&i.d(s),n&&n.d(s)}}}function Pi(e){let t,l="❗ Outcomes Hidden ❗";return{c(){t=I("div"),t.textContent=l,this.h()},l(i){t=C(i,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-fmdfs4"&&(t.textContent=l),this.h()},h(){S(t,"class","w-[14em] min-h-[1em]")},m(i,n){E(i,t,n)},p:ae,d(i){i&&w(t)}}}function Mt(e){let t,l="❗ Effects Hidden ❗";return{c(){t=I("div"),t.textContent=l,this.h()},l(i){t=C(i,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-136ba5r"&&(t.textContent=l),this.h()},h(){S(t,"class","w-[14em] min-h-[1em]")},m(i,n){E(i,t,n)},d(i){i&&w(t)}}}function xt(e){let t,l="❗ Percentages Hidden ❗";return{c(){t=I("div"),t.textContent=l,this.h()},l(i){t=C(i,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1k907vu"&&(t.textContent=l),this.h()},h(){S(t,"class","w-[14em] min-h-[1em]")},m(i,n){E(i,t,n)},d(i){i&&w(t)}}}function Vt(e){let t,l,i=e[6],n,s=Tt(e);return{c(){t=I("div"),l=I("div"),s.c(),this.h()},l(r){t=C(r,"DIV",{class:!0});var o=x(t);l=C(o,"DIV",{class:!0});var a=x(l);s.l(a),a.forEach(w),o.forEach(w),this.h()},h(){S(l,"class","flex flex-col space-y-1 items-stretch"),S(t,"class","card-content outcomes-list svelte-4z29vi")},m(r,o){E(r,t,o),R(t,l),s.m(l,null),n=!0},p(r,o){o[0]&64&&fe(i,i=r[6])?(J(),M(s,1,1,ae),Y(),s=Tt(r),s.c(),L(s,1),s.m(l,null)):s.p(r,o)},i(r){n||(L(s),n=!0)},o(r){M(s),n=!1},d(r){r&&w(t),s.d(r)}}}function Dt(e){let t;return{c(){t=I("hr"),this.h()},l(l){t=C(l,"HR",{class:!0}),this.h()},h(){S(t,"class","mt-0.5 mb-0.5")},m(l,i){E(l,t,i)},d(l){l&&w(t)}}}function Ot(e){let t,l,i,n;t=new Ut({props:{outcomeData:e[36],settings:e[32].settings,userRole:e[2],totalPercentage:e[35],color:e[38]}});let s=e[40]!==e[32].outcomes.length-1&&Dt();return{c(){Ae(t.$$.fragment),l=W(),s&&s.c(),i=q()},l(r){me(t.$$.fragment,r),l=P(r),s&&s.l(r),i=q()},m(r,o){pe(t,r,o),E(r,l,o),s&&s.m(r,o),E(r,i,o),n=!0},p(r,o){const a={};o[0]&65&&(a.outcomeData=r[36]),o[0]&65&&(a.settings=r[32].settings),o[0]&4&&(a.userRole=r[2]),o[0]&65&&(a.totalPercentage=r[35]),t.$set(a),r[40]!==r[32].outcomes.length-1?s||(s=Dt(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},i(r){n||(L(t.$$.fragment,r),n=!0)},o(r){M(t.$$.fragment,r),n=!1},d(r){r&&(w(l),w(i)),we(t,r),s&&s.d(r)}}}function Tt(e){let t,l,i=le(e[32].outcomes),n=[];for(let r=0;r<i.length;r+=1)n[r]=Ot(it(e,i,r));const s=r=>M(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();t=q()},l(r){for(let o=0;o<n.length;o+=1)n[o].l(r);t=q()},m(r,o){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,o);E(r,t,o),l=!0},p(r,o){if(o[0]&1093){i=le(r[32].outcomes);let a;for(a=0;a<i.length;a+=1){const g=it(r,i,a);n[a]?(n[a].p(g,o),L(n[a],1)):(n[a]=Ot(g),n[a].c(),L(n[a],1),n[a].m(t.parentNode,t))}for(J(),a=i.length;a<n.length;a+=1)s(a);Y()}},i(r){if(!l){for(let o=0;o<i.length;o+=1)L(n[o]);l=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)M(n[o]);l=!1},d(r){r&&w(t),ce(n,r)}}}function Wt(e){let t,l,i,n,s='<div>Outcomes</div> <div class="caption mb-2">View possible outcomes for the wheel</div>',r,o,a,g,m,d=e[2]=="keyholder"&&Lt(),f=e[32].note!==void 0&&Et(Ne(e));function c(A,b){return A[32].settings.hiddenOutcomes===!0?Pi:Wi}let h=c(e),u=h(e),_=e[32].outcomes.length>0&&Vt(e);return{c(){d&&d.c(),t=W(),f&&f.c(),l=W(),i=I("div"),n=I("div"),n.innerHTML=s,r=W(),o=I("div"),u.c(),a=W(),_&&_.c(),g=q(),this.h()},l(A){d&&d.l(A),t=P(A),f&&f.l(A),l=P(A),i=C(A,"DIV",{class:!0});var b=x(i);n=C(b,"DIV",{"data-svelte-h":!0}),X(n)!=="svelte-1jjgdd0"&&(n.innerHTML=s),r=P(b),o=C(b,"DIV",{class:!0});var p=x(o);u.l(p),p.forEach(w),b.forEach(w),a=P(A),_&&_.l(A),g=q(),this.h()},h(){S(o,"class","text-right"),S(i,"class","flex flex-row justify-between")},m(A,b){d&&d.m(A,b),E(A,t,b),f&&f.m(A,b),E(A,l,b),E(A,i,b),R(i,n),R(i,r),R(i,o),u.m(o,null),E(A,a,b),_&&_.m(A,b),E(A,g,b),m=!0},p(A,b){A[2]=="keyholder"?d?d.p(A,b):(d=Lt(),d.c(),d.m(t.parentNode,t)):d&&(d.d(1),d=null),A[32].note!==void 0?f?(f.p(Ne(A),b),b[0]&65&&L(f,1)):(f=Et(Ne(A)),f.c(),L(f,1),f.m(l.parentNode,l)):f&&(J(),M(f,1,1,()=>{f=null}),Y()),h===(h=c(A))&&u?u.p(A,b):(u.d(1),u=h(A),u&&(u.c(),u.m(o,null))),A[32].outcomes.length>0?_?(_.p(A,b),b[0]&65&&L(_,1)):(_=Vt(A),_.c(),L(_,1),_.m(g.parentNode,g)):_&&(J(),M(_,1,1,()=>{_=null}),Y())},i(A){m||(L(f),L(_),m=!0)},o(A){M(f),M(_),m=!1},d(A){A&&(w(t),w(l),w(i),w(a),w(g)),d&&d.d(A),f&&f.d(A),u.d(),_&&_.d(A)}}}function Ni(e){let t,l,i,n;const s=[xi,Mi],r=[];function o(g,m){return g[1]!==""?0:g[0]!==void 0?1:-1}function a(g,m){return m===1?Si(g):g}return~(l=o(e))&&(i=r[l]=s[l](a(e,l))),{c(){t=I("div"),i&&i.c(),this.h()},l(g){t=C(g,"DIV",{class:!0});var m=x(t);i&&i.l(m),m.forEach(w),this.h()},h(){S(t,"class","container-bg min-w-0 min-h-0 p-4 space-y-2 grow svelte-4z29vi")},m(g,m){E(g,t,m),~l&&r[l].m(t,null),n=!0},p(g,m){let d=l;l=o(g),l===d?~l&&r[l].p(a(g,l),m):(i&&(J(),M(r[d],1,1,()=>{r[d]=null}),Y()),~l?(i=r[l],i?i.p(a(g,l),m):(i=r[l]=s[l](a(g,l)),i.c()),L(i,1),i.m(t,null)):i=null)},i(g){n||(L(i),n=!0)},o(g){M(i),n=!1},d(g){g&&w(t),~l&&r[l].d()}}}const Pt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJwbmpsYmpwY2ZlYnFwYXFrcGh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODg1NDM0NTgsImV4cCI6MjAwNDExOTQ1OH0.CsGySz2c8bIWphE6--T51CsmSeBQajfwvBYfTkjviM4",Nt="https://bpnjlbjpcfebqpaqkphy.supabase.co/functions/v1/chaster_utilities";function Fi(e,t,l){let i,n,s,r,o;const a=["#fecaca","#fed7aa","#fde68a","#d9f99d","#bbf7d0","#a7f3d0","#99f6e4","#a5f3fc","#bae6fd","#bfdbfe","#c7d2fe","#ddd6fe","#e9d5ff","#f5d0fe","#fbcfe8","#fecdd3"],g=[{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1}],m=Array(32).fill(0).map(T=>{const F=new Audio(ri);return F.volume=.3,F});let d="Loading extension data...",f,c="",h="keyholder",u,_=Re({wheels:{}});ke(e,_,T=>l(6,i=T));let A=Re({wheels:{}});ke(e,A,T=>l(26,s=T));let b="";qt(async()=>{b=window.location.hash.substring(1).split("?")[0];const T=window.location.search,F=new URLSearchParams(T);if(b!=="")c=JSON.parse(decodeURIComponent(b)).mainToken;else{const B=F.get("state");B!==null&&(c=JSON.parse(decodeURIComponent(B)).mainToken)}l(1,d="Retrieving extended wheel data...");const U=await be();l(3,u=U.keyholder),l(2,h=U.userRole),re(_,i=U.config,i),re(A,s=U.customData,s),l(0,f=Object.keys(i.wheels).filter(B=>u||!i.wheels[B].settings.disabled)[0]??void 0),l(1,d="")});let p=Re("");ke(e,p,T=>l(9,o=T));function v(){if(f===void 0)return;const T=s.wheels[f];if(T===void 0)re(p,o="",o);else{const F=i.wheels[f];if(F.regularity.mode==="unlimited")re(p,o="",o);else{const U=new Date().getTime(),B=T.lastActionTimeMS+F.regularity.interval;re(p,o=U>B?"":ei(Math.floor((B-U)/1e3)),o)}}}setInterval(v,200),_.subscribe(()=>{v()}),A.subscribe(()=>{v()});let y=Re(void 0);ke(e,y,T=>l(7,n=T));let k=Re(void 0);ke(e,k,T=>l(8,r=T));let O=!1,V,H=["",0];async function Z(){l(4,O=!0),re(k,r=void 0,r);const T=await fetch(Nt,{method:"POST",headers:{Authorization:`Bearer ${Pt}`},body:JSON.stringify({action:"extended_wheel-spin",mainToken:c,wheelID:f})});if(T.status>200){alert(`Error spinning wheel, please contact @strawberria: ${await T.text()}`);return}const F=await T.json();F.index===void 0&&(F.index=ti(0,16)),V.spinToItem(F.index,5e3,!1,5,1,Qe),setTimeout(()=>{re(k,r=F.result,r),l(4,O=!1),H=[f,V.rotation]},5100);const U=await be();for(;O;)await Ye(10);JSON.stringify(i)!==JSON.stringify(U.config)&&(U.config.wheels[f??""]===void 0&&l(0,f=Object.keys(U.config.wheels)[0]??void 0),re(_,i=U.config,i)),re(A,s=U.customData,s)}y.subscribe(de),_.subscribe(de);async function be(){const T=await fetch(Nt,{method:"POST",headers:{Authorization:`Bearer ${Pt}`},body:JSON.stringify({action:"extended_wheel-page",mainToken:c})});if(T.status!==200)throw console.error(`Error retrieving session data: ${await T.text()}`),new Error("error retrieving session data");return await T.json()}async function de(){if(f===void 0)return;const T=n;if(T===void 0)return;await Ye(10);const F=i.wheels[f];let U=JSON.parse(JSON.stringify(F.outcomes.map(j=>{const Q=j.text??"",_e=[ii(Q,24),Q.length>=32?"...":""].join(""),oe=parseFloat(j.percentage);return{label:_e,weight:oe}})));F.settings.hiddenOutcomes&&(U=g);let B=0;H[0]==f?B=H[1]:H=["",0];const $={items:U,pointerAngle:270,isInteractive:!1,itemBackgroundColors:a,itemLabelRadiusMax:.3,itemLabelRadius:.825,itemLabelAlign:"left",itemLabelRotation:180,borderWidth:2,overlayImage:si,rotation:B};T&&(T.innerHTML=""),V=new ki(T,$),window.wheel=V,window.ease=Qe;let K=0,N=!1,G;V.onSpin=()=>{let j=0,Q=30;clearInterval(G),G=setInterval(()=>{if(N===!0){clearInterval(G),N=!1;return}V._rotation>=j+Q&&(j=V._rotation,K=K+1<m.length?K+1:0,m[K].play())},10)},V.onRest=()=>{N=!0,V._rotation=V._rotation-360*Math.floor(V._rotation/360)}}window.setConfig=function(){const T=window.prompt("New config:");if(T===null)return;const F=JSON.parse(T);F.wheels[f??""]===void 0&&l(0,f=Object.keys(F.wheels)[0]??void 0),re(_,i=F,i)};let he,ge=!/Mobi/i.test(window.navigator.userAgent);function ye(T){Jt[T?"unshift":"push"](()=>{n=T,y.set(n)})}function Ie(){he=this.clientWidth,l(5,he)}const ue=()=>{re(k,r=void 0,r)};function Ce(){f=Yt(this),l(0,f)}return e.$$.update=()=>{e.$$.dirty[0]&1&&v()},[f,d,h,u,O,he,i,n,r,o,a,_,A,p,y,k,Z,ge,ye,Ie,ue,Ce]}class Gi extends Bt{constructor(t){super(),jt(this,t,Fi,Ni,fe,{},null,[-1,-1])}}export{Gi as component,Qi as universal};
