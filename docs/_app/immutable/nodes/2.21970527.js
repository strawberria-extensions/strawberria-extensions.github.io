import{s as ce,n as re,e as we,o as Ft,f as se,b as Bt,h as kt,r as jt,i as zt}from"../chunks/scheduler.45a29d2a.js";import{S as Mt,i as xt,g as C,m as H,s as T,h as R,j as k,n as U,f as p,c as W,k as E,a as S,x as y,o as le,y as de,t as q,b as ae,d as j,p as oe,z as Ht,A as ee,B as ne,C as Ne,D as De,E as Ut,e as Y,F as Fe,r as Vt,u as Dt,v as Ot,w as Tt}from"../chunks/index.402d22ca.js";import{e as te}from"../chunks/each.e59479a4.js";import{w as ye}from"../chunks/index.a61b5093.js";import{c as qt}from"../chunks/logo.09e82b80.js";import{g as Wt,a as Jt,r as Yt,s as Be,t as Qt}from"../chunks/utility.2b2fb73f.js";import{c as Gt,g as Kt}from"../chunks/_commonjsHelpers.de833af9.js";const Zt=!0,ji=Object.freeze(Object.defineProperty({__proto__:null,prerender:Zt},Symbol.toStringTag,{value:"Module"}));var Xt=Math.PI;function je(e){return(1-Math.cos(Xt*e))/2}const $t="data:audio/mpeg;base64,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",ei=""+new URL("../assets/wheel-bg-overlay.1f6ec841.svg",import.meta.url).href;var ti=Object.defineProperty,ze=Object.getOwnPropertySymbols,ii=Object.prototype.hasOwnProperty,li=Object.prototype.propertyIsEnumerable,Ee=Math.pow,He=(e,t,l)=>t in e?ti(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Se=(e,t)=>{for(var l in t||(t={}))ii.call(t,l)&&He(e,l,t[l]);if(ze)for(var l of ze(t))li.call(t,l)&&He(e,l,t[l]);return e};function si(e=0,t=0,l=14){return parseFloat((Math.random()*(t-e)+e).toFixed(l))}function ie(e=0){return e*Math.PI/180}function ni(e,t,l){return t<l?t<=e&&e<l:t<=e||e<l}function ri(e,t,l,i){i.save(),i.font=`1px ${t}`;let n=i.measureText(e).width;return i.restore(),l/n}function ai(e={x:0,y:0},t,l,i){return Ee(e.x-t,2)+Ee(e.y-l,2)<=Ee(i,2)}function ke(e={x:0,y:0},t={},l=1){let i=t.getBoundingClientRect();return{x:(e.x-i.left)*l,y:(e.y-i.top)*l}}function oi(e,t,l,i){let n=e-l,r=t-i,s=Math.atan2(-r,-n);return s*=180/Math.PI,s<0&&(s+=360),s}function hi(e=0,t=0){let l=e+t,i;return l>0?i=l%360:i=360+l%360,i===360&&(i=0),i}function ui(e=0,t=0){let l=180-t;return 180-hi(e,l)}function fi(e=0,t=0,l=1){let i=(e%360+t)%360;return i=ci(i),i=(l===1?360-i:360+i)%360,i*=l,e+i}function Re(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}function $(e){return typeof e=="number"&&!Number.isNaN(e)}function N({val:e,isValid:t,errorMessage:l,defaultValue:i,action:n=null}){if(t)return n?n():e;if(e===void 0)return i;throw new Error(l)}function Ue(e){return e&&e.complete&&e.naturalWidth!==0&&e.naturalHeight!==0}function ci(e=0){return Number(e.toFixed(9))}function di(e){return Math.sin(e*Math.PI/2)}var gi=Object.freeze({left:"left",right:"right",center:"center"}),x=Object.freeze({wheel:{borderColor:"#000",borderWidth:1,debug:!1,image:null,isInteractive:!0,itemBackgroundColors:["#fff"],itemLabelAlign:gi.right,itemLabelBaselineOffset:0,itemLabelColors:["#000"],itemLabelFont:"sans-serif",itemLabelFontSizeMax:500,itemLabelRadius:.85,itemLabelRadiusMax:.2,itemLabelRotation:0,items:[],lineColor:"#000",lineWidth:1,pixelRatio:0,radius:.95,rotation:0,rotationResistance:-35,rotationSpeedMax:300,offset:{w:0,h:0},onCurrentIndexChange:null,onRest:null,onSpin:null,overlayImage:null,pointerAngle:0},item:{backgroundColor:null,image:null,imageRadius:.5,imageRotation:0,imageScale:1,label:"",labelColor:null,labelFont:null,weight:1}}),Ie=Object.freeze({pointerLineColor:"#ff00ff",labelOutlineColor:"#ff00ff",labelRadiusColor:"#00ff00",dragEventHue:200});function _i(e={}){Ai(e),e._handler_onResize=e.resize.bind(e),window.addEventListener("resize",e._handler_onResize)}function vi(e={}){let t=e.canvas;"PointerEvent"in window?(t.removeEventListener("pointerdown",e._handler_onPointerDown),t.removeEventListener("pointermove",e._handler_onPointerMoveRefreshCursor)):(t.removeEventListener("touchstart",e._handler_onTouchStart),t.removeEventListener("mousedown",e._handler_onMouseDown),t.removeEventListener("mousemove",e._handler_onMouseMoveRefreshCursor)),window.removeEventListener("resize",e._handler_onResize)}function Ai(e={}){let t=e.canvas;e._handler_onPointerMoveRefreshCursor=(l={})=>{let i={x:l.clientX,y:l.clientY};e.isCursorOverWheel=e.wheelHitTest(i),e.refreshCursor()},e._handler_onMouseMoveRefreshCursor=(l={})=>{let i={x:l.clientX,y:l.clientY};e.isCursorOverWheel=e.wheelHitTest(i),e.refreshCursor()},e._handler_onPointerDown=(l={})=>{let i={x:l.clientX,y:l.clientY};if(!e.isInteractive||!e.wheelHitTest(i))return;l.preventDefault(),e.dragStart(i),t.setPointerCapture(l.pointerId),t.addEventListener("pointermove",n),t.addEventListener("pointerup",r),t.addEventListener("pointercancel",r),t.addEventListener("pointerout",r);function n(s={}){s.preventDefault(),e.dragMove({x:s.clientX,y:s.clientY})}function r(s={}){s.preventDefault(),t.releasePointerCapture(s.pointerId),t.removeEventListener("pointermove",n),t.removeEventListener("pointerup",r),t.removeEventListener("pointercancel",r),t.removeEventListener("pointerout",r),e.dragEnd()}},e._handler_onMouseDown=(l={})=>{let i={x:l.clientX,y:l.clientY};if(!e.isInteractive||!e.wheelHitTest(i))return;e.dragStart(i),document.addEventListener("mousemove",n),document.addEventListener("mouseup",r);function n(s={}){s.preventDefault(),e.dragMove({x:s.clientX,y:s.clientY})}function r(s={}){s.preventDefault(),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),e.dragEnd()}},e._handler_onTouchStart=(l={})=>{let i={x:l.targetTouches[0].clientX,y:l.targetTouches[0].clientY};if(!e.isInteractive||!e.wheelHitTest(i))return;l.preventDefault(),e.dragStart(i),t.addEventListener("touchmove",n),t.addEventListener("touchend",r),t.addEventListener("touchcancel",r);function n(s={}){s.preventDefault(),e.dragMove({x:s.targetTouches[0].clientX,y:s.targetTouches[0].clientY})}function r(s={}){s.preventDefault(),t.removeEventListener("touchmove",n),t.removeEventListener("touchend",r),t.removeEventListener("touchcancel",r),e.dragEnd()}},"PointerEvent"in window?(t.addEventListener("pointerdown",e._handler_onPointerDown),t.addEventListener("pointermove",e._handler_onPointerMoveRefreshCursor)):(t.addEventListener("touchstart",e._handler_onTouchStart),t.addEventListener("mousedown",e._handler_onMouseDown),t.addEventListener("mousemove",e._handler_onMouseMoveRefreshCursor))}var mi=class{constructor(e,t={}){if(!Re(e))throw new Error("wheel must be an instance of Wheel");if(!Re(t)&&t!==null)throw new Error("props must be an Object or null");this._wheel=e;for(let l of Object.keys(x.item))this["_"+l]=x.item[l];t?this.init(t):this.init(x.item)}init(e={}){this.backgroundColor=e.backgroundColor,this.image=e.image,this.imageRadius=e.imageRadius,this.imageRotation=e.imageRotation,this.imageScale=e.imageScale,this.label=e.label,this.labelColor=e.labelColor,this.value=e.value,this.weight=e.weight}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){typeof e=="string"?this._backgroundColor=e:this._backgroundColor=x.item.backgroundColor,this._wheel.refresh()}get image(){return this._image}set image(e){let t;typeof e=="string"?(t=new Image,t.src=e,t.onload=l=>this._wheel.refresh()):t=x.item.image,this._image=t,this._wheel.refresh()}get imageRadius(){return this._imageRadius}set imageRadius(e){typeof e=="number"?this._imageRadius=e:this._imageRadius=x.item.imageRadius,this._wheel.refresh()}get imageRotation(){return this._imageRotation}set imageRotation(e){typeof e=="number"?this._imageRotation=e:this._imageRotation=x.item.imageRotation,this._wheel.refresh()}get imageScale(){return this._imageScale}set imageScale(e){typeof e=="number"?this._imageScale=e:this._imageScale=x.item.imageScale,this._wheel.refresh()}get label(){return this._label}set label(e){typeof e=="string"?this._label=e:this._label=x.item.label,this._wheel.refresh()}get labelColor(){return this._labelColor}set labelColor(e){typeof e=="string"?this._labelColor=e:this._labelColor=x.item.labelColor,this._wheel.refresh()}get value(){return this._value}set value(e){this._value=e}get weight(){return this._weight}set weight(e){typeof e=="number"?this._weight=e:this._weight=x.item.weight}getIndex(){let e=this._wheel.items.findIndex(t=>t===this);if(e===-1)throw new Error("Item not found in parent Wheel");return e}getCenterAngle(){let e=this._wheel.getItemAngles()[this.getIndex()];return e.start+(e.end-e.start)/2}getStartAngle(){return this._wheel.getItemAngles()[this.getIndex()].start}getEndAngle(){return this._wheel.getItemAngles()[this.getIndex()].end}getRandomAngle(){return si(this.getStartAngle(),this.getEndAngle())}},pi=class{constructor(e,t={}){if(this._frameRequestId=null,this._rotationSpeed=0,this._rotationDirection=1,!(e instanceof Element))throw new Error("container must be an instance of Element");if(!Re(t)&&t!==null)throw new Error("props must be an Object or null");this._canvasContainer=e,this.canvas=document.createElement("canvas"),this._context=this.canvas.getContext("2d"),this.addCanvas(),_i(this);for(let l of Object.keys(x.wheel))this["_"+l]=x.wheel[l];t?this.init(t):this.init(x.wheel)}init(e={}){this._isInitialising=!0,this.borderColor=e.borderColor,this.borderWidth=e.borderWidth,this.debug=e.debug,this.image=e.image,this.isInteractive=e.isInteractive,this.itemBackgroundColors=e.itemBackgroundColors,this.itemLabelAlign=e.itemLabelAlign,this.itemLabelBaselineOffset=e.itemLabelBaselineOffset,this.itemLabelColors=e.itemLabelColors,this.itemLabelFont=e.itemLabelFont,this.itemLabelFontSizeMax=e.itemLabelFontSizeMax,this.itemLabelRadius=e.itemLabelRadius,this.itemLabelRadiusMax=e.itemLabelRadiusMax,this.itemLabelRotation=e.itemLabelRotation,this.items=e.items,this.lineColor=e.lineColor,this.lineWidth=e.lineWidth,this.pixelRatio=e.pixelRatio,this.rotationSpeedMax=e.rotationSpeedMax,this.radius=e.radius,this.rotation=e.rotation,this.rotationResistance=e.rotationResistance,this.offset=e.offset,this.onCurrentIndexChange=e.onCurrentIndexChange,this.onRest=e.onRest,this.onSpin=e.onSpin,this.overlayImage=e.overlayImage,this.pointerAngle=e.pointerAngle}addCanvas(){this._canvasContainer.appendChild(this.canvas)}removeCanvas(){this._canvasContainer.removeChild(this.canvas)}remove(){window.cancelAnimationFrame(this._frameRequestId),vi(this),this.removeCanvas()}resize(){let[e,t]=[this._canvasContainer.clientWidth*this.getActualPixelRatio(),this._canvasContainer.clientHeight*this.getActualPixelRatio()],l=Math.min(e,t),i={w:l-l*this.offset.w,h:l-l*this.offset.h},n=Math.min(e/i.w,t/i.h);this._size=Math.max(i.w*n,i.h*n),this.canvas.style.width=this._canvasContainer.clientWidth+"px",this.canvas.style.height=this._canvasContainer.clientHeight+"px",this.canvas.width=e,this.canvas.height=t,this._center={x:e/2+e*this.offset.w,y:t/2+t*this.offset.h},this._actualRadius=this._size/2*this.radius,this.itemLabelFontSize=this.itemLabelFontSizeMax*(this._size/500),this.labelMaxWidth=this._actualRadius*(this.itemLabelRadius-this.itemLabelRadiusMax);for(let r of this._items)this.itemLabelFontSize=Math.min(this.itemLabelFontSize,ri(r.label,this.itemLabelFont,this.labelMaxWidth,this._context));this.refresh()}draw(e=0){this._frameRequestId=null;let t=this._context;t.clearRect(0,0,this.canvas.width,this.canvas.height),this.animateRotation(e);let l=this.getItemAngles(this._rotation),i=this.getActualBorderWidth();t.textBaseline="middle",t.textAlign=this.itemLabelAlign,t.font=this.itemLabelFontSize+"px "+this.itemLabelFont,t.save();for(let[n,r]of l.entries()){let s=new Path2D;s.moveTo(this._center.x,this._center.y),s.arc(this._center.x,this._center.y,this._actualRadius-i/2,ie(r.start+-90),ie(r.end+-90)),this._items[n].path=s}this.drawItemBackgrounds(t,l),this.drawItemImages(t,l),this.drawItemLines(t,l),this.drawItemLabels(t,l),this.drawBorder(t),this.drawImage(t,this._image,!1),this.drawImage(t,this._overlayImage,!0),this.drawPointerLine(t),this.drawDragEvents(t),this._isInitialising=!1}drawItemBackgrounds(e,t=[]){var l;for(let[i,n]of t.entries()){let r=this._items[i];e.fillStyle=(l=r.backgroundColor)!=null?l:this.itemBackgroundColors[i%this.itemBackgroundColors.length],e.fill(r.path)}}drawItemImages(e,t=[]){for(let[l,i]of t.entries()){let n=this._items[l];if(!Ue(n.image))return;e.save(),e.clip(n.path);let r=i.start+(i.end-i.start)/2;e.translate(this._center.x+Math.cos(ie(r+-90))*(this._actualRadius*n.imageRadius),this._center.y+Math.sin(ie(r+-90))*(this._actualRadius*n.imageRadius)),e.rotate(ie(r+n.imageRotation));let s=this._size/500*n.image.width*n.imageScale,a=this._size/500*n.image.height*n.imageScale,u=-s/2,v=-a/2;e.drawImage(n.image,u,v,s,a),e.restore()}}drawImage(e,t,l=!1){if(!Ue(t))return;e.translate(this._center.x,this._center.y),l||e.rotate(ie(this._rotation));let i=l?this._size:this._size*this.radius,n=-(i/2);e.drawImage(t,n,n,i,i),e.resetTransform()}drawPointerLine(e){!this.debug||(e.translate(this._center.x,this._center.y),e.rotate(ie(this._pointerAngle+-90)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius*2,0),e.strokeStyle=Ie.pointerLineColor,e.lineWidth=2,e.stroke(),e.resetTransform())}drawBorder(e){if(this.borderWidth<=0)return;let t=this.getActualBorderWidth(),l=this._borderColor||"transparent";e.beginPath(),e.strokeStyle=l,e.lineWidth=t,e.arc(this._center.x,this._center.y,this._actualRadius-t/2,0,2*Math.PI),e.stroke(),this.debug&&(e.beginPath(),e.strokeStyle=e.strokeStyle=Ie.labelRadiusColor,e.lineWidth=1,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadius,0,2*Math.PI),e.stroke(),e.beginPath(),e.strokeStyle=e.strokeStyle=Ie.labelRadiusColor,e.lineWidth=1,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadiusMax,0,2*Math.PI),e.stroke())}drawItemLines(e,t=[]){if(this.lineWidth<=0)return;let l=this.lineWidth/500*this._size,i=this.getActualBorderWidth();e.translate(this._center.x,this._center.y);for(let n of t)e.rotate(ie(n.start+-90)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius-i,0),e.strokeStyle=this.lineColor,e.lineWidth=l,e.stroke(),e.rotate(-ie(n.start+-90));e.resetTransform()}drawItemLabels(e,t=[]){let l=this.itemLabelFontSize*-this.itemLabelBaselineOffset;for(let[i,n]of t.entries()){let r=this._items[i],s=r.labelColor||this._itemLabelColors[i%this._itemLabelColors.length]||"transparent";if(r.label.trim()===""||s==="transparent")continue;e.save(),e.clip(r.path);let a=n.start+(n.end-n.start)/2;e.translate(this._center.x+Math.cos(ie(a+-90))*(this._actualRadius*this.itemLabelRadius),this._center.y+Math.sin(ie(a+-90))*(this._actualRadius*this.itemLabelRadius)),e.rotate(ie(a+-90)),e.rotate(ie(this.itemLabelRotation)),this.debug&&(e.beginPath(),e.moveTo(0,0),e.lineTo(-this.labelMaxWidth,0),e.strokeStyle=Ie.labelOutlineColor,e.lineWidth=1,e.stroke(),e.strokeRect(0,-this.itemLabelFontSize/2,-this.labelMaxWidth,this.itemLabelFontSize)),e.fillStyle=s,e.fillText(r.label,0,l),e.restore()}}drawDragEvents(e){var t;if(!this.debug||!((t=this.dragEvents)!=null&&t.length))return;let l=[...this.dragEvents].reverse();for(let[i,n]of l.entries()){let r=i/this.dragEvents.length*100;e.beginPath(),e.arc(n.x,n.y,5,0,2*Math.PI),e.fillStyle=`hsl(${Ie.dragEventHue},100%,${r}%)`,e.strokeStyle="#000",e.lineWidth=.5,e.fill(),e.stroke()}}animateRotation(e=0){if(this._spinToTimeEnd){if(e>=this._spinToTimeEnd){this.rotation=this._spinToEndRotation,this._spinToTimeEnd=void 0,this.raiseEvent_onRest();return}this.refresh();let t=this._spinToTimeEnd-this._spinToTimeStart,l=(e-this._spinToTimeStart)/t;l=l<0?0:l;let i=this._spinToEndRotation-this._spinToStartRotation;this.rotation=this._spinToStartRotation+i*this._spinToEasingFunction(l);return}if(this._rotationSpeed!==0){this.refresh(),this._lastFrameTime===void 0&&(this._lastFrameTime=e);let t=e-this._lastFrameTime;t>0&&(this.rotation+=t/1e3*this._rotationSpeed%360,this._rotationSpeed=this.getRotationSpeedPlusDrag(t),this._rotationSpeed===0&&this.raiseEvent_onRest(),this._lastFrameTime=e);return}this._lastFrameTime=void 0}getRotationSpeedPlusDrag(e=0){let t=this._rotationSpeed+this.rotationResistance*(e/1e3)*this._rotationDirection;return this._rotationDirection===1&&t<0||this._rotationDirection===-1&&t>=0?0:t}spin(e=0){if(!$(e))throw new Error("rotationSpeed must be a number");this.setSpeedSpeed(e,"spin")}spinTo(e=0,t=0,l=null){if(Number.isNaN(e))throw new Error("Error: newRotation parameter is NaN");this.stop(),this.animate(e,t,l),this.raiseEvent_onSpin({method:"spinto",targetRotation:e,duration:t})}spinToItem(e=0,t=0,l=!0,i=1,n=1,r=null){this.stop();let s=l?this.items[e].getCenterAngle():this.items[e].getRandomAngle(),a=fi(this.rotation,s-this._pointerAngle,n);a+=i*360*n,this.animate(a,t,r),this.raiseEvent_onSpin({method:"spintoitem",targetItemIndex:e,targetRotation:a,duration:t})}animate(e,t,l){this._spinToStartRotation=this.rotation,this._spinToEndRotation=e,this._spinToTimeStart=performance.now(),this._spinToTimeEnd=this._spinToTimeStart+t,this._spinToEasingFunction=l||di,this.refresh()}stop(){this._rotationSpeed=0,this._spinToTimeEnd=void 0}getActualBorderWidth(){return this.borderWidth/500*this._size}getActualPixelRatio(){return this._pixelRatio!==0?this._pixelRatio:window.devicePixelRatio}wheelHitTest(e={x:0,y:0}){let t=ke(e,this.canvas,this.getActualPixelRatio());return ai(t,this._center.x,this._center.y,this._actualRadius)}refreshCursor(){if(this.isInteractive){if(this.isDragging){this.canvas.style.cursor="grabbing";return}if(this.isCursorOverWheel){this.canvas.style.cursor="grab";return}}this.canvas.style.cursor=""}getAngleFromCenter(e={x:0,y:0}){return(oi(this._center.x,this._center.y,e.x,e.y)+90)%360}getCurrentIndex(){return this._currentIndex}refreshCurrentIndex(e=[]){this._items.length===0&&(this._currentIndex=-1);for(let[t,l]of e.entries())if(ni(this._pointerAngle,l.start%360,l.end%360)){if(this._currentIndex===t)break;this._currentIndex=t,this._isInitialising||this.raiseEvent_onCurrentIndexChange();break}}getItemAngles(e=0){let t=0;for(let s of this.items)t+=s.weight;let l=360/t,i,n=e,r=[];for(let s of this._items)i=s.weight*l,r.push({start:n,end:n+i}),n+=i;return this._items.length>1&&(r[r.length-1].end=r[0].start+360),r}refresh(){this._frameRequestId===null&&(this._frameRequestId=window.requestAnimationFrame(this.draw.bind(this)))}limitSpeed(e=0,t=0){let l=Math.min(e,t);return Math.max(l,-t)}setSpeedSpeed(e=0,t=""){this.stop(),this._rotationSpeed=this.limitSpeed(e,this._rotationSpeedMax),this._rotationDirection=this._rotationSpeed>=0?1:-1,this._rotationSpeed!==0&&this.raiseEvent_onSpin({method:t,rotationSpeed:this._rotationSpeed,rotationResistance:this._rotationResistance}),this.refresh()}get borderColor(){return this._borderColor}set borderColor(e){this._borderColor=N({val:e,isValid:typeof e=="string",errorMessage:"Wheel.borderColor must be a string",defaultValue:x.wheel.borderColor}),this.refresh()}get borderWidth(){return this._borderWidth}set borderWidth(e){this._borderWidth=N({val:e,isValid:$(e),errorMessage:"Wheel.borderWidth must be a number",defaultValue:x.wheel.borderWidth}),this.refresh()}get debug(){return this._debug}set debug(e){this._debug=N({val:e,isValid:typeof e=="boolean",errorMessage:"Wheel.debug must be a boolean",defaultValue:x.wheel.debug}),this.refresh()}get image(){var e,t;return(t=(e=this._image)==null?void 0:e.src)!=null?t:null}set image(e){this._image=N({val:e,isValid:typeof e=="string"||e===null,errorMessage:"Wheel.image must be a url (string) or null",defaultValue:x.wheel.image,action:()=>{if(e===null)return null;let t=new Image;return t.src=e,t.onload=l=>this.refresh(),t}}),this.refresh()}get isInteractive(){return this._isInteractive}set isInteractive(e){this._isInteractive=N({val:e,isValid:typeof e=="boolean",errorMessage:"Wheel.isInteractive must be a boolean",defaultValue:x.wheel.isInteractive}),this.refreshCursor()}get itemBackgroundColors(){return this._itemBackgroundColors}set itemBackgroundColors(e){this._itemBackgroundColors=N({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemBackgroundColors must be an array",defaultValue:x.wheel.itemBackgroundColors}),this.refresh()}get itemLabelAlign(){return this._itemLabelAlign}set itemLabelAlign(e){this._itemLabelAlign=N({val:e,isValid:typeof e=="string",errorMessage:"Wheel.itemLabelAlign must be a string",defaultValue:x.wheel.itemLabelAlign}),this.refresh()}get itemLabelBaselineOffset(){return this._itemLabelBaselineOffset}set itemLabelBaselineOffset(e){this._itemLabelBaselineOffset=N({val:e,isValid:$(e),errorMessage:"Wheel.itemLabelBaselineOffset must be a number",defaultValue:x.wheel.itemLabelBaselineOffset}),this.resize()}get itemLabelColors(){return this._itemLabelColors}set itemLabelColors(e){this._itemLabelColors=N({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemLabelColors must be an array",defaultValue:x.wheel.itemLabelColors}),this.refresh()}get itemLabelFont(){return this._itemLabelFont}set itemLabelFont(e){this._itemLabelFont=N({val:e,isValid:typeof e=="string",errorMessage:"Wheel.itemLabelFont must be a string",defaultValue:x.wheel.itemLabelFont}),this.resize()}get itemLabelFontSizeMax(){return this._itemLabelFontSizeMax}set itemLabelFontSizeMax(e){this._itemLabelFontSizeMax=N({val:e,isValid:$(e),errorMessage:"Wheel.itemLabelFontSizeMax must be a number",defaultValue:x.wheel.itemLabelFontSizeMax}),this.resize()}get itemLabelRadius(){return this._itemLabelRadius}set itemLabelRadius(e){this._itemLabelRadius=N({val:e,isValid:$(e),errorMessage:"Wheel.itemLabelRadius must be a number",defaultValue:x.wheel.itemLabelRadius}),this.resize()}get itemLabelRadiusMax(){return this._itemLabelRadiusMax}set itemLabelRadiusMax(e){this._itemLabelRadiusMax=N({val:e,isValid:$(e),errorMessage:"Wheel.itemLabelRadiusMax must be a number",defaultValue:x.wheel.itemLabelRadiusMax}),this.resize()}get itemLabelRotation(){return this._itemLabelRotation}set itemLabelRotation(e){this._itemLabelRotation=N({val:e,isValid:$(e),errorMessage:"Wheel.itemLabelRotation must be a number",defaultValue:x.wheel.itemLabelRotation}),this.refresh()}get items(){return this._items}set items(e){this._items=N({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.items must be an array of Items",defaultValue:x.wheel.items,action:()=>{let t=[];for(let l of e)t.push(new mi(this,{backgroundColor:l.backgroundColor,image:l.image,imageRadius:l.imageRadius,imageRotation:l.imageRotation,imageScale:l.imageScale,label:l.label,labelColor:l.labelColor,value:l.value,weight:l.weight}));return t}}),this.refreshCurrentIndex(this.getItemAngles(this._rotation))}get lineColor(){return this._lineColor}set lineColor(e){this._lineColor=N({val:e,isValid:typeof e=="string",errorMessage:"Wheel.lineColor must be a string",defaultValue:x.wheel.lineColor}),this.refresh()}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=N({val:e,isValid:$(e),errorMessage:"Wheel.lineWidth must be a number",defaultValue:x.wheel.lineWidth}),this.refresh()}get offset(){return this._offset}set offset(e){this._offset=N({val:e,isValid:Re(e),errorMessage:"Wheel.offset must be an object",defaultValue:x.wheel.offset}),this.resize()}get onCurrentIndexChange(){return this._onCurrentIndexChange}set onCurrentIndexChange(e){this._onCurrentIndexChange=N({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onCurrentIndexChange must be a function or null",defaultValue:x.wheel.onCurrentIndexChange})}get onRest(){return this._onRest}set onRest(e){this._onRest=N({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onRest must be a function or null",defaultValue:x.wheel.onRest})}get onSpin(){return this._onSpin}set onSpin(e){this._onSpin=N({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onSpin must be a function or null",defaultValue:x.wheel.onSpin})}get overlayImage(){var e,t;return(t=(e=this._overlayImage)==null?void 0:e.src)!=null?t:null}set overlayImage(e){this._overlayImage=N({val:e,isValid:typeof e=="string"||e===null,errorMessage:"Wheel.overlayImage must be a url (string) or null",defaultValue:x.wheel.overlayImage,action:()=>{if(e===null)return null;let t=new Image;return t.src=e,t.onload=l=>this.refresh(),t}}),this.refresh()}get pixelRatio(){return this._pixelRatio}set pixelRatio(e){this._pixelRatio=N({val:e,isValid:$(e),errorMessage:"Wheel.pixelRatio must be a number",defaultValue:x.wheel.pixelRatio}),this.resize()}get pointerAngle(){return this._pointerAngle}set pointerAngle(e){this._pointerAngle=N({val:e,isValid:$(e)&&e>=0,errorMessage:"Wheel.pointerAngle must be a number between 0 and 360",defaultValue:x.wheel.pointerAngle,action:()=>e%360}),this.debug&&this.refresh()}get radius(){return this._radius}set radius(e){this._radius=N({val:e,isValid:$(e),errorMessage:"Wheel.radius must be a number",defaultValue:x.wheel.radius}),this.resize()}get rotation(){return this._rotation}set rotation(e){this._rotation=N({val:e,isValid:$(e),errorMessage:"Wheel.rotation must be a number",defaultValue:x.wheel.rotation}),this.refreshCurrentIndex(this.getItemAngles(this._rotation)),this.refresh()}get rotationResistance(){return this._rotationResistance}set rotationResistance(e){this._rotationResistance=N({val:e,isValid:$(e),errorMessage:"Wheel.rotationResistance must be a number",defaultValue:x.wheel.rotationResistance})}get rotationSpeed(){return this._rotationSpeed}get rotationSpeedMax(){return this._rotationSpeedMax}set rotationSpeedMax(e){this._rotationSpeedMax=N({val:e,isValid:$(e)&&e>=0,errorMessage:"Wheel.rotationSpeedMax must be a number >= 0",defaultValue:x.wheel.rotationSpeedMax})}dragStart(e={x:0,y:0}){let t=ke(e,this.canvas,this.getActualPixelRatio());this.isDragging=!0,this.stop(),this.dragEvents=[{distance:0,x:t.x,y:t.y,now:performance.now()}],this.refreshCursor()}dragMove(e={x:0,y:0}){let t=ke(e,this.canvas,this.getActualPixelRatio()),l=this.getAngleFromCenter(t),i=this.dragEvents[0],n=this.getAngleFromCenter(i),r=ui(n,l);this.dragEvents.unshift({distance:r,x:t.x,y:t.y,now:performance.now()}),this.debug&&this.dragEvents.length>=40&&this.dragEvents.pop(),this.rotation+=r}dragEnd(){this.isDragging=!1;let e=0,t=performance.now();for(let[l,i]of this.dragEvents.entries()){if(!this.isDragEventTooOld(t,i)){e+=i.distance;continue}this.dragEvents.length=l;break}this.refreshCursor(),e!==0&&this.setSpeedSpeed(e*(1e3/250),"interact")}isDragEventTooOld(e=0,t={}){return e-t.now>250}raiseEvent_onCurrentIndexChange(e={}){var t;(t=this.onCurrentIndexChange)==null||t.call(this,Se({type:"currentIndexChange",currentIndex:this._currentIndex},e))}raiseEvent_onRest(e={}){var t;(t=this.onRest)==null||t.call(this,Se({type:"rest",currentIndex:this._currentIndex,rotation:this._rotation},e))}raiseEvent_onSpin(e={}){var t;(t=this.onSpin)==null||t.call(this,Se({type:"spin"},e))}},Pt={exports:{}};(function(e,t){(function(i,n){e.exports=n()})(Gt,function(){return function(){var l={165:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.abs=void 0;function u(v){return(typeof v=="number"||typeof v=="bigint")&&(v=v.toString()),v[0]=="-"?v.substring(1):v}a.abs=u},217:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.pad=a.trim=a.add=void 0;function u(f,d){var A;d===void 0&&(d="0");var b=0,L=-1;f[0]=="-"&&(f=f.substring(1),h(f)||(b++,L=1,f.length)),d[0]=="-"&&(d=d.substring(1),h(d)||(b++,L=2,d.length)),f=_(f),d=_(d),A=c(_(f),_(d)),f=A[0],d=A[1],b==1&&(L===1?f=v(f):L===2&&(d=v(d)));var m=o(f,d);return b?b==2?"-"+_(m):f.length<m.length?_(m.substring(1)):"-"+_(v(m)):_(m)}a.add=u;function v(f){if(h(f))return f;for(var d="",A=f.length,b=f.split(".")[1],L=b?b.length:0,m=0;m<A;m++)f[m]>="0"&&f[m]<="9"?d+=9-parseInt(f[m]):d+=f[m];var g=L>0?"0."+new Array(L).join("0")+"1":"1";return o(d,g)}function _(f){var d=f.split(".");for(d[0]||(d[0]="0");d[0][0]=="0"&&d[0].length>1;)d[0]=d[0].substring(1);return d[0]+(d[1]?"."+d[1]:"")}a.trim=_;function c(f,d){var A=f.split("."),b=d.split("."),L=A[0].length,m=b[0].length;return L>m?b[0]=new Array(Math.abs(L-m)+1).join("0")+(b[0]?b[0]:""):A[0]=new Array(Math.abs(L-m)+1).join("0")+(A[0]?A[0]:""),L=A[1]?A[1].length:0,m=b[1]?b[1].length:0,(L||m)&&(L>m?b[1]=(b[1]?b[1]:"")+new Array(Math.abs(L-m)+1).join("0"):A[1]=(A[1]?A[1]:"")+new Array(Math.abs(L-m)+1).join("0")),f=A[0]+(A[1]?"."+A[1]:""),d=b[0]+(b[1]?"."+b[1]:""),[f,d]}a.pad=c;function o(f,d){var A;A=c(f,d),f=A[0],d=A[1];for(var b="",L=0,m=f.length-1;m>=0;m--){if(f[m]==="."){b="."+b;continue}var g=parseInt(f[m])+parseInt(d[m])+L;b=g%10+b,L=Math.floor(g/10)}return L?L.toString()+b:b}function h(f){return/^0[0]*[.]{0,1}[0]*$/.test(f)}},423:function(s,a,u){var v=u(217),_=u(165),c=u(350),o=u(182),h=u(415),f=u(213),d=u(664),A=u(26),b=u(916),L=function(){function m(g){g===void 0&&(g="0"),this.value=m.validate(g)}return m.validate=function(g){if(g){if(g=g.toString(),isNaN(g))throw Error("Parameter is not a number: "+g);g[0]=="+"&&(g=g.substring(1))}else g="0";if(g.startsWith(".")?g="0"+g:g.startsWith("-.")&&(g="-0"+g.substr(1)),/e/i.test(g)){var w=g.split(/[eE]/),I=w[0],V=w[1];I=(0,v.trim)(I);var M="";I[0]=="-"&&(M="-",I=I.substring(1)),I.indexOf(".")>=0?(V=parseInt(V)+I.indexOf("."),I=I.replace(".","")):V=parseInt(V)+I.length,I.length<V?g=M+I+new Array(V-I.length+1).join("0"):I.length>=V&&V>0?g=M+(0,v.trim)(I.substring(0,V))+(I.length>V?"."+I.substring(V):""):g=M+"0."+new Array(-V+1).join("0")+I}return g},m.prototype.getValue=function(){return this.value},m.prototype.setValue=function(g){this.value=m.validate(g)},m.getPrettyValue=function(g,w,I){if(!(w||I))w=3,I=",";else if(!(w&&I))throw Error("Illegal Arguments. Should pass both digits and separator or pass none");g=m.validate(g);var V=g.charAt(0)=="-";V&&(g=g.substring(1));var M=g.indexOf(".");M=M>0?M:g.length;for(var z="",Z=M;Z>0;)Z<w?(w=Z,Z=0):Z-=w,z=g.substring(Z,Z+w)+(Z<M-w&&Z>=0?I:"")+z;return(V?"-":"")+z+g.substring(M)},m.prototype.getPrettyValue=function(g,w){return m.getPrettyValue(this.value,g,w)},m.round=function(g,w,I){if(w===void 0&&(w=0),I===void 0&&(I=b.RoundingModes.HALF_EVEN),g=m.validate(g),isNaN(w))throw Error("Precision is not a number: "+w);return(0,c.roundOff)(g,w,I)},m.prototype.round=function(g,w){if(g===void 0&&(g=0),w===void 0&&(w=b.RoundingModes.HALF_EVEN),isNaN(g))throw Error("Precision is not a number: "+g);return new m((0,c.roundOff)(this.value,g,w))},m.abs=function(g){return g=m.validate(g),(0,_.abs)(g)},m.prototype.abs=function(){return new m((0,_.abs)(this.value))},m.floor=function(g){return g=m.validate(g),g.indexOf(".")===-1?g:m.round(g,0,b.RoundingModes.FLOOR)},m.prototype.floor=function(){return this.value.indexOf(".")===-1?new m(this.value):new m(this.value).round(0,b.RoundingModes.FLOOR)},m.ceil=function(g){return g=m.validate(g),g.indexOf(".")===-1?g:m.round(g,0,b.RoundingModes.CEILING)},m.prototype.ceil=function(){return this.value.indexOf(".")===-1?new m(this.value):new m(this.value).round(0,b.RoundingModes.CEILING)},m.add=function(g,w){return g=m.validate(g),w=m.validate(w),(0,v.add)(g,w)},m.prototype.add=function(g){return new m((0,v.add)(this.value,g.getValue()))},m.subtract=function(g,w){return g=m.validate(g),w=m.validate(w),(0,A.subtract)(g,w)},m.prototype.subtract=function(g){return new m((0,A.subtract)(this.value,g.getValue()))},m.multiply=function(g,w){return g=m.validate(g),w=m.validate(w),(0,o.multiply)(g,w)},m.prototype.multiply=function(g){return new m((0,o.multiply)(this.value,g.getValue()))},m.divide=function(g,w,I){return g=m.validate(g),w=m.validate(w),(0,h.divide)(g,w,I)},m.prototype.divide=function(g,w){return new m((0,h.divide)(this.value,g.getValue(),w))},m.modulus=function(g,w){return g=m.validate(g),w=m.validate(w),(0,f.modulus)(g,w)},m.prototype.modulus=function(g){return new m((0,f.modulus)(this.value,g.getValue()))},m.compareTo=function(g,w){return g=m.validate(g),w=m.validate(w),(0,d.compareTo)(g,w)},m.prototype.compareTo=function(g){return(0,d.compareTo)(this.value,g.getValue())},m.negate=function(g){return g=m.validate(g),(0,A.negate)(g)},m.prototype.negate=function(){return new m((0,A.negate)(this.value))},m.RoundingModes=b.RoundingModes,m}();s.exports=L},664:function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.compareTo=void 0;var v=u(217);function _(c,o){var h,f=!1;if(c[0]=="-"&&o[0]!="-")return-1;if(c[0]!="-"&&o[0]=="-")return 1;if(c[0]=="-"&&o[0]=="-"&&(c=c.substr(1),o=o.substr(1),f=!0),h=(0,v.pad)(c,o),c=h[0],o=h[1],c.localeCompare(o)==0)return 0;for(var d=0;d<c.length;d++)if(c[d]!=o[d])return c[d]>o[d]?f?-1:1:f?1:-1;return 0}a.compareTo=_},415:function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.divide=void 0;var v=u(217),_=u(350);function c(o,h,f){if(f===void 0&&(f=8),h==0)throw new Error("Cannot divide by 0");if(o=o.toString(),h=h.toString(),o=o.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),h=h.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),o==0)return"0";var d=0;h[0]=="-"&&(h=h.substring(1),d++),o[0]=="-"&&(o=o.substring(1),d++);var A=h.indexOf(".")>0?h.length-h.indexOf(".")-1:-1;if(h=(0,v.trim)(h.replace(".","")),A>=0){var b=o.indexOf(".")>0?o.length-o.indexOf(".")-1:-1;if(b==-1)o=(0,v.trim)(o+new Array(A+1).join("0"));else if(A>b)o=o.replace(".",""),o=(0,v.trim)(o+new Array(A-b+1).join("0"));else if(A<b){o=o.replace(".","");var L=o.length-b+A;o=(0,v.trim)(o.substring(0,L)+"."+o.substring(L))}else A==b&&(o=(0,v.trim)(o.replace(".","")))}var m=0,g=h.length,w="",I=o.indexOf(".")>-1&&o.indexOf(".")<g?o.substring(0,g+1):o.substring(0,g);if(o=o.indexOf(".")>-1&&o.indexOf(".")<g?o.substring(g+1):o.substring(g),I.indexOf(".")>-1){var V=I.length-I.indexOf(".")-1;I=I.replace(".",""),g>I.length&&(V+=g-I.length,I=I+new Array(g-I.length+1).join("0")),m=V,w="0."+new Array(V).join("0")}for(f=f+2;m<=f;){for(var M=0;parseInt(I)>=parseInt(h);)I=(0,v.add)(I,"-"+h),M++;w+=M,o?(o[0]=="."&&(w+=".",m++,o=o.substring(1)),I=I+o.substring(0,1),o=o.substring(1)):(m||(w+="."),m++,I=I+"0")}return(d==1?"-":"")+(0,v.trim)((0,_.roundOff)(w,f-2))}a.divide=c},213:function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.modulus=void 0;var v=u(415),_=u(350),c=u(182),o=u(26),h=u(916);function f(A,b){if(b==0)throw new Error("Cannot divide by 0");A=A.toString(),b=b.toString(),d(A),d(b);var L="";A[0]=="-"&&(L="-",A=A.substr(1)),b[0]=="-"&&(b=b.substr(1));var m=(0,o.subtract)(A,(0,c.multiply)(b,(0,_.roundOff)((0,v.divide)(A,b),0,h.RoundingModes.FLOOR)));return L+m}a.modulus=f;function d(A){if(A.indexOf(".")!=-1)throw new Error("Modulus of non-integers not supported")}},182:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.multiply=void 0;function u(c,o){c=c.toString(),o=o.toString();var h=0;c[0]=="-"&&(h++,c=c.substr(1)),o[0]=="-"&&(h++,o=o.substr(1)),c=_(c),o=_(o);var f=0,d=0;c.indexOf(".")!=-1&&(f=c.length-c.indexOf(".")-1),o.indexOf(".")!=-1&&(d=o.length-o.indexOf(".")-1);var A=f+d;if(c=_(c.replace(".","")),o=_(o.replace(".","")),c.length<o.length){var b=c;c=o,o=b}if(o=="0")return"0";for(var L=o.length,m=0,g=[],w=L-1,I="",V=0;V<L;V++)g[V]=c.length-1;for(var V=0;V<2*c.length;V++){for(var M=0,z=o.length-1;z>=w&&z>=0;z--)g[z]>-1&&g[z]<c.length&&(M+=parseInt(c[g[z]--])*parseInt(o[z]));M+=m,m=Math.floor(M/10),I=M%10+I,w--}return I=_(v(I,A)),h==1&&(I="-"+I),I}a.multiply=u;function v(c,o){return o==0?c:(c=o>=c.length?new Array(o-c.length+1).join("0")+c:c,c.substr(0,c.length-o)+"."+c.substr(c.length-o,o))}function _(c){for(;c[0]=="0";)c=c.substr(1);if(c.indexOf(".")!=-1)for(;c[c.length-1]=="0";)c=c.substr(0,c.length-1);return c==""||c=="."?c="0":c[c.length-1]=="."&&(c=c.substr(0,c.length-1)),c[0]=="."&&(c="0"+c),c}},350:function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.roundOff=void 0;var v=u(916);function _(h,f,d){if(f===void 0&&(f=0),d===void 0&&(d=v.RoundingModes.HALF_EVEN),d===v.RoundingModes.UNNECESSARY)throw new Error("UNNECESSARY Rounding Mode has not yet been implemented");(typeof h=="number"||typeof h=="bigint")&&(h=h.toString());var A=!1;h[0]==="-"&&(A=!0,h=h.substring(1));var b=h.split("."),L=b[0],m=b[1];if(f<0){if(f=-f,L.length<=f)return"0";var g=L.substr(0,L.length-f);return h=g+"."+L.substr(L.length-f)+m,g=_(h,0,d),(A?"-":"")+g+new Array(f+1).join("0")}if(f==0)return L.length,c(b[1],L,A,d)&&(L=o(L)),(A&&parseInt(L)?"-":"")+L;if(b[1]){if(b[1].length<f)return(A?"-":"")+L+"."+b[1]+new Array(f-b[1].length+1).join("0")}else return(A?"-":"")+L+"."+new Array(f+1).join("0");m=b[1].substring(0,f);var w=b[1].substring(f);return w&&c(w,m,A,d)&&(m=o(m),m.length>f)?(A?"-":"")+o(L,parseInt(m[0]))+"."+m.substring(1):(A&&(parseInt(L)||parseInt(m))?"-":"")+L+"."+m}a.roundOff=_;function c(h,f,d,A){if(!h||h===new Array(h.length+1).join("0")||A===v.RoundingModes.DOWN||!d&&A===v.RoundingModes.FLOOR||d&&A===v.RoundingModes.CEILING)return!1;if(A===v.RoundingModes.UP||d&&A===v.RoundingModes.FLOOR||!d&&A===v.RoundingModes.CEILING)return!0;var b="5"+new Array(h.length).join("0");if(h>b)return!0;if(h<b)return!1;switch(A){case v.RoundingModes.HALF_DOWN:return!1;case v.RoundingModes.HALF_UP:return!0;case v.RoundingModes.HALF_EVEN:default:return parseInt(f[f.length-1])%2==1}}function o(h,f){f===void 0&&(f=0),f||(f=1),typeof h=="number"&&h.toString();for(var d=h.length-1,A="",b=d;b>=0;b--){var L=parseInt(h[b])+f;L==10?(f=1,L=0):f=0,A+=L}return f&&(A+=f),A.split("").reverse().join("")}},916:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.RoundingModes=void 0,function(u){u[u.CEILING=0]="CEILING",u[u.DOWN=1]="DOWN",u[u.FLOOR=2]="FLOOR",u[u.HALF_DOWN=3]="HALF_DOWN",u[u.HALF_EVEN=4]="HALF_EVEN",u[u.HALF_UP=5]="HALF_UP",u[u.UNNECESSARY=6]="UNNECESSARY",u[u.UP=7]="UP"}(a.RoundingModes||(a.RoundingModes={}))},26:function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.negate=a.subtract=void 0;var v=u(217);function _(o,h){return o=o.toString(),h=h.toString(),h=c(h),(0,v.add)(o,h)}a.subtract=_;function c(o){return o[0]=="-"?o=o.substr(1):o="-"+o,o}a.negate=c}},i={};function n(s){var a=i[s];if(a!==void 0)return a.exports;var u=i[s]={exports:{}};return l[s](u,u.exports,n),u.exports}var r=n(423);return r}()})})(Pt);var bi=Pt.exports;const Me=Kt(bi);function qe(e,t,l){const i=e.slice();i[6]=t[l];const n=Wt(i[6]);return i[7]=n,i}function Je(e){let t,l=te(e[0].effects),i=[];for(let n=0;n<l.length;n+=1)i[n]=Ye(qe(e,l,n));return{c(){t=C("ul");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){t=R(n,"UL",{class:!0});var r=k(t);for(let s=0;s<i.length;s+=1)i[s].l(r);r.forEach(p),this.h()},h(){E(t,"class","list space-y-[0.25em] svelte-1ut37ec")},m(n,r){S(n,t,r);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(t,null)},p(n,r){if(r&1){l=te(n[0].effects);let s;for(s=0;s<l.length;s+=1){const a=qe(n,l,s);i[s]?i[s].p(a,r):(i[s]=Ye(a),i[s].c(),i[s].m(t,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=l.length}},d(n){n&&p(t),de(i,n)}}}function Ye(e){let t,l=e[7]+"",i;return{c(){t=C("li"),i=H(l),this.h()},l(n){t=R(n,"LI",{class:!0});var r=k(t);i=U(r,l),r.forEach(p),this.h()},h(){E(t,"class","caption whitespace-pre-wrap text-sm !leading-4")},m(n,r){S(n,t,r),y(t,i)},p(n,r){r&1&&l!==(l=n[7]+"")&&le(i,l)},d(n){n&&p(t)}}}function wi(e){let t,l,i,n=(e[0].text??"")+"",r,s,a,u,v,_,c,o,h=e[0].effects!==void 0&&Je(e);return{c(){t=C("div"),l=C("div"),i=C("div"),r=H(n),s=T(),h&&h.c(),u=T(),v=C("div"),_=C("div"),c=H(e[2]),o=H("%"),this.h()},l(f){t=R(f,"DIV",{class:!0});var d=k(t);l=R(d,"DIV",{class:!0,style:!0});var A=k(l);i=R(A,"DIV",{class:!0});var b=k(i);r=U(b,n),b.forEach(p),s=W(A),h&&h.l(A),A.forEach(p),u=W(d),v=R(d,"DIV",{class:!0});var L=k(v);_=R(L,"DIV",{class:!0});var m=k(_);c=U(m,e[2]),o=U(m,"%"),m.forEach(p),L.forEach(p),d.forEach(p),this.h()},h(){E(i,"class","mb-[0.25em] leading-5"),E(l,"class","flex flex-col outcome-left pl-[0.75em] svelte-1ut37ec"),E(l,"style",a=`border-left: 8px solid ${e[1]}`),E(_,"class","caption"),E(v,"class","flex flex-col justify-center w-[5.5em] text-right"),E(t,"class","flex flex-row justify-between space-x-[1em]")},m(f,d){S(f,t,d),y(t,l),y(l,i),y(i,r),y(l,s),h&&h.m(l,null),y(t,u),y(t,v),y(v,_),y(_,c),y(_,o)},p(f,[d]){d&1&&n!==(n=(f[0].text??"")+"")&&le(r,n),f[0].effects!==void 0?h?h.p(f,d):(h=Je(f),h.c(),h.m(l,null)):h&&(h.d(1),h=null),d&2&&a!==(a=`border-left: 8px solid ${f[1]}`)&&E(l,"style",a)},i:re,o:re,d(f){f&&p(t),h&&h.d()}}}function yi(e,t,l){let{outcomeData:i}=t,{settings:n}=t,{userRole:r}=t,{totalPercentage:s}=t,{color:a}=t,u=n.hiddenPercentages&&r!=="keyholder"?"???":new Me(i.percentage).divide(new Me(s),8).multiply(new Me(100)).round(3).getValue().replace(/\.0+$|([^\.])0+$/,"$1");return e.$$set=v=>{"outcomeData"in v&&l(0,i=v.outcomeData),"settings"in v&&l(3,n=v.settings),"userRole"in v&&l(4,r=v.userRole),"totalPercentage"in v&&l(5,s=v.totalPercentage),"color"in v&&l(1,a=v.color)},[i,a,u,n,r,s]}class Nt extends Mt{constructor(t){super(),xt(this,t,yi,wi,ce,{outcomeData:0,settings:3,userRole:4,totalPercentage:5,color:1})}}function Qe(e,t,l){const i=e.slice();i[36]=t[l],i[40]=l;const n=i[40]-Math.floor(i[40]/i[10].length)*i[10].length;i[37]=n;const r=i[10][i[37]];return i[38]=r,i}function Ge(e,t,l){const i=e.slice();return i[42]=t[l],i}function xe(e){const t=e.slice(),l=t[32].note.split(`
`);return t[41]=l,t}function Ke(e){const t=e.slice(),l=t[32].outcomes.reduce((i,n)=>i+=parseFloat(n.percentage),0);return t[35]=l,t}function Ze(e,t,l){const i=e.slice();i[36]=t[l],i[40]=l;const n=i[40]-Math.floor(i[40]/i[10].length)*i[10].length;i[37]=n;const r=i[10][i[37]];return i[38]=r,i}function Xe(e,t,l){const i=e.slice();return i[42]=t[l],i}function Ve(e){const t=e.slice(),l=t[32].note.split(`
`);return t[41]=l,t}function $e(e){const t=e.slice(),l=t[32].outcomes.reduce((i,n)=>i+=parseFloat(n.percentage),0);return t[35]=l,t}function et(e,t,l){const i=e.slice();return i[48]=t[l][0],i[32]=t[l][1],i}function tt(e,t,l){const i=e.slice();i[51]=t[l];const n=Wt(i[51]);return i[52]=n,i}function Ii(e){const t=e.slice(),l=t[6].wheels[t[0]];t[32]=l;const i=t[4]||t[32].settings.disabled===!0;t[33]=i;const n=t[9]===""||t[2]==="keyholder";return t[34]=n,t}function Ci(e){let t,l,i,n,r='<h4 class="mb-0">[🍓] Extended Wheel of Fortune</h4> <span class="caption">Developer: <a href="https://chaster.app/user/strawberria" target="_blank">@strawberria</a></span>',s,a,u=`Try your luck and spin the <b>extended</b> wheel of fortune! <br/>
                        Now supporting additional actions and multiple wheels with individual cooldowns!`,v,_=e[0],c,o,h,f,d="Select",A,b,L="Choose which wheel to spin with",m,g,w,I,V,M,z,Z,Ae=e[17]?" the wheel":"",ge,ue,_e,me,pe,fe,be,O,B=rt(e),J=te(Object.entries(e[6].wheels)),F=[];for(let D=0;D<J.length;D+=1)F[D]=ot(et(e,J,D));let X=!e[17]&&Li($e(e)),K=e[17]&&ki(Ke(e));return{c(){t=C("div"),l=C("div"),i=C("div"),n=C("div"),n.innerHTML=r,s=T(),a=C("div"),a.innerHTML=u,v=T(),B.c(),c=T(),o=C("div"),h=C("div"),f=C("div"),f.textContent=d,A=T(),b=C("div"),b.textContent=L,m=T(),g=C("div"),w=C("select");for(let D=0;D<F.length;D+=1)F[D].c();I=T(),V=C("div"),M=C("button"),z=C("span"),Z=H("Spin"),ge=H(Ae),ue=H("!"),me=T(),X&&X.c(),pe=T(),K&&K.c(),this.h()},l(D){t=R(D,"DIV",{class:!0});var G=k(t);l=R(G,"DIV",{class:!0});var P=k(l);i=R(P,"DIV",{class:!0});var Q=k(i);n=R(Q,"DIV",{class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-1pyx1qx"&&(n.innerHTML=r),s=W(Q),a=R(Q,"DIV",{class:!0,"data-svelte-h":!0}),ee(a)!=="svelte-1b8f23k"&&(a.innerHTML=u),v=W(Q),B.l(Q),c=W(Q),o=R(Q,"DIV",{class:!0});var ve=k(o);h=R(ve,"DIV",{class:!0});var he=k(h);f=R(he,"DIV",{"data-svelte-h":!0}),ee(f)!=="svelte-80uym4"&&(f.textContent=d),A=W(he),b=R(he,"DIV",{class:!0,"data-svelte-h":!0}),ee(b)!=="svelte-nnb33a"&&(b.textContent=L),m=W(he),g=R(he,"DIV",{class:!0});var Oe=k(g);w=R(Oe,"SELECT",{class:!0});var Te=k(w);for(let Le=0;Le<F.length;Le+=1)F[Le].l(Te);Te.forEach(p),Oe.forEach(p),he.forEach(p),I=W(ve),V=R(ve,"DIV",{class:!0});var We=k(V);M=R(We,"BUTTON",{type:!0,class:!0});var Pe=k(M);z=R(Pe,"SPAN",{});var Ce=k(z);Z=U(Ce,"Spin"),ge=U(Ce,Ae),ue=U(Ce,"!"),Ce.forEach(p),Pe.forEach(p),We.forEach(p),ve.forEach(p),me=W(Q),X&&X.l(Q),Q.forEach(p),pe=W(P),K&&K.l(P),P.forEach(p),G.forEach(p),this.h()},h(){E(n,"class","flex items-end justify-between mb-2"),ne(n,"flex-row",e[17]),ne(n,"flex-col",!e[17]),ne(n,"space-x-1",e[17]),ne(n,"items-end",e[17]),E(a,"class","caption mb-2"),E(b,"class","caption mb-[0.5em]"),E(w,"class","form-control"),e[0]===void 0&&kt(()=>e[21].call(w)),E(g,"class","w-full"),E(h,"class","grow"),E(M,"type","button"),E(M,"class","btn btn-primary btn-lg"),M.disabled=_e=e[33]||!e[34],E(V,"class","flex flex-col justify-center space-y-[0.5em] max-w-[12em]"),ne(V,"mx-4",e[17]),ne(V,"mx-2",!e[17]),E(o,"class","w-full flex flex-row items-stretch space-x-4"),E(i,"class","h-full flex flex-col svelte-nhh4rm"),ne(i,"card-horizontal",e[17]),E(l,"class","w-full h-full flex flex-row"),E(t,"class","card-content grow svelte-nhh4rm"),ne(t,"card-wrapper-desktop",e[17])},m(D,G){S(D,t,G),y(t,l),y(l,i),y(i,n),y(i,s),y(i,a),y(i,v),B.m(i,null),y(i,c),y(i,o),y(o,h),y(h,f),y(h,A),y(h,b),y(h,m),y(h,g),y(g,w);for(let P=0;P<F.length;P+=1)F[P]&&F[P].m(w,null);Ne(w,e[0],!0),y(o,I),y(o,V),y(V,M),y(M,z),y(z,Z),y(z,ge),y(z,ue),y(i,me),X&&X.m(i,null),y(l,pe),K&&K.m(l,null),fe=!0,be||(O=[De(w,"change",e[21]),De(M,"click",e[16])],be=!0)},p(D,G){if(G[0]&1&&ce(_,_=D[0])?(B.d(1),B=rt(D),B.c(),B.m(i,c)):B.p(D,G),G[0]&64){J=te(Object.entries(D[6].wheels));let P;for(P=0;P<J.length;P+=1){const Q=et(D,J,P);F[P]?F[P].p(Q,G):(F[P]=ot(Q),F[P].c(),F[P].m(w,null))}for(;P<F.length;P+=1)F[P].d(1);F.length=J.length}G[0]&65&&Ne(w,D[0]),(!fe||G[0]&597&&_e!==(_e=D[33]||!D[34]))&&(M.disabled=_e),D[17]||X.p($e(D),G),D[17]&&K.p(Ke(D),G)},i(D){fe||(j(X),j(K),fe=!0)},o(D){q(X),q(K),fe=!1},d(D){D&&p(t),B.d(D),de(F,D),X&&X.d(),K&&K.d(),be=!1,jt(O)}}}function Ri(e){let t,l,i,n,r,s;return{c(){t=C("div"),l=C("img"),n=T(),r=C("div"),s=H(e[1]),this.h()},l(a){t=R(a,"DIV",{class:!0});var u=k(t);l=R(u,"IMG",{src:!0,alt:!0}),n=W(u),r=R(u,"DIV",{class:!0});var v=k(r);s=U(v,e[1]),v.forEach(p),u.forEach(p),this.h()},h(){zt(l.src,i=qt)||E(l,"src",i),E(l,"alt","Chaster logo"),E(r,"class","mt-4 caption text-lg"),E(t,"class","w-full h-screen flex flex-col items-center justify-center")},m(a,u){S(a,t,u),y(t,l),y(t,n),y(t,r),y(r,s)},p(a,u){u[0]&2&&le(s,a[1])},i:re,o:re,d(a){a&&p(t)}}}function it(e){let t,l,i,n=(e[8].text??"")+"",r,s,a,u,v="[ Click anywhere to close ]",_,c,o=e[8].effects!==void 0&&lt(e);return{c(){t=C("div"),l=C("div"),i=C("div"),r=H(n),s=T(),o&&o.c(),a=T(),u=C("div"),u.textContent=v,this.h()},l(h){t=R(h,"DIV",{class:!0});var f=k(t);l=R(f,"DIV",{class:!0});var d=k(l);i=R(d,"DIV",{});var A=k(i);r=U(A,n),A.forEach(p),s=W(d),o&&o.l(d),d.forEach(p),a=W(f),u=R(f,"DIV",{class:!0,"data-svelte-h":!0}),ee(u)!=="svelte-ecicjm"&&(u.textContent=v),f.forEach(p),this.h()},h(){E(l,"class","flex flex-col"),E(u,"class","text-sm mt-[1em] w-full text-center cursor-default"),E(t,"class","result svelte-nhh4rm")},m(h,f){S(h,t,f),y(t,l),y(l,i),y(i,r),y(l,s),o&&o.m(l,null),y(t,a),y(t,u),_||(c=De(t,"click",e[20]),_=!0)},p(h,f){f[0]&256&&n!==(n=(h[8].text??"")+"")&&le(r,n),h[8].effects!==void 0?o?o.p(h,f):(o=lt(h),o.c(),o.m(l,null)):o&&(o.d(1),o=null)},d(h){h&&p(t),o&&o.d(),_=!1,c()}}}function lt(e){let t,l=te(e[8].effects),i=[];for(let n=0;n<l.length;n+=1)i[n]=st(tt(e,l,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=Y()},l(n){for(let r=0;r<i.length;r+=1)i[r].l(n);t=Y()},m(n,r){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(n,r);S(n,t,r)},p(n,r){if(r[0]&256){l=te(n[8].effects);let s;for(s=0;s<l.length;s+=1){const a=tt(n,l,s);i[s]?i[s].p(a,r):(i[s]=st(a),i[s].c(),i[s].m(t.parentNode,t))}for(;s<i.length;s+=1)i[s].d(1);i.length=l.length}},d(n){n&&p(t),de(i,n)}}}function st(e){let t,l,i=e[52]+"",n;return{c(){t=C("div"),l=H("• "),n=H(i),this.h()},l(r){t=R(r,"DIV",{class:!0});var s=k(t);l=U(s,"• "),n=U(s,i),s.forEach(p),this.h()},h(){E(t,"class","caption whitespace-pre-wrap text-sm")},m(r,s){S(r,t,s),y(t,l),y(t,n)},p(r,s){s[0]&256&&i!==(i=r[52]+"")&&le(n,i)},d(r){r&&p(t)}}}function nt(e){let t,l;return{c(){t=H("Next spin available in "),l=H(e[9])},l(i){t=U(i,"Next spin available in "),l=U(i,e[9])},m(i,n){S(i,t,n),S(i,l,n)},p(i,n){n[0]&512&&le(l,i[9])},d(i){i&&(p(t),p(l))}}}function rt(e){let t,l,i="",n,r,s,a,u,v,_,c=e[8]!==void 0&&it(e),o=!e[34]&&nt(e);return{c(){t=C("div"),l=C("div"),l.innerHTML=i,r=T(),s=C("div"),c&&c.c(),a=T(),u=C("p"),o&&o.c(),v=T(),_=C("hr"),this.h()},l(h){t=R(h,"DIV",{class:!0});var f=k(t);l=R(f,"DIV",{class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-1dgs7up"&&(l.innerHTML=i),r=W(f),s=R(f,"DIV",{class:!0});var d=k(s);c&&c.l(d),d.forEach(p),f.forEach(p),a=W(h),u=R(h,"P",{class:!0});var A=k(u);o&&o.l(A),A.forEach(p),v=W(h),_=R(h,"HR",{}),this.h()},h(){E(l,"class","grow wheel-container h-full svelte-nhh4rm"),kt(()=>e[19].call(l)),ne(l,"aspect-square",!e[17]),E(s,"class","absolute top-0 right-0 h-full w-full z-10 flex align-center justify-center items-center"),ne(s,"aspect-square",!e[17]),E(t,"class","grow mt-1 wheel-container relative svelte-nhh4rm"),E(u,"class","min-h-[1em] text-center")},m(h,f){S(h,t,f),y(t,l),e[18](l),n=Ut(l,e[19].bind(l)),y(t,r),y(t,s),c&&c.m(s,null),S(h,a,f),S(h,u,f),o&&o.m(u,null),S(h,v,f),S(h,_,f)},p(h,f){h[8]!==void 0?c?c.p(h,f):(c=it(h),c.c(),c.m(s,null)):c&&(c.d(1),c=null),h[34]?o&&(o.d(1),o=null):o?o.p(h,f):(o=nt(h),o.c(),o.m(u,null))},d(h){h&&(p(t),p(a),p(u),p(v),p(_)),e[18](null),n(),c&&c.d(),o&&o.d()}}}function at(e){let t,l=e[32].display+"",i,n;return{c(){t=C("option"),i=H(l),this.h()},l(r){t=R(r,"OPTION",{});var s=k(t);i=U(s,l),s.forEach(p),this.h()},h(){t.__value=n=e[48],Fe(t,t.__value)},m(r,s){S(r,t,s),y(t,i)},p(r,s){s[0]&64&&l!==(l=r[32].display+"")&&le(i,l),s[0]&64&&n!==(n=r[48])&&(t.__value=n,Fe(t,t.__value))},d(r){r&&p(t)}}}function ot(e){let t,l=e[32].settings.disabled===!1&&at(e);return{c(){l&&l.c(),t=Y()},l(i){l&&l.l(i),t=Y()},m(i,n){l&&l.m(i,n),S(i,t,n)},p(i,n){i[32].settings.disabled===!1?l?l.p(i,n):(l=at(i),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(i){i&&p(t),l&&l.d(i)}}}function Li(e){let t,l,i,n=e[0],r,s=At(e);return{c(){t=C("hr"),l=T(),i=C("div"),s.c(),this.h()},l(a){t=R(a,"HR",{}),l=W(a),i=R(a,"DIV",{class:!0});var u=k(i);s.l(u),u.forEach(p),this.h()},h(){E(i,"class","h-full flex flex-col")},m(a,u){S(a,t,u),S(a,l,u),S(a,i,u),s.m(i,null),r=!0},p(a,u){u[0]&1&&ce(n,n=a[0])?(oe(),q(s,1,1,re),ae(),s=At(a),s.c(),j(s,1),s.m(i,null)):s.p(a,u)},i(a){r||(j(s),r=!0)},o(a){q(s),r=!1},d(a){a&&(p(t),p(l),p(i)),s.d(a)}}}function ht(e){let t,l,i,n,r,s,a,u,v=te(e[41]),_=[];for(let c=0;c<v.length;c+=1)_[c]=ut(Xe(e,v,c));return{c(){t=C("div");for(let c=0;c<_.length;c+=1)_[c].c();l=T(),i=C("div"),n=H("Signed, "),r=H(e[3]),s=H("~"),a=T(),u=C("hr"),this.h()},l(c){t=R(c,"DIV",{class:!0});var o=k(t);for(let f=0;f<_.length;f+=1)_[f].l(o);l=W(o),i=R(o,"DIV",{class:!0});var h=k(i);n=U(h,"Signed, "),r=U(h,e[3]),s=U(h,"~"),h.forEach(p),o.forEach(p),a=W(c),u=R(c,"HR",{}),this.h()},h(){E(i,"class","text-right"),E(t,"class","space-y-[0.375em]")},m(c,o){S(c,t,o);for(let h=0;h<_.length;h+=1)_[h]&&_[h].m(t,null);y(t,l),y(t,i),y(i,n),y(i,r),y(i,s),S(c,a,o),S(c,u,o)},p(c,o){if(o[0]&65){v=te(c[41]);let h;for(h=0;h<v.length;h+=1){const f=Xe(c,v,h);_[h]?_[h].p(f,o):(_[h]=ut(f),_[h].c(),_[h].m(t,l))}for(;h<_.length;h+=1)_[h].d(1);_.length=v.length}o[0]&8&&le(r,c[3])},d(c){c&&(p(t),p(a),p(u)),de(_,c)}}}function ut(e){let t,l=e[42]+"",i;return{c(){t=C("div"),i=H(l),this.h()},l(n){t=R(n,"DIV",{class:!0});var r=k(t);i=U(r,l),r.forEach(p),this.h()},h(){E(t,"class","caption leading-5")},m(n,r){S(n,t,r),y(t,i)},p(n,r){r[0]&65&&l!==(l=n[42]+"")&&le(i,l)},d(n){n&&p(t)}}}function Ei(e){let t,l,i=e[32].settings.hiddenEffects===!0&&ft(),n=e[32].settings.hiddenPercentages===!0&&ct();return{c(){i&&i.c(),t=T(),n&&n.c(),l=Y()},l(r){i&&i.l(r),t=W(r),n&&n.l(r),l=Y()},m(r,s){i&&i.m(r,s),S(r,t,s),n&&n.m(r,s),S(r,l,s)},p(r,s){r[32].settings.hiddenEffects===!0?i||(i=ft(),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),r[32].settings.hiddenPercentages===!0?n||(n=ct(),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(r){r&&(p(t),p(l)),i&&i.d(r),n&&n.d(r)}}}function Si(e){let t,l="❗ Outcomes Hidden ❗";return{c(){t=C("div"),t.textContent=l,this.h()},l(i){t=R(i,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-fmdfs4"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,n){S(i,t,n)},p:re,d(i){i&&p(t)}}}function ft(e){let t,l="❗ Effects Hidden ❗";return{c(){t=C("div"),t.textContent=l,this.h()},l(i){t=R(i,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-136ba5r"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,n){S(i,t,n)},d(i){i&&p(t)}}}function ct(e){let t,l="❗ Percentages Hidden ❗";return{c(){t=C("div"),t.textContent=l,this.h()},l(i){t=R(i,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1k907vu"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,n){S(i,t,n)},d(i){i&&p(t)}}}function dt(e){let t,l,i=e[6],n,r=vt(e);return{c(){t=C("div"),l=C("div"),r.c(),this.h()},l(s){t=R(s,"DIV",{class:!0});var a=k(t);l=R(a,"DIV",{class:!0});var u=k(l);r.l(u),u.forEach(p),a.forEach(p),this.h()},h(){E(l,"class","flex flex-col space-y-1 items-stretch"),E(t,"class","card-content outcomes-list svelte-nhh4rm")},m(s,a){S(s,t,a),y(t,l),r.m(l,null),n=!0},p(s,a){a[0]&64&&ce(i,i=s[6])?(oe(),q(r,1,1,re),ae(),r=vt(s),r.c(),j(r,1),r.m(l,null)):r.p(s,a)},i(s){n||(j(r),n=!0)},o(s){q(r),n=!1},d(s){s&&p(t),r.d(s)}}}function gt(e){let t;return{c(){t=C("hr"),this.h()},l(l){t=R(l,"HR",{class:!0}),this.h()},h(){E(t,"class","mt-0.5 mb-0.5")},m(l,i){S(l,t,i)},d(l){l&&p(t)}}}function _t(e){let t,l,i,n;t=new Nt({props:{outcomeData:e[36],settings:e[32].settings,userRole:e[2],totalPercentage:e[35],color:e[38]}});let r=e[40]!==e[32].outcomes.length-1&&gt();return{c(){Vt(t.$$.fragment),l=T(),r&&r.c(),i=Y()},l(s){Dt(t.$$.fragment,s),l=W(s),r&&r.l(s),i=Y()},m(s,a){Ot(t,s,a),S(s,l,a),r&&r.m(s,a),S(s,i,a),n=!0},p(s,a){const u={};a[0]&65&&(u.outcomeData=s[36]),a[0]&65&&(u.settings=s[32].settings),a[0]&4&&(u.userRole=s[2]),a[0]&65&&(u.totalPercentage=s[35]),t.$set(u),s[40]!==s[32].outcomes.length-1?r||(r=gt(),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},i(s){n||(j(t.$$.fragment,s),n=!0)},o(s){q(t.$$.fragment,s),n=!1},d(s){s&&(p(l),p(i)),Tt(t,s),r&&r.d(s)}}}function vt(e){let t,l,i=te(e[32].outcomes),n=[];for(let s=0;s<i.length;s+=1)n[s]=_t(Ze(e,i,s));const r=s=>q(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=Y()},l(s){for(let a=0;a<n.length;a+=1)n[a].l(s);t=Y()},m(s,a){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(s,a);S(s,t,a),l=!0},p(s,a){if(a[0]&1093){i=te(s[32].outcomes);let u;for(u=0;u<i.length;u+=1){const v=Ze(s,i,u);n[u]?(n[u].p(v,a),j(n[u],1)):(n[u]=_t(v),n[u].c(),j(n[u],1),n[u].m(t.parentNode,t))}for(oe(),u=i.length;u<n.length;u+=1)r(u);ae()}},i(s){if(!l){for(let a=0;a<i.length;a+=1)j(n[a]);l=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)q(n[a]);l=!1},d(s){s&&p(t),de(n,s)}}}function At(e){let t,l,i,n='<div>Outcomes</div> <div class="caption mb-2">View possible outcomes for the wheel</div>',r,s,a,u,v,_=e[32].note!==void 0&&ht(Ve(e));function c(d,A){return d[32].settings.hiddenOutcomes===!0?Si:Ei}let o=c(e),h=o(e),f=e[32].outcomes.length>0&&dt(e);return{c(){_&&_.c(),t=T(),l=C("div"),i=C("div"),i.innerHTML=n,r=T(),s=C("div"),h.c(),a=T(),f&&f.c(),u=Y(),this.h()},l(d){_&&_.l(d),t=W(d),l=R(d,"DIV",{class:!0});var A=k(l);i=R(A,"DIV",{"data-svelte-h":!0}),ee(i)!=="svelte-4yn6as"&&(i.innerHTML=n),r=W(A),s=R(A,"DIV",{class:!0});var b=k(s);h.l(b),b.forEach(p),A.forEach(p),a=W(d),f&&f.l(d),u=Y(),this.h()},h(){E(s,"class","text-right"),E(l,"class","flex flex-row justify-between")},m(d,A){_&&_.m(d,A),S(d,t,A),S(d,l,A),y(l,i),y(l,r),y(l,s),h.m(s,null),S(d,a,A),f&&f.m(d,A),S(d,u,A),v=!0},p(d,A){d[32].note!==void 0?_?_.p(Ve(d),A):(_=ht(Ve(d)),_.c(),_.m(t.parentNode,t)):_&&(_.d(1),_=null),o===(o=c(d))&&h?h.p(d,A):(h.d(1),h=o(d),h&&(h.c(),h.m(s,null))),d[32].outcomes.length>0?f?(f.p(d,A),A[0]&65&&j(f,1)):(f=dt(d),f.c(),j(f,1),f.m(u.parentNode,u)):f&&(oe(),q(f,1,1,()=>{f=null}),ae())},i(d){v||(j(f),v=!0)},o(d){q(f),v=!1},d(d){d&&(p(t),p(l),p(a),p(u)),_&&_.d(d),h.d(),f&&f.d(d)}}}function ki(e){let t,l=e[0],i,n,r=Lt(e);return{c(){t=C("div"),r.c(),this.h()},l(s){t=R(s,"DIV",{class:!0,style:!0});var a=k(t);r.l(a),a.forEach(p),this.h()},h(){E(t,"class","h-full flex flex-col ml-4"),E(t,"style",i=`width: calc(${e[5]*1.2}px * 1.0)`)},m(s,a){S(s,t,a),r.m(t,null),n=!0},p(s,a){a[0]&1&&ce(l,l=s[0])?(oe(),q(r,1,1,re),ae(),r=Lt(s),r.c(),j(r,1),r.m(t,null)):r.p(s,a),(!n||a[0]&32&&i!==(i=`width: calc(${s[5]*1.2}px * 1.0)`))&&E(t,"style",i)},i(s){n||(j(r),n=!0)},o(s){q(r),n=!1},d(s){s&&p(t),r.d(s)}}}function mt(e){let t,l,i,n,r,s,a,u,v=te(e[41]),_=[];for(let c=0;c<v.length;c+=1)_[c]=pt(Ge(e,v,c));return{c(){t=C("div");for(let c=0;c<_.length;c+=1)_[c].c();l=T(),i=C("div"),n=H("Signed, "),r=H(e[3]),s=H("~"),a=T(),u=C("hr"),this.h()},l(c){t=R(c,"DIV",{class:!0});var o=k(t);for(let f=0;f<_.length;f+=1)_[f].l(o);l=W(o),i=R(o,"DIV",{class:!0});var h=k(i);n=U(h,"Signed, "),r=U(h,e[3]),s=U(h,"~"),h.forEach(p),o.forEach(p),a=W(c),u=R(c,"HR",{}),this.h()},h(){E(i,"class","text-right"),E(t,"class","space-y-[0.375em]")},m(c,o){S(c,t,o);for(let h=0;h<_.length;h+=1)_[h]&&_[h].m(t,null);y(t,l),y(t,i),y(i,n),y(i,r),y(i,s),S(c,a,o),S(c,u,o)},p(c,o){if(o[0]&65){v=te(c[41]);let h;for(h=0;h<v.length;h+=1){const f=Ge(c,v,h);_[h]?_[h].p(f,o):(_[h]=pt(f),_[h].c(),_[h].m(t,l))}for(;h<_.length;h+=1)_[h].d(1);_.length=v.length}o[0]&8&&le(r,c[3])},d(c){c&&(p(t),p(a),p(u)),de(_,c)}}}function pt(e){let t,l=e[42]+"",i;return{c(){t=C("div"),i=H(l),this.h()},l(n){t=R(n,"DIV",{class:!0});var r=k(t);i=U(r,l),r.forEach(p),this.h()},h(){E(t,"class","caption leading-5")},m(n,r){S(n,t,r),y(t,i)},p(n,r){r[0]&65&&l!==(l=n[42]+"")&&le(i,l)},d(n){n&&p(t)}}}function Mi(e){let t,l,i=e[32].settings.hiddenEffects===!0&&bt(),n=e[32].settings.hiddenPercentages===!0&&wt();return{c(){i&&i.c(),t=T(),n&&n.c(),l=Y()},l(r){i&&i.l(r),t=W(r),n&&n.l(r),l=Y()},m(r,s){i&&i.m(r,s),S(r,t,s),n&&n.m(r,s),S(r,l,s)},p(r,s){r[32].settings.hiddenEffects===!0?i||(i=bt(),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),r[32].settings.hiddenPercentages===!0?n||(n=wt(),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(r){r&&(p(t),p(l)),i&&i.d(r),n&&n.d(r)}}}function xi(e){let t,l="❗ Outcomes Hidden ❗";return{c(){t=C("div"),t.textContent=l,this.h()},l(i){t=R(i,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-fmdfs4"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,n){S(i,t,n)},p:re,d(i){i&&p(t)}}}function bt(e){let t,l="❗ Effects Hidden ❗";return{c(){t=C("div"),t.textContent=l,this.h()},l(i){t=R(i,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-136ba5r"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,n){S(i,t,n)},d(i){i&&p(t)}}}function wt(e){let t,l="❗ Percentages Hidden ❗";return{c(){t=C("div"),t.textContent=l,this.h()},l(i){t=R(i,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1k907vu"&&(t.textContent=l),this.h()},h(){E(t,"class","w-[14em] min-h-[1em]")},m(i,n){S(i,t,n)},d(i){i&&p(t)}}}function yt(e){let t,l,i=e[6],n,r=Rt(e);return{c(){t=C("div"),l=C("div"),r.c(),this.h()},l(s){t=R(s,"DIV",{class:!0});var a=k(t);l=R(a,"DIV",{class:!0});var u=k(l);r.l(u),u.forEach(p),a.forEach(p),this.h()},h(){E(l,"class","flex flex-col space-y-1 items-stretch"),E(t,"class","card-content outcomes-list svelte-nhh4rm")},m(s,a){S(s,t,a),y(t,l),r.m(l,null),n=!0},p(s,a){a[0]&64&&ce(i,i=s[6])?(oe(),q(r,1,1,re),ae(),r=Rt(s),r.c(),j(r,1),r.m(l,null)):r.p(s,a)},i(s){n||(j(r),n=!0)},o(s){q(r),n=!1},d(s){s&&p(t),r.d(s)}}}function It(e){let t;return{c(){t=C("hr"),this.h()},l(l){t=R(l,"HR",{class:!0}),this.h()},h(){E(t,"class","mt-0.5 mb-0.5")},m(l,i){S(l,t,i)},d(l){l&&p(t)}}}function Ct(e){let t,l,i,n;t=new Nt({props:{outcomeData:e[36],settings:e[32].settings,userRole:e[2],totalPercentage:e[35],color:e[38]}});let r=e[40]!==e[32].outcomes.length-1&&It();return{c(){Vt(t.$$.fragment),l=T(),r&&r.c(),i=Y()},l(s){Dt(t.$$.fragment,s),l=W(s),r&&r.l(s),i=Y()},m(s,a){Ot(t,s,a),S(s,l,a),r&&r.m(s,a),S(s,i,a),n=!0},p(s,a){const u={};a[0]&65&&(u.outcomeData=s[36]),a[0]&65&&(u.settings=s[32].settings),a[0]&4&&(u.userRole=s[2]),a[0]&65&&(u.totalPercentage=s[35]),t.$set(u),s[40]!==s[32].outcomes.length-1?r||(r=It(),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},i(s){n||(j(t.$$.fragment,s),n=!0)},o(s){q(t.$$.fragment,s),n=!1},d(s){s&&(p(l),p(i)),Tt(t,s),r&&r.d(s)}}}function Rt(e){let t,l,i=te(e[32].outcomes),n=[];for(let s=0;s<i.length;s+=1)n[s]=Ct(Qe(e,i,s));const r=s=>q(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=Y()},l(s){for(let a=0;a<n.length;a+=1)n[a].l(s);t=Y()},m(s,a){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(s,a);S(s,t,a),l=!0},p(s,a){if(a[0]&1093){i=te(s[32].outcomes);let u;for(u=0;u<i.length;u+=1){const v=Qe(s,i,u);n[u]?(n[u].p(v,a),j(n[u],1)):(n[u]=Ct(v),n[u].c(),j(n[u],1),n[u].m(t.parentNode,t))}for(oe(),u=i.length;u<n.length;u+=1)r(u);ae()}},i(s){if(!l){for(let a=0;a<i.length;a+=1)j(n[a]);l=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)q(n[a]);l=!1},d(s){s&&p(t),de(n,s)}}}function Lt(e){let t,l,i,n='<div>Outcomes</div> <div class="caption mb-2">View possible outcomes for the wheel</div>',r,s,a,u,v,_=e[32].note!==void 0&&mt(xe(e));function c(d,A){return d[32].settings.hiddenOutcomes===!0?xi:Mi}let o=c(e),h=o(e),f=e[32].outcomes.length>0&&yt(e);return{c(){_&&_.c(),t=T(),l=C("div"),i=C("div"),i.innerHTML=n,r=T(),s=C("div"),h.c(),a=T(),f&&f.c(),u=Y(),this.h()},l(d){_&&_.l(d),t=W(d),l=R(d,"DIV",{class:!0});var A=k(l);i=R(A,"DIV",{"data-svelte-h":!0}),ee(i)!=="svelte-1jjgdd0"&&(i.innerHTML=n),r=W(A),s=R(A,"DIV",{class:!0});var b=k(s);h.l(b),b.forEach(p),A.forEach(p),a=W(d),f&&f.l(d),u=Y(),this.h()},h(){E(s,"class","text-right"),E(l,"class","flex flex-row justify-between")},m(d,A){_&&_.m(d,A),S(d,t,A),S(d,l,A),y(l,i),y(l,r),y(l,s),h.m(s,null),S(d,a,A),f&&f.m(d,A),S(d,u,A),v=!0},p(d,A){d[32].note!==void 0?_?_.p(xe(d),A):(_=mt(xe(d)),_.c(),_.m(t.parentNode,t)):_&&(_.d(1),_=null),o===(o=c(d))&&h?h.p(d,A):(h.d(1),h=o(d),h&&(h.c(),h.m(s,null))),d[32].outcomes.length>0?f?(f.p(d,A),A[0]&65&&j(f,1)):(f=yt(d),f.c(),j(f,1),f.m(u.parentNode,u)):f&&(oe(),q(f,1,1,()=>{f=null}),ae())},i(d){v||(j(f),v=!0)},o(d){q(f),v=!1},d(d){d&&(p(t),p(l),p(a),p(u)),_&&_.d(d),h.d(),f&&f.d(d)}}}function Vi(e){let t,l,i,n;const r=[Ri,Ci],s=[];function a(v,_){return v[1]!==""?0:v[0]!==void 0?1:-1}function u(v,_){return _===1?Ii(v):v}return~(l=a(e))&&(i=s[l]=r[l](u(e,l))),{c(){t=C("div"),i&&i.c(),this.h()},l(v){t=R(v,"DIV",{class:!0});var _=k(t);i&&i.l(_),_.forEach(p),this.h()},h(){E(t,"class","container-bg min-w-0 min-h-0 p-4 space-y-2 grow svelte-nhh4rm")},m(v,_){S(v,t,_),~l&&s[l].m(t,null),n=!0},p(v,_){let c=l;l=a(v),l===c?~l&&s[l].p(u(v,l),_):(i&&(oe(),q(s[c],1,1,()=>{s[c]=null}),ae()),~l?(i=s[l],i?i.p(u(v,l),_):(i=s[l]=r[l](u(v,l)),i.c()),j(i,1),i.m(t,null)):i=null)},i(v){n||(j(i),n=!0)},o(v){q(i),n=!1},d(v){v&&p(t),~l&&s[l].d()}}}const Et="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJwbmpsYmpwY2ZlYnFwYXFrcGh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODg1NDM0NTgsImV4cCI6MjAwNDExOTQ1OH0.CsGySz2c8bIWphE6--T51CsmSeBQajfwvBYfTkjviM4",St="https://bpnjlbjpcfebqpaqkphy.supabase.co/functions/v1/chaster_utilities";function Di(e,t,l){let i,n,r,s,a;const u=["#fecaca","#fed7aa","#fde68a","#d9f99d","#bbf7d0","#a7f3d0","#99f6e4","#a5f3fc","#bae6fd","#bfdbfe","#c7d2fe","#ddd6fe","#e9d5ff","#f5d0fe","#fbcfe8","#fecdd3"],v=[{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1}],_=Array(32).fill(0).map(O=>{const B=new Audio($t);return B.volume=.3,B});let c="Loading extension data...",o,h="",f="keyholder",d,A=ye({wheels:{}});we(e,A,O=>l(6,i=O));let b=ye({wheels:{}});we(e,b,O=>l(26,r=O));let L="";Ft(async()=>{L=window.location.hash.substring(1).split("?")[0];const O=window.location.search,B=new URLSearchParams(O);if(L!=="")h=JSON.parse(decodeURIComponent(L)).mainToken;else{const F=B.get("state");F!==null&&(h=JSON.parse(decodeURIComponent(F)).mainToken)}l(1,c="Retrieving extended wheel data...");const J=await Ae();l(3,d=J.keyholder),l(2,f=J.userRole),se(A,i=J.config,i),se(b,r=J.customData,r),l(0,o=Object.keys(i.wheels)[0]??void 0),l(1,c="")});let m=ye("");we(e,m,O=>l(9,a=O));function g(){if(o===void 0)return;const O=r.wheels[o];if(O===void 0)se(m,a="",a);else{const B=i.wheels[o];if(B.regularity.mode==="unlimited")se(m,a="",a);else{const J=new Date().getTime(),F=O.lastActionTimeMS+B.regularity.interval;se(m,a=J>F?"":Jt(Math.floor((F-J)/1e3)),a)}}}setInterval(g,200),A.subscribe(()=>{g()}),b.subscribe(()=>{g()});let w=ye(void 0);we(e,w,O=>l(7,n=O));let I=ye(void 0);we(e,I,O=>l(8,s=O));let V=!1,M,z=["",0];async function Z(){l(4,V=!0),se(I,s=void 0,s);const O=await fetch(St,{method:"POST",headers:{Authorization:`Bearer ${Et}`},body:JSON.stringify({action:"extended_wheel-spin",mainToken:h,wheelID:o})});if(O.status>200){alert(`Error spinning wheel, please contact @strawberria: ${await O.text()}`);return}const B=await O.json();B.index===void 0&&(B.index=Yt(0,16)),M.spinToItem(B.index,5e3,!1,5,1,je),setTimeout(()=>{se(I,s=B.result,s),l(4,V=!1),z=[o,M.rotation]},5100);const J=await Ae();for(;V;)await Be(100);JSON.stringify(i)!==JSON.stringify(J.config)&&se(A,i=J.config,i),se(b,r=J.customData,r)}w.subscribe(ge),A.subscribe(ge);async function Ae(){const O=await fetch(St,{method:"POST",headers:{Authorization:`Bearer ${Et}`},body:JSON.stringify({action:"extended_wheel-page",mainToken:h})});if(O.status!==200)throw console.error(`Error retrieving session data: ${await O.text()}`),new Error("error retrieving session data");return await O.json()}async function ge(){if(o===void 0)return;const O=n;if(O===void 0)return;await Be(10);const B=i.wheels[o];let J=JSON.parse(JSON.stringify(B.outcomes.map(P=>{const Q=P.text??"",ve=[Qt(Q,24),Q.length>=32?"...":""].join(""),he=parseFloat(P.percentage);return{label:ve,weight:he}})));B.settings.hiddenOutcomes&&(J=v);let F=0;z[0]==o?F=z[1]:z=["",0];const X={items:J,pointerAngle:270,isInteractive:!1,itemBackgroundColors:u,itemLabelRadiusMax:.3,itemLabelRadius:.825,itemLabelAlign:"left",itemLabelRotation:180,borderWidth:2,overlayImage:ei,rotation:F};O&&(O.innerHTML=""),M=new pi(O,X),window.wheel=M,window.ease=je;let K=0,D=!1,G;M.onSpin=()=>{let P=0,Q=30;clearInterval(G),G=setInterval(()=>{if(D===!0){clearInterval(G),D=!1;return}M._rotation>=P+Q&&(P=M._rotation,K=K+1<_.length?K+1:0,_[K].play())},10)},M.onRest=()=>{D=!0,M._rotation=M._rotation-360*Math.floor(M._rotation/360)}}let ue,_e=!/Mobi/i.test(window.navigator.userAgent);function me(O){Bt[O?"unshift":"push"](()=>{n=O,w.set(n)})}function pe(){ue=this.clientWidth,l(5,ue)}const fe=()=>{se(I,s=void 0,s)};function be(){o=Ht(this),l(0,o)}return e.$$.update=()=>{e.$$.dirty[0]&1&&g()},[o,c,f,d,V,ue,i,n,s,a,u,A,b,m,w,I,Z,_e,me,pe,fe,be]}class zi extends Mt{constructor(t){super(),xt(this,t,Di,Vi,ce,{},null,[-1,-1])}}export{zi as component,ji as universal};
