import{s as ye,n as oe,f as Te,e as me,o as yt,h as se,b as De,r as Ct,i as It,j as We}from"../chunks/scheduler.803aa159.js";import{S as _t,i as vt,g as R,m as te,s as P,h as L,j as O,n as ie,f as y,c as F,k as S,a as V,x as I,o as de,y as Se,z as be,t as X,b as Ce,d as Q,p as Ie,A as Rt,B as H,C as Pe,D as Fe,E as Lt,e as $,F as Ne,r as St,u as xt,v as Et,w as Mt}from"../chunks/index.78bf47b2.js";import{e as he}from"../chunks/each.e59479a4.js";import{w as pe}from"../chunks/index.636016b2.js";import{c as kt}from"../chunks/logo.09e82b80.js";import{g as mt,a as Vt,r as Ot,s as Be,t as Tt}from"../chunks/utility.dd962d50.js";import{c as Dt,g as Wt}from"../chunks/_commonjsHelpers.de833af9.js";const Pt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Ft=!0,Mi=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ft},Symbol.toStringTag,{value:"Module"}));var Nt=Math.PI;function je(e){return(1-Math.cos(Nt*e))/2}const Bt="data:audio/mpeg;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAAGAAAJXgA1NTU1NTU1NTU1NTU1NTU1ZWVlZWVlZWVlZWVlZWVlZWWUlJSUlJSUlJSUlJSUlJSUvLy8vLy8vLy8vLy8vLy8vLzr6+vr6+vr6+vr6+vr6+vr6/////////////////////8AAAA8TEFNRTMuOThyBK8AAAAAAAAAADQgJARVTQABzAAACV5qzv9nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQZAAAATMQ1O0EQAgPYAm9oAABG805T/mtgADqguh/BAABEEAjFAAADHGAGD5jHGP6nzuhAAABDLg+H3f4IBg5//4IBj//+sPgAAAAccfgAD//P9P+n/B+3qFswUAAAAAAFAApABz4A4UQ9mA3DcaLg0Ep2NPDVAjYMwwqYEkuhsSPiE5ONw00090HxAFgYIljft+YgKCEVMtTTOrUmgQABGYKoCQTFwEBDjTZ4xgkMiIQIDhgq3RmE2/RfBYkUhuXpMwpgNGuKGovKa0tzd9w7YOB32LcJ7BwgYKAAkODAZeUM3m5uxTvwwd+6epzNx2nWnilC6ZbANXGGq+6XVjkvt9p5XPuFG7j9SyHqGQu9rL5m9v86XdPbhyKTl6n7rjvvK7sM1WsxKerVeR2mh7u8a1qVNo2AwMzs0Qrqrqy673fbagAAaJu5nHFpYVDDhvCZbttbmm7/H3kgfTrfDf1uX+A733ksZpTcv//LM8a/mkImrchAAAAAA+/xaA5j3FqOhNFzUy5qq2imZd8Sp3+lbhMCLvI9LVAnpEikRD8//uAZBcCBIY/UX8/IAgj4Aov4AABD8j1R+y9FSC7AGi8AAAECuS0pUtK0llKmMFtNaq/j8UUNuksx94YgvL6suo7Mst4TsuqfepbsJbxOhk6KBECj9W7Uq73nz+ZaxpJRnjq7+OpVrWGd7X5d/Wst54dtb592hwpqa0GUf20LQ/lE4Q/9/e4IiZAAAHwwEc4iU4Eg5/rsn/1iq2///2q9n+r/XFxQ23IFSFABeTKkAAAP///jKS5fgQDN6mI2rZoq1mQUkiv50Vm9MzMZpIBXSiec7AOCA+OTCU2lEm59rqZYwZSAYrI2V+4QT+zdubfM6cpq189HM6NnmUqvN5uSvbn2f4VCJOJNQi/xzRdRxr1aLx1NRYVFoZLf7yrXwPi3erzCd+5IhqUETIBAO4a3iS/Flh1+vUtj8iL7KKK63Magh//fzy3Xaqdn9rFMXUfIJNi7Vbl/1IAq5hVEAAAAL////B3XxLiNDaO9TP/+4BkCoID50HR+wwtuCjAGi8AAAEN6P9H7DBW4J8C6LwAjAypNEo5Fn6l1LnUlEqz+dgp5hgYjk3RbENsjiVHQYVK0hHtkSIYFnuJXTg+crRxWiVK2fn6rjg6qYgdOxHLp78J7nuc6reiJUpxBqTSyxEs8w2HDgQYHUYgk4qSlP8VeR2a0+pO/0MTIhETIAAM/1oonCUGgoz6VSNayD1IX1im1dn/fs2f/f/03iI22cHjVldABdZKoQASv///qX8GiLApaQ802im3Yo6CplWqWqa1+MkdkcGkKiiXxZM5TOoVDPr4tTshy5C6an8C66yuzBHZq7dfmrrlVilpU2TapvmZ9tTmM5QqUdSt/NrZ8zhWEiSBmPJ/wWS9Ax5reN0f2/VSEBNSwPIAAUC8F0GAQtMc0sY////Fk1q///9Kn07Dcje1rzZIipWdXQAKmFZSAAkSb9qH6JqyrlGysKty1MMZnULXBiw2OEpxgP/7cGQQgANbP1H4D0F4LOCKLwAjAwu8+0XnoLUgw4LovACIHBWvweEIcUcNEjuZfklIUWTA81buLzFj+FJGuDUxkB4RiG/9YopFmxbgTzyQSJq/////jFjiBCNEdHKJNnUzhvh5ehqRY67xbsf9ARNxExAAKBBdwehFaMHyBhH/s//q7v+eduYm9bRYWQsVY5o/OK4utBIXLrEqQAJqncgAAIK37///FpY1bSqxILqNufLLifWGxs2GMEiVhJNJ0JVKVxDKKPLQsdvUXsdKfMRE25BIOCxx+x9f5+qshtpTB3+v/4wDhgvlzO/TFVBh6LUsTNK/eS99NQPMzcBABhsLtxANiTg3PoCjPmP76Er//Go3c0GWWLisS4DIRbHGFWF5hbiTDbSZQ0oAAAqIMABBDf+/9VUQYpD/+4BkB4AC/j7RfSmgCDxgCi+gAAEPhLtB+QyAAO6OJ/8GMAAsFI8YmmikWOJLPlgJscI9x6HC7SQPop2WgszQNz1aaamo7KZBKgkgZl0mImpyttTdk0VHmbVfpf//2MkyRMH62rACWREsm6HSzMXb+v9atqwiKmpgGkAabf+wi0NJNNdt7P/79p/T0aMwI4s8SjBjTodSDRp4yUIoHRwbNOBB54OsteJbEGPktSNzU8kAMARE0b2gEwy97dvwMAAB6RMeTguQkQShIyABYQF6ILnIJhkOJPDeXmUOsilUegeLDgT6pDKHMCycyDY5SA4tH0SRREm3dhyW0sHvBTx24/DFpGzzkP1pc3s1lL6ahglyuwZPuGzht2Kudy1S5/8DUU7TVP+TAsCv/xeH1VWdnd1aEWEV7fX9sLQAACI16RjEyk5Bu1yQYNxtFJWPnE0UmY76JD4OKGGDjm04mkwFUDyixVxb7J3WN3qqqf/7MGQCD/LPJNB/MGAKFyAJneAAAQAAAaQAAAAgAAA0gAAABFIUV7v+MsfLv0kg1BEGxOjORBBqTT2BQEBAVXZlUtVVV1VVUuKqqq/4ldmZuMzeqgLBQUFPChuIKDHdBXYgorgSC+FBX5BQV8IK///zf6CgrugruBIKAAAAB/hRgAP/57iLr/iUFf/KgqCoKh1MQU1FMy45OC40qg==",jt=""+new URL("../assets/wheel-bg-overlay.1f6ec841.svg",import.meta.url).href;var zt=Object.defineProperty,ze=Object.getOwnPropertySymbols,Ut=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable,xe=Math.pow,Ue=(e,t,i)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Ee=(e,t)=>{for(var i in t||(t={}))Ut.call(t,i)&&Ue(e,i,t[i]);if(ze)for(var i of ze(t))Ht.call(t,i)&&Ue(e,i,t[i]);return e};function qt(e=0,t=0,i=14){return parseFloat((Math.random()*(t-e)+e).toFixed(i))}function Z(e=0){return e*Math.PI/180}function Jt(e,t,i){return t<i?t<=e&&e<i:t<=e||e<i}function Yt(e,t,i,l){l.save(),l.font=`1px ${t}`;let s=l.measureText(e).width;return l.restore(),i/s}function Qt(e={x:0,y:0},t,i,l){return xe(e.x-t,2)+xe(e.y-i,2)<=xe(l,2)}function Me(e={x:0,y:0},t={},i=1){let l=t.getBoundingClientRect();return{x:(e.x-l.left)*i,y:(e.y-l.top)*i}}function Gt(e,t,i,l){let s=e-i,r=t-l,n=Math.atan2(-r,-s);return n*=180/Math.PI,n<0&&(n+=360),n}function Kt(e=0,t=0){let i=e+t,l;return i>0?l=i%360:l=360+i%360,l===360&&(l=0),l}function Zt(e=0,t=0){let i=180-t;return 180-Kt(e,i)}function Xt(e=0,t=0,i=1){let l=(e%360+t)%360;return l=$t(l),l=(i===1?360-l:360+l)%360,l*=i,e+l}function Le(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}function Y(e){return typeof e=="number"&&!Number.isNaN(e)}function D({val:e,isValid:t,errorMessage:i,defaultValue:l,action:s=null}){if(t)return s?s():e;if(e===void 0)return l;throw new Error(i)}function He(e){return e&&e.complete&&e.naturalWidth!==0&&e.naturalHeight!==0}function $t(e=0){return Number(e.toFixed(9))}function ei(e){return Math.sin(e*Math.PI/2)}var ti=Object.freeze({left:"left",right:"right",center:"center"}),k=Object.freeze({wheel:{borderColor:"#000",borderWidth:1,debug:!1,image:null,isInteractive:!0,itemBackgroundColors:["#fff"],itemLabelAlign:ti.right,itemLabelBaselineOffset:0,itemLabelColors:["#000"],itemLabelFont:"sans-serif",itemLabelFontSizeMax:500,itemLabelRadius:.85,itemLabelRadiusMax:.2,itemLabelRotation:0,items:[],lineColor:"#000",lineWidth:1,pixelRatio:0,radius:.95,rotation:0,rotationResistance:-35,rotationSpeedMax:300,offset:{w:0,h:0},onCurrentIndexChange:null,onRest:null,onSpin:null,overlayImage:null,pointerAngle:0},item:{backgroundColor:null,image:null,imageRadius:.5,imageRotation:0,imageScale:1,label:"",labelColor:null,labelFont:null,weight:1}}),we=Object.freeze({pointerLineColor:"#ff00ff",labelOutlineColor:"#ff00ff",labelRadiusColor:"#00ff00",dragEventHue:200});function ii(e={}){si(e),e._handler_onResize=e.resize.bind(e),window.addEventListener("resize",e._handler_onResize)}function li(e={}){let t=e.canvas;"PointerEvent"in window?(t.removeEventListener("pointerdown",e._handler_onPointerDown),t.removeEventListener("pointermove",e._handler_onPointerMoveRefreshCursor)):(t.removeEventListener("touchstart",e._handler_onTouchStart),t.removeEventListener("mousedown",e._handler_onMouseDown),t.removeEventListener("mousemove",e._handler_onMouseMoveRefreshCursor)),window.removeEventListener("resize",e._handler_onResize)}function si(e={}){let t=e.canvas;e._handler_onPointerMoveRefreshCursor=(i={})=>{let l={x:i.clientX,y:i.clientY};e.isCursorOverWheel=e.wheelHitTest(l),e.refreshCursor()},e._handler_onMouseMoveRefreshCursor=(i={})=>{let l={x:i.clientX,y:i.clientY};e.isCursorOverWheel=e.wheelHitTest(l),e.refreshCursor()},e._handler_onPointerDown=(i={})=>{let l={x:i.clientX,y:i.clientY};if(!e.isInteractive||!e.wheelHitTest(l))return;i.preventDefault(),e.dragStart(l),t.setPointerCapture(i.pointerId),t.addEventListener("pointermove",s),t.addEventListener("pointerup",r),t.addEventListener("pointercancel",r),t.addEventListener("pointerout",r);function s(n={}){n.preventDefault(),e.dragMove({x:n.clientX,y:n.clientY})}function r(n={}){n.preventDefault(),t.releasePointerCapture(n.pointerId),t.removeEventListener("pointermove",s),t.removeEventListener("pointerup",r),t.removeEventListener("pointercancel",r),t.removeEventListener("pointerout",r),e.dragEnd()}},e._handler_onMouseDown=(i={})=>{let l={x:i.clientX,y:i.clientY};if(!e.isInteractive||!e.wheelHitTest(l))return;e.dragStart(l),document.addEventListener("mousemove",s),document.addEventListener("mouseup",r);function s(n={}){n.preventDefault(),e.dragMove({x:n.clientX,y:n.clientY})}function r(n={}){n.preventDefault(),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",r),e.dragEnd()}},e._handler_onTouchStart=(i={})=>{let l={x:i.targetTouches[0].clientX,y:i.targetTouches[0].clientY};if(!e.isInteractive||!e.wheelHitTest(l))return;i.preventDefault(),e.dragStart(l),t.addEventListener("touchmove",s),t.addEventListener("touchend",r),t.addEventListener("touchcancel",r);function s(n={}){n.preventDefault(),e.dragMove({x:n.targetTouches[0].clientX,y:n.targetTouches[0].clientY})}function r(n={}){n.preventDefault(),t.removeEventListener("touchmove",s),t.removeEventListener("touchend",r),t.removeEventListener("touchcancel",r),e.dragEnd()}},"PointerEvent"in window?(t.addEventListener("pointerdown",e._handler_onPointerDown),t.addEventListener("pointermove",e._handler_onPointerMoveRefreshCursor)):(t.addEventListener("touchstart",e._handler_onTouchStart),t.addEventListener("mousedown",e._handler_onMouseDown),t.addEventListener("mousemove",e._handler_onMouseMoveRefreshCursor))}var ni=class{constructor(e,t={}){if(!Le(e))throw new Error("wheel must be an instance of Wheel");if(!Le(t)&&t!==null)throw new Error("props must be an Object or null");this._wheel=e;for(let i of Object.keys(k.item))this["_"+i]=k.item[i];t?this.init(t):this.init(k.item)}init(e={}){this.backgroundColor=e.backgroundColor,this.image=e.image,this.imageRadius=e.imageRadius,this.imageRotation=e.imageRotation,this.imageScale=e.imageScale,this.label=e.label,this.labelColor=e.labelColor,this.value=e.value,this.weight=e.weight}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){typeof e=="string"?this._backgroundColor=e:this._backgroundColor=k.item.backgroundColor,this._wheel.refresh()}get image(){return this._image}set image(e){let t;typeof e=="string"?(t=new Image,t.src=e,t.onload=i=>this._wheel.refresh()):t=k.item.image,this._image=t,this._wheel.refresh()}get imageRadius(){return this._imageRadius}set imageRadius(e){typeof e=="number"?this._imageRadius=e:this._imageRadius=k.item.imageRadius,this._wheel.refresh()}get imageRotation(){return this._imageRotation}set imageRotation(e){typeof e=="number"?this._imageRotation=e:this._imageRotation=k.item.imageRotation,this._wheel.refresh()}get imageScale(){return this._imageScale}set imageScale(e){typeof e=="number"?this._imageScale=e:this._imageScale=k.item.imageScale,this._wheel.refresh()}get label(){return this._label}set label(e){typeof e=="string"?this._label=e:this._label=k.item.label,this._wheel.refresh()}get labelColor(){return this._labelColor}set labelColor(e){typeof e=="string"?this._labelColor=e:this._labelColor=k.item.labelColor,this._wheel.refresh()}get value(){return this._value}set value(e){this._value=e}get weight(){return this._weight}set weight(e){typeof e=="number"?this._weight=e:this._weight=k.item.weight}getIndex(){let e=this._wheel.items.findIndex(t=>t===this);if(e===-1)throw new Error("Item not found in parent Wheel");return e}getCenterAngle(){let e=this._wheel.getItemAngles()[this.getIndex()];return e.start+(e.end-e.start)/2}getStartAngle(){return this._wheel.getItemAngles()[this.getIndex()].start}getEndAngle(){return this._wheel.getItemAngles()[this.getIndex()].end}getRandomAngle(){return qt(this.getStartAngle(),this.getEndAngle())}},ri=class{constructor(e,t={}){if(this._frameRequestId=null,this._rotationSpeed=0,this._rotationDirection=1,!(e instanceof Element))throw new Error("container must be an instance of Element");if(!Le(t)&&t!==null)throw new Error("props must be an Object or null");this._canvasContainer=e,this.canvas=document.createElement("canvas"),this._context=this.canvas.getContext("2d"),this.addCanvas(),ii(this);for(let i of Object.keys(k.wheel))this["_"+i]=k.wheel[i];t?this.init(t):this.init(k.wheel)}init(e={}){this._isInitialising=!0,this.borderColor=e.borderColor,this.borderWidth=e.borderWidth,this.debug=e.debug,this.image=e.image,this.isInteractive=e.isInteractive,this.itemBackgroundColors=e.itemBackgroundColors,this.itemLabelAlign=e.itemLabelAlign,this.itemLabelBaselineOffset=e.itemLabelBaselineOffset,this.itemLabelColors=e.itemLabelColors,this.itemLabelFont=e.itemLabelFont,this.itemLabelFontSizeMax=e.itemLabelFontSizeMax,this.itemLabelRadius=e.itemLabelRadius,this.itemLabelRadiusMax=e.itemLabelRadiusMax,this.itemLabelRotation=e.itemLabelRotation,this.items=e.items,this.lineColor=e.lineColor,this.lineWidth=e.lineWidth,this.pixelRatio=e.pixelRatio,this.rotationSpeedMax=e.rotationSpeedMax,this.radius=e.radius,this.rotation=e.rotation,this.rotationResistance=e.rotationResistance,this.offset=e.offset,this.onCurrentIndexChange=e.onCurrentIndexChange,this.onRest=e.onRest,this.onSpin=e.onSpin,this.overlayImage=e.overlayImage,this.pointerAngle=e.pointerAngle}addCanvas(){this._canvasContainer.appendChild(this.canvas)}removeCanvas(){this._canvasContainer.removeChild(this.canvas)}remove(){window.cancelAnimationFrame(this._frameRequestId),li(this),this.removeCanvas()}resize(){let[e,t]=[this._canvasContainer.clientWidth*this.getActualPixelRatio(),this._canvasContainer.clientHeight*this.getActualPixelRatio()],i=Math.min(e,t),l={w:i-i*this.offset.w,h:i-i*this.offset.h},s=Math.min(e/l.w,t/l.h);this._size=Math.max(l.w*s,l.h*s),this.canvas.style.width=this._canvasContainer.clientWidth+"px",this.canvas.style.height=this._canvasContainer.clientHeight+"px",this.canvas.width=e,this.canvas.height=t,this._center={x:e/2+e*this.offset.w,y:t/2+t*this.offset.h},this._actualRadius=this._size/2*this.radius,this.itemLabelFontSize=this.itemLabelFontSizeMax*(this._size/500),this.labelMaxWidth=this._actualRadius*(this.itemLabelRadius-this.itemLabelRadiusMax);for(let r of this._items)this.itemLabelFontSize=Math.min(this.itemLabelFontSize,Yt(r.label,this.itemLabelFont,this.labelMaxWidth,this._context));this.refresh()}draw(e=0){this._frameRequestId=null;let t=this._context;t.clearRect(0,0,this.canvas.width,this.canvas.height),this.animateRotation(e);let i=this.getItemAngles(this._rotation),l=this.getActualBorderWidth();t.textBaseline="middle",t.textAlign=this.itemLabelAlign,t.font=this.itemLabelFontSize+"px "+this.itemLabelFont,t.save();for(let[s,r]of i.entries()){let n=new Path2D;n.moveTo(this._center.x,this._center.y),n.arc(this._center.x,this._center.y,this._actualRadius-l/2,Z(r.start+-90),Z(r.end+-90)),this._items[s].path=n}this.drawItemBackgrounds(t,i),this.drawItemImages(t,i),this.drawItemLines(t,i),this.drawItemLabels(t,i),this.drawBorder(t),this.drawImage(t,this._image,!1),this.drawImage(t,this._overlayImage,!0),this.drawPointerLine(t),this.drawDragEvents(t),this._isInitialising=!1}drawItemBackgrounds(e,t=[]){var i;for(let[l,s]of t.entries()){let r=this._items[l];e.fillStyle=(i=r.backgroundColor)!=null?i:this.itemBackgroundColors[l%this.itemBackgroundColors.length],e.fill(r.path)}}drawItemImages(e,t=[]){for(let[i,l]of t.entries()){let s=this._items[i];if(!He(s.image))return;e.save(),e.clip(s.path);let r=l.start+(l.end-l.start)/2;e.translate(this._center.x+Math.cos(Z(r+-90))*(this._actualRadius*s.imageRadius),this._center.y+Math.sin(Z(r+-90))*(this._actualRadius*s.imageRadius)),e.rotate(Z(r+s.imageRotation));let n=this._size/500*s.image.width*s.imageScale,u=this._size/500*s.image.height*s.imageScale,g=-n/2,m=-u/2;e.drawImage(s.image,g,m,n,u),e.restore()}}drawImage(e,t,i=!1){if(!He(t))return;e.translate(this._center.x,this._center.y),i||e.rotate(Z(this._rotation));let l=i?this._size:this._size*this.radius,s=-(l/2);e.drawImage(t,s,s,l,l),e.resetTransform()}drawPointerLine(e){!this.debug||(e.translate(this._center.x,this._center.y),e.rotate(Z(this._pointerAngle+-90)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius*2,0),e.strokeStyle=we.pointerLineColor,e.lineWidth=2,e.stroke(),e.resetTransform())}drawBorder(e){if(this.borderWidth<=0)return;let t=this.getActualBorderWidth(),i=this._borderColor||"transparent";e.beginPath(),e.strokeStyle=i,e.lineWidth=t,e.arc(this._center.x,this._center.y,this._actualRadius-t/2,0,2*Math.PI),e.stroke(),this.debug&&(e.beginPath(),e.strokeStyle=e.strokeStyle=we.labelRadiusColor,e.lineWidth=1,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadius,0,2*Math.PI),e.stroke(),e.beginPath(),e.strokeStyle=e.strokeStyle=we.labelRadiusColor,e.lineWidth=1,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadiusMax,0,2*Math.PI),e.stroke())}drawItemLines(e,t=[]){if(this.lineWidth<=0)return;let i=this.lineWidth/500*this._size,l=this.getActualBorderWidth();e.translate(this._center.x,this._center.y);for(let s of t)e.rotate(Z(s.start+-90)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius-l,0),e.strokeStyle=this.lineColor,e.lineWidth=i,e.stroke(),e.rotate(-Z(s.start+-90));e.resetTransform()}drawItemLabels(e,t=[]){let i=this.itemLabelFontSize*-this.itemLabelBaselineOffset;for(let[l,s]of t.entries()){let r=this._items[l],n=r.labelColor||this._itemLabelColors[l%this._itemLabelColors.length]||"transparent";if(r.label.trim()===""||n==="transparent")continue;e.save(),e.clip(r.path);let u=s.start+(s.end-s.start)/2;e.translate(this._center.x+Math.cos(Z(u+-90))*(this._actualRadius*this.itemLabelRadius),this._center.y+Math.sin(Z(u+-90))*(this._actualRadius*this.itemLabelRadius)),e.rotate(Z(u+-90)),e.rotate(Z(this.itemLabelRotation)),this.debug&&(e.beginPath(),e.moveTo(0,0),e.lineTo(-this.labelMaxWidth,0),e.strokeStyle=we.labelOutlineColor,e.lineWidth=1,e.stroke(),e.strokeRect(0,-this.itemLabelFontSize/2,-this.labelMaxWidth,this.itemLabelFontSize)),e.fillStyle=n,e.fillText(r.label,0,i),e.restore()}}drawDragEvents(e){var t;if(!this.debug||!((t=this.dragEvents)!=null&&t.length))return;let i=[...this.dragEvents].reverse();for(let[l,s]of i.entries()){let r=l/this.dragEvents.length*100;e.beginPath(),e.arc(s.x,s.y,5,0,2*Math.PI),e.fillStyle=`hsl(${we.dragEventHue},100%,${r}%)`,e.strokeStyle="#000",e.lineWidth=.5,e.fill(),e.stroke()}}animateRotation(e=0){if(this._spinToTimeEnd){if(e>=this._spinToTimeEnd){this.rotation=this._spinToEndRotation,this._spinToTimeEnd=void 0,this.raiseEvent_onRest();return}this.refresh();let t=this._spinToTimeEnd-this._spinToTimeStart,i=(e-this._spinToTimeStart)/t;i=i<0?0:i;let l=this._spinToEndRotation-this._spinToStartRotation;this.rotation=this._spinToStartRotation+l*this._spinToEasingFunction(i);return}if(this._rotationSpeed!==0){this.refresh(),this._lastFrameTime===void 0&&(this._lastFrameTime=e);let t=e-this._lastFrameTime;t>0&&(this.rotation+=t/1e3*this._rotationSpeed%360,this._rotationSpeed=this.getRotationSpeedPlusDrag(t),this._rotationSpeed===0&&this.raiseEvent_onRest(),this._lastFrameTime=e);return}this._lastFrameTime=void 0}getRotationSpeedPlusDrag(e=0){let t=this._rotationSpeed+this.rotationResistance*(e/1e3)*this._rotationDirection;return this._rotationDirection===1&&t<0||this._rotationDirection===-1&&t>=0?0:t}spin(e=0){if(!Y(e))throw new Error("rotationSpeed must be a number");this.setSpeedSpeed(e,"spin")}spinTo(e=0,t=0,i=null){if(Number.isNaN(e))throw new Error("Error: newRotation parameter is NaN");this.stop(),this.animate(e,t,i),this.raiseEvent_onSpin({method:"spinto",targetRotation:e,duration:t})}spinToItem(e=0,t=0,i=!0,l=1,s=1,r=null){this.stop();let n=i?this.items[e].getCenterAngle():this.items[e].getRandomAngle(),u=Xt(this.rotation,n-this._pointerAngle,s);u+=l*360*s,this.animate(u,t,r),this.raiseEvent_onSpin({method:"spintoitem",targetItemIndex:e,targetRotation:u,duration:t})}animate(e,t,i){this._spinToStartRotation=this.rotation,this._spinToEndRotation=e,this._spinToTimeStart=performance.now(),this._spinToTimeEnd=this._spinToTimeStart+t,this._spinToEasingFunction=i||ei,this.refresh()}stop(){this._rotationSpeed=0,this._spinToTimeEnd=void 0}getActualBorderWidth(){return this.borderWidth/500*this._size}getActualPixelRatio(){return this._pixelRatio!==0?this._pixelRatio:window.devicePixelRatio}wheelHitTest(e={x:0,y:0}){let t=Me(e,this.canvas,this.getActualPixelRatio());return Qt(t,this._center.x,this._center.y,this._actualRadius)}refreshCursor(){if(this.isInteractive){if(this.isDragging){this.canvas.style.cursor="grabbing";return}if(this.isCursorOverWheel){this.canvas.style.cursor="grab";return}}this.canvas.style.cursor=""}getAngleFromCenter(e={x:0,y:0}){return(Gt(this._center.x,this._center.y,e.x,e.y)+90)%360}getCurrentIndex(){return this._currentIndex}refreshCurrentIndex(e=[]){this._items.length===0&&(this._currentIndex=-1);for(let[t,i]of e.entries())if(Jt(this._pointerAngle,i.start%360,i.end%360)){if(this._currentIndex===t)break;this._currentIndex=t,this._isInitialising||this.raiseEvent_onCurrentIndexChange();break}}getItemAngles(e=0){let t=0;for(let n of this.items)t+=n.weight;let i=360/t,l,s=e,r=[];for(let n of this._items)l=n.weight*i,r.push({start:s,end:s+l}),s+=l;return this._items.length>1&&(r[r.length-1].end=r[0].start+360),r}refresh(){this._frameRequestId===null&&(this._frameRequestId=window.requestAnimationFrame(this.draw.bind(this)))}limitSpeed(e=0,t=0){let i=Math.min(e,t);return Math.max(i,-t)}setSpeedSpeed(e=0,t=""){this.stop(),this._rotationSpeed=this.limitSpeed(e,this._rotationSpeedMax),this._rotationDirection=this._rotationSpeed>=0?1:-1,this._rotationSpeed!==0&&this.raiseEvent_onSpin({method:t,rotationSpeed:this._rotationSpeed,rotationResistance:this._rotationResistance}),this.refresh()}get borderColor(){return this._borderColor}set borderColor(e){this._borderColor=D({val:e,isValid:typeof e=="string",errorMessage:"Wheel.borderColor must be a string",defaultValue:k.wheel.borderColor}),this.refresh()}get borderWidth(){return this._borderWidth}set borderWidth(e){this._borderWidth=D({val:e,isValid:Y(e),errorMessage:"Wheel.borderWidth must be a number",defaultValue:k.wheel.borderWidth}),this.refresh()}get debug(){return this._debug}set debug(e){this._debug=D({val:e,isValid:typeof e=="boolean",errorMessage:"Wheel.debug must be a boolean",defaultValue:k.wheel.debug}),this.refresh()}get image(){var e,t;return(t=(e=this._image)==null?void 0:e.src)!=null?t:null}set image(e){this._image=D({val:e,isValid:typeof e=="string"||e===null,errorMessage:"Wheel.image must be a url (string) or null",defaultValue:k.wheel.image,action:()=>{if(e===null)return null;let t=new Image;return t.src=e,t.onload=i=>this.refresh(),t}}),this.refresh()}get isInteractive(){return this._isInteractive}set isInteractive(e){this._isInteractive=D({val:e,isValid:typeof e=="boolean",errorMessage:"Wheel.isInteractive must be a boolean",defaultValue:k.wheel.isInteractive}),this.refreshCursor()}get itemBackgroundColors(){return this._itemBackgroundColors}set itemBackgroundColors(e){this._itemBackgroundColors=D({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemBackgroundColors must be an array",defaultValue:k.wheel.itemBackgroundColors}),this.refresh()}get itemLabelAlign(){return this._itemLabelAlign}set itemLabelAlign(e){this._itemLabelAlign=D({val:e,isValid:typeof e=="string",errorMessage:"Wheel.itemLabelAlign must be a string",defaultValue:k.wheel.itemLabelAlign}),this.refresh()}get itemLabelBaselineOffset(){return this._itemLabelBaselineOffset}set itemLabelBaselineOffset(e){this._itemLabelBaselineOffset=D({val:e,isValid:Y(e),errorMessage:"Wheel.itemLabelBaselineOffset must be a number",defaultValue:k.wheel.itemLabelBaselineOffset}),this.resize()}get itemLabelColors(){return this._itemLabelColors}set itemLabelColors(e){this._itemLabelColors=D({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemLabelColors must be an array",defaultValue:k.wheel.itemLabelColors}),this.refresh()}get itemLabelFont(){return this._itemLabelFont}set itemLabelFont(e){this._itemLabelFont=D({val:e,isValid:typeof e=="string",errorMessage:"Wheel.itemLabelFont must be a string",defaultValue:k.wheel.itemLabelFont}),this.resize()}get itemLabelFontSizeMax(){return this._itemLabelFontSizeMax}set itemLabelFontSizeMax(e){this._itemLabelFontSizeMax=D({val:e,isValid:Y(e),errorMessage:"Wheel.itemLabelFontSizeMax must be a number",defaultValue:k.wheel.itemLabelFontSizeMax}),this.resize()}get itemLabelRadius(){return this._itemLabelRadius}set itemLabelRadius(e){this._itemLabelRadius=D({val:e,isValid:Y(e),errorMessage:"Wheel.itemLabelRadius must be a number",defaultValue:k.wheel.itemLabelRadius}),this.resize()}get itemLabelRadiusMax(){return this._itemLabelRadiusMax}set itemLabelRadiusMax(e){this._itemLabelRadiusMax=D({val:e,isValid:Y(e),errorMessage:"Wheel.itemLabelRadiusMax must be a number",defaultValue:k.wheel.itemLabelRadiusMax}),this.resize()}get itemLabelRotation(){return this._itemLabelRotation}set itemLabelRotation(e){this._itemLabelRotation=D({val:e,isValid:Y(e),errorMessage:"Wheel.itemLabelRotation must be a number",defaultValue:k.wheel.itemLabelRotation}),this.refresh()}get items(){return this._items}set items(e){this._items=D({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.items must be an array of Items",defaultValue:k.wheel.items,action:()=>{let t=[];for(let i of e)t.push(new ni(this,{backgroundColor:i.backgroundColor,image:i.image,imageRadius:i.imageRadius,imageRotation:i.imageRotation,imageScale:i.imageScale,label:i.label,labelColor:i.labelColor,value:i.value,weight:i.weight}));return t}}),this.refreshCurrentIndex(this.getItemAngles(this._rotation))}get lineColor(){return this._lineColor}set lineColor(e){this._lineColor=D({val:e,isValid:typeof e=="string",errorMessage:"Wheel.lineColor must be a string",defaultValue:k.wheel.lineColor}),this.refresh()}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=D({val:e,isValid:Y(e),errorMessage:"Wheel.lineWidth must be a number",defaultValue:k.wheel.lineWidth}),this.refresh()}get offset(){return this._offset}set offset(e){this._offset=D({val:e,isValid:Le(e),errorMessage:"Wheel.offset must be an object",defaultValue:k.wheel.offset}),this.resize()}get onCurrentIndexChange(){return this._onCurrentIndexChange}set onCurrentIndexChange(e){this._onCurrentIndexChange=D({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onCurrentIndexChange must be a function or null",defaultValue:k.wheel.onCurrentIndexChange})}get onRest(){return this._onRest}set onRest(e){this._onRest=D({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onRest must be a function or null",defaultValue:k.wheel.onRest})}get onSpin(){return this._onSpin}set onSpin(e){this._onSpin=D({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onSpin must be a function or null",defaultValue:k.wheel.onSpin})}get overlayImage(){var e,t;return(t=(e=this._overlayImage)==null?void 0:e.src)!=null?t:null}set overlayImage(e){this._overlayImage=D({val:e,isValid:typeof e=="string"||e===null,errorMessage:"Wheel.overlayImage must be a url (string) or null",defaultValue:k.wheel.overlayImage,action:()=>{if(e===null)return null;let t=new Image;return t.src=e,t.onload=i=>this.refresh(),t}}),this.refresh()}get pixelRatio(){return this._pixelRatio}set pixelRatio(e){this._pixelRatio=D({val:e,isValid:Y(e),errorMessage:"Wheel.pixelRatio must be a number",defaultValue:k.wheel.pixelRatio}),this.resize()}get pointerAngle(){return this._pointerAngle}set pointerAngle(e){this._pointerAngle=D({val:e,isValid:Y(e)&&e>=0,errorMessage:"Wheel.pointerAngle must be a number between 0 and 360",defaultValue:k.wheel.pointerAngle,action:()=>e%360}),this.debug&&this.refresh()}get radius(){return this._radius}set radius(e){this._radius=D({val:e,isValid:Y(e),errorMessage:"Wheel.radius must be a number",defaultValue:k.wheel.radius}),this.resize()}get rotation(){return this._rotation}set rotation(e){this._rotation=D({val:e,isValid:Y(e),errorMessage:"Wheel.rotation must be a number",defaultValue:k.wheel.rotation}),this.refreshCurrentIndex(this.getItemAngles(this._rotation)),this.refresh()}get rotationResistance(){return this._rotationResistance}set rotationResistance(e){this._rotationResistance=D({val:e,isValid:Y(e),errorMessage:"Wheel.rotationResistance must be a number",defaultValue:k.wheel.rotationResistance})}get rotationSpeed(){return this._rotationSpeed}get rotationSpeedMax(){return this._rotationSpeedMax}set rotationSpeedMax(e){this._rotationSpeedMax=D({val:e,isValid:Y(e)&&e>=0,errorMessage:"Wheel.rotationSpeedMax must be a number >= 0",defaultValue:k.wheel.rotationSpeedMax})}dragStart(e={x:0,y:0}){let t=Me(e,this.canvas,this.getActualPixelRatio());this.isDragging=!0,this.stop(),this.dragEvents=[{distance:0,x:t.x,y:t.y,now:performance.now()}],this.refreshCursor()}dragMove(e={x:0,y:0}){let t=Me(e,this.canvas,this.getActualPixelRatio()),i=this.getAngleFromCenter(t),l=this.dragEvents[0],s=this.getAngleFromCenter(l),r=Zt(s,i);this.dragEvents.unshift({distance:r,x:t.x,y:t.y,now:performance.now()}),this.debug&&this.dragEvents.length>=40&&this.dragEvents.pop(),this.rotation+=r}dragEnd(){this.isDragging=!1;let e=0,t=performance.now();for(let[i,l]of this.dragEvents.entries()){if(!this.isDragEventTooOld(t,l)){e+=l.distance;continue}this.dragEvents.length=i;break}this.refreshCursor(),e!==0&&this.setSpeedSpeed(e*(1e3/250),"interact")}isDragEventTooOld(e=0,t={}){return e-t.now>250}raiseEvent_onCurrentIndexChange(e={}){var t;(t=this.onCurrentIndexChange)==null||t.call(this,Ee({type:"currentIndexChange",currentIndex:this._currentIndex},e))}raiseEvent_onRest(e={}){var t;(t=this.onRest)==null||t.call(this,Ee({type:"rest",currentIndex:this._currentIndex,rotation:this._rotation},e))}raiseEvent_onSpin(e={}){var t;(t=this.onSpin)==null||t.call(this,Ee({type:"spin"},e))}},pt={exports:{}};(function(e,t){(function(l,s){e.exports=s()})(Dt,function(){return function(){var i={165:function(n,u){Object.defineProperty(u,"__esModule",{value:!0}),u.abs=void 0;function g(m){return(typeof m=="number"||typeof m=="bigint")&&(m=m.toString()),m[0]=="-"?m.substring(1):m}u.abs=g},217:function(n,u){Object.defineProperty(u,"__esModule",{value:!0}),u.pad=u.trim=u.add=void 0;function g(f,A){var v;A===void 0&&(A="0");var _=0,w=-1;f[0]=="-"&&(f=f.substring(1),h(f)||(_++,w=1,f.length)),A[0]=="-"&&(A=A.substring(1),h(A)||(_++,w=2,A.length)),f=C(f),A=C(A),v=c(C(f),C(A)),f=v[0],A=v[1],_==1&&(w===1?f=m(f):w===2&&(A=m(A)));var d=a(f,A);return _?_==2?"-"+C(d):f.length<d.length?C(d.substring(1)):"-"+C(m(d)):C(d)}u.add=g;function m(f){if(h(f))return f;for(var A="",v=f.length,_=f.split(".")[1],w=_?_.length:0,d=0;d<v;d++)f[d]>="0"&&f[d]<="9"?A+=9-parseInt(f[d]):A+=f[d];var o=w>0?"0."+new Array(w).join("0")+"1":"1";return a(A,o)}function C(f){var A=f.split(".");for(A[0]||(A[0]="0");A[0][0]=="0"&&A[0].length>1;)A[0]=A[0].substring(1);return A[0]+(A[1]?"."+A[1]:"")}u.trim=C;function c(f,A){var v=f.split("."),_=A.split("."),w=v[0].length,d=_[0].length;return w>d?_[0]=new Array(Math.abs(w-d)+1).join("0")+(_[0]?_[0]:""):v[0]=new Array(Math.abs(w-d)+1).join("0")+(v[0]?v[0]:""),w=v[1]?v[1].length:0,d=_[1]?_[1].length:0,(w||d)&&(w>d?_[1]=(_[1]?_[1]:"")+new Array(Math.abs(w-d)+1).join("0"):v[1]=(v[1]?v[1]:"")+new Array(Math.abs(w-d)+1).join("0")),f=v[0]+(v[1]?"."+v[1]:""),A=_[0]+(_[1]?"."+_[1]:""),[f,A]}u.pad=c;function a(f,A){var v;v=c(f,A),f=v[0],A=v[1];for(var _="",w=0,d=f.length-1;d>=0;d--){if(f[d]==="."){_="."+_;continue}var o=parseInt(f[d])+parseInt(A[d])+w;_=o%10+_,w=Math.floor(o/10)}return w?w.toString()+_:_}function h(f){return/^0[0]*[.]{0,1}[0]*$/.test(f)}},423:function(n,u,g){var m=g(217),C=g(165),c=g(350),a=g(182),h=g(415),f=g(213),A=g(664),v=g(26),_=g(916),w=function(){function d(o){o===void 0&&(o="0"),this.value=d.validate(o)}return d.validate=function(o){if(o){if(o=o.toString(),isNaN(o))throw Error("Parameter is not a number: "+o);o[0]=="+"&&(o=o.substring(1))}else o="0";if(o.startsWith(".")?o="0"+o:o.startsWith("-.")&&(o="-0"+o.substr(1)),/e/i.test(o)){var p=o.split(/[eE]/),b=p[0],E=p[1];b=(0,m.trim)(b);var M="";b[0]=="-"&&(M="-",b=b.substring(1)),b.indexOf(".")>=0?(E=parseInt(E)+b.indexOf("."),b=b.replace(".","")):E=parseInt(E)+b.length,b.length<E?o=M+b+new Array(E-b.length+1).join("0"):b.length>=E&&E>0?o=M+(0,m.trim)(b.substring(0,E))+(b.length>E?"."+b.substring(E):""):o=M+"0."+new Array(-E+1).join("0")+b}return o},d.prototype.getValue=function(){return this.value},d.prototype.setValue=function(o){this.value=d.validate(o)},d.getPrettyValue=function(o,p,b){if(!(p||b))p=3,b=",";else if(!(p&&b))throw Error("Illegal Arguments. Should pass both digits and separator or pass none");o=d.validate(o);var E=o.charAt(0)=="-";E&&(o=o.substring(1));var M=o.indexOf(".");M=M>0?M:o.length;for(var N="",q=M;q>0;)q<p?(p=q,q=0):q-=p,N=o.substring(q,q+p)+(q<M-p&&q>=0?b:"")+N;return(E?"-":"")+N+o.substring(M)},d.prototype.getPrettyValue=function(o,p){return d.getPrettyValue(this.value,o,p)},d.round=function(o,p,b){if(p===void 0&&(p=0),b===void 0&&(b=_.RoundingModes.HALF_EVEN),o=d.validate(o),isNaN(p))throw Error("Precision is not a number: "+p);return(0,c.roundOff)(o,p,b)},d.prototype.round=function(o,p){if(o===void 0&&(o=0),p===void 0&&(p=_.RoundingModes.HALF_EVEN),isNaN(o))throw Error("Precision is not a number: "+o);return new d((0,c.roundOff)(this.value,o,p))},d.abs=function(o){return o=d.validate(o),(0,C.abs)(o)},d.prototype.abs=function(){return new d((0,C.abs)(this.value))},d.floor=function(o){return o=d.validate(o),o.indexOf(".")===-1?o:d.round(o,0,_.RoundingModes.FLOOR)},d.prototype.floor=function(){return this.value.indexOf(".")===-1?new d(this.value):new d(this.value).round(0,_.RoundingModes.FLOOR)},d.ceil=function(o){return o=d.validate(o),o.indexOf(".")===-1?o:d.round(o,0,_.RoundingModes.CEILING)},d.prototype.ceil=function(){return this.value.indexOf(".")===-1?new d(this.value):new d(this.value).round(0,_.RoundingModes.CEILING)},d.add=function(o,p){return o=d.validate(o),p=d.validate(p),(0,m.add)(o,p)},d.prototype.add=function(o){return new d((0,m.add)(this.value,o.getValue()))},d.subtract=function(o,p){return o=d.validate(o),p=d.validate(p),(0,v.subtract)(o,p)},d.prototype.subtract=function(o){return new d((0,v.subtract)(this.value,o.getValue()))},d.multiply=function(o,p){return o=d.validate(o),p=d.validate(p),(0,a.multiply)(o,p)},d.prototype.multiply=function(o){return new d((0,a.multiply)(this.value,o.getValue()))},d.divide=function(o,p,b){return o=d.validate(o),p=d.validate(p),(0,h.divide)(o,p,b)},d.prototype.divide=function(o,p){return new d((0,h.divide)(this.value,o.getValue(),p))},d.modulus=function(o,p){return o=d.validate(o),p=d.validate(p),(0,f.modulus)(o,p)},d.prototype.modulus=function(o){return new d((0,f.modulus)(this.value,o.getValue()))},d.compareTo=function(o,p){return o=d.validate(o),p=d.validate(p),(0,A.compareTo)(o,p)},d.prototype.compareTo=function(o){return(0,A.compareTo)(this.value,o.getValue())},d.negate=function(o){return o=d.validate(o),(0,v.negate)(o)},d.prototype.negate=function(){return new d((0,v.negate)(this.value))},d.RoundingModes=_.RoundingModes,d}();n.exports=w},664:function(n,u,g){Object.defineProperty(u,"__esModule",{value:!0}),u.compareTo=void 0;var m=g(217);function C(c,a){var h,f=!1;if(c[0]=="-"&&a[0]!="-")return-1;if(c[0]!="-"&&a[0]=="-")return 1;if(c[0]=="-"&&a[0]=="-"&&(c=c.substr(1),a=a.substr(1),f=!0),h=(0,m.pad)(c,a),c=h[0],a=h[1],c.localeCompare(a)==0)return 0;for(var A=0;A<c.length;A++)if(c[A]!=a[A])return c[A]>a[A]?f?-1:1:f?1:-1;return 0}u.compareTo=C},415:function(n,u,g){Object.defineProperty(u,"__esModule",{value:!0}),u.divide=void 0;var m=g(217),C=g(350);function c(a,h,f){if(f===void 0&&(f=8),h==0)throw new Error("Cannot divide by 0");if(a=a.toString(),h=h.toString(),a=a.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),h=h.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),a==0)return"0";var A=0;h[0]=="-"&&(h=h.substring(1),A++),a[0]=="-"&&(a=a.substring(1),A++);var v=h.indexOf(".")>0?h.length-h.indexOf(".")-1:-1;if(h=(0,m.trim)(h.replace(".","")),v>=0){var _=a.indexOf(".")>0?a.length-a.indexOf(".")-1:-1;if(_==-1)a=(0,m.trim)(a+new Array(v+1).join("0"));else if(v>_)a=a.replace(".",""),a=(0,m.trim)(a+new Array(v-_+1).join("0"));else if(v<_){a=a.replace(".","");var w=a.length-_+v;a=(0,m.trim)(a.substring(0,w)+"."+a.substring(w))}else v==_&&(a=(0,m.trim)(a.replace(".","")))}var d=0,o=h.length,p="",b=a.indexOf(".")>-1&&a.indexOf(".")<o?a.substring(0,o+1):a.substring(0,o);if(a=a.indexOf(".")>-1&&a.indexOf(".")<o?a.substring(o+1):a.substring(o),b.indexOf(".")>-1){var E=b.length-b.indexOf(".")-1;b=b.replace(".",""),o>b.length&&(E+=o-b.length,b=b+new Array(o-b.length+1).join("0")),d=E,p="0."+new Array(E).join("0")}for(f=f+2;d<=f;){for(var M=0;parseInt(b)>=parseInt(h);)b=(0,m.add)(b,"-"+h),M++;p+=M,a?(a[0]=="."&&(p+=".",d++,a=a.substring(1)),b=b+a.substring(0,1),a=a.substring(1)):(d||(p+="."),d++,b=b+"0")}return(A==1?"-":"")+(0,m.trim)((0,C.roundOff)(p,f-2))}u.divide=c},213:function(n,u,g){Object.defineProperty(u,"__esModule",{value:!0}),u.modulus=void 0;var m=g(415),C=g(350),c=g(182),a=g(26),h=g(916);function f(v,_){if(_==0)throw new Error("Cannot divide by 0");v=v.toString(),_=_.toString(),A(v),A(_);var w="";v[0]=="-"&&(w="-",v=v.substr(1)),_[0]=="-"&&(_=_.substr(1));var d=(0,a.subtract)(v,(0,c.multiply)(_,(0,C.roundOff)((0,m.divide)(v,_),0,h.RoundingModes.FLOOR)));return w+d}u.modulus=f;function A(v){if(v.indexOf(".")!=-1)throw new Error("Modulus of non-integers not supported")}},182:function(n,u){Object.defineProperty(u,"__esModule",{value:!0}),u.multiply=void 0;function g(c,a){c=c.toString(),a=a.toString();var h=0;c[0]=="-"&&(h++,c=c.substr(1)),a[0]=="-"&&(h++,a=a.substr(1)),c=C(c),a=C(a);var f=0,A=0;c.indexOf(".")!=-1&&(f=c.length-c.indexOf(".")-1),a.indexOf(".")!=-1&&(A=a.length-a.indexOf(".")-1);var v=f+A;if(c=C(c.replace(".","")),a=C(a.replace(".","")),c.length<a.length){var _=c;c=a,a=_}if(a=="0")return"0";for(var w=a.length,d=0,o=[],p=w-1,b="",E=0;E<w;E++)o[E]=c.length-1;for(var E=0;E<2*c.length;E++){for(var M=0,N=a.length-1;N>=p&&N>=0;N--)o[N]>-1&&o[N]<c.length&&(M+=parseInt(c[o[N]--])*parseInt(a[N]));M+=d,d=Math.floor(M/10),b=M%10+b,p--}return b=C(m(b,v)),h==1&&(b="-"+b),b}u.multiply=g;function m(c,a){return a==0?c:(c=a>=c.length?new Array(a-c.length+1).join("0")+c:c,c.substr(0,c.length-a)+"."+c.substr(c.length-a,a))}function C(c){for(;c[0]=="0";)c=c.substr(1);if(c.indexOf(".")!=-1)for(;c[c.length-1]=="0";)c=c.substr(0,c.length-1);return c==""||c=="."?c="0":c[c.length-1]=="."&&(c=c.substr(0,c.length-1)),c[0]=="."&&(c="0"+c),c}},350:function(n,u,g){Object.defineProperty(u,"__esModule",{value:!0}),u.roundOff=void 0;var m=g(916);function C(h,f,A){if(f===void 0&&(f=0),A===void 0&&(A=m.RoundingModes.HALF_EVEN),A===m.RoundingModes.UNNECESSARY)throw new Error("UNNECESSARY Rounding Mode has not yet been implemented");(typeof h=="number"||typeof h=="bigint")&&(h=h.toString());var v=!1;h[0]==="-"&&(v=!0,h=h.substring(1));var _=h.split("."),w=_[0],d=_[1];if(f<0){if(f=-f,w.length<=f)return"0";var o=w.substr(0,w.length-f);return h=o+"."+w.substr(w.length-f)+d,o=C(h,0,A),(v?"-":"")+o+new Array(f+1).join("0")}if(f==0)return w.length,c(_[1],w,v,A)&&(w=a(w)),(v&&parseInt(w)?"-":"")+w;if(_[1]){if(_[1].length<f)return(v?"-":"")+w+"."+_[1]+new Array(f-_[1].length+1).join("0")}else return(v?"-":"")+w+"."+new Array(f+1).join("0");d=_[1].substring(0,f);var p=_[1].substring(f);return p&&c(p,d,v,A)&&(d=a(d),d.length>f)?(v?"-":"")+a(w,parseInt(d[0]))+"."+d.substring(1):(v&&(parseInt(w)||parseInt(d))?"-":"")+w+"."+d}u.roundOff=C;function c(h,f,A,v){if(!h||h===new Array(h.length+1).join("0")||v===m.RoundingModes.DOWN||!A&&v===m.RoundingModes.FLOOR||A&&v===m.RoundingModes.CEILING)return!1;if(v===m.RoundingModes.UP||A&&v===m.RoundingModes.FLOOR||!A&&v===m.RoundingModes.CEILING)return!0;var _="5"+new Array(h.length).join("0");if(h>_)return!0;if(h<_)return!1;switch(v){case m.RoundingModes.HALF_DOWN:return!1;case m.RoundingModes.HALF_UP:return!0;case m.RoundingModes.HALF_EVEN:default:return parseInt(f[f.length-1])%2==1}}function a(h,f){f===void 0&&(f=0),f||(f=1),typeof h=="number"&&h.toString();for(var A=h.length-1,v="",_=A;_>=0;_--){var w=parseInt(h[_])+f;w==10?(f=1,w=0):f=0,v+=w}return f&&(v+=f),v.split("").reverse().join("")}},916:function(n,u){Object.defineProperty(u,"__esModule",{value:!0}),u.RoundingModes=void 0,function(g){g[g.CEILING=0]="CEILING",g[g.DOWN=1]="DOWN",g[g.FLOOR=2]="FLOOR",g[g.HALF_DOWN=3]="HALF_DOWN",g[g.HALF_EVEN=4]="HALF_EVEN",g[g.HALF_UP=5]="HALF_UP",g[g.UNNECESSARY=6]="UNNECESSARY",g[g.UP=7]="UP"}(u.RoundingModes||(u.RoundingModes={}))},26:function(n,u,g){Object.defineProperty(u,"__esModule",{value:!0}),u.negate=u.subtract=void 0;var m=g(217);function C(a,h){return a=a.toString(),h=h.toString(),h=c(h),(0,m.add)(a,h)}u.subtract=C;function c(a){return a[0]=="-"?a=a.substr(1):a="-"+a,a}u.negate=c}},l={};function s(n){var u=l[n];if(u!==void 0)return u.exports;var g=l[n]={exports:{}};return i[n](g,g.exports,s),g.exports}var r=s(423);return r}()})})(pt);var ai=pt.exports;const ke=Wt(ai);function qe(e,t,i){const l=e.slice();l[6]=t[i];const s=mt(l[6]);return l[7]=s,l}function Je(e){let t,i=he(e[0].effects),l=[];for(let s=0;s<i.length;s+=1)l[s]=Ye(qe(e,i,s));return{c(){t=R("ul");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){t=L(s,"UL",{class:!0});var r=O(t);for(let n=0;n<l.length;n+=1)l[n].l(r);r.forEach(y),this.h()},h(){S(t,"class","list svelte-1ut37ec")},m(s,r){V(s,t,r);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(t,null)},p(s,r){if(r&1){i=he(s[0].effects);let n;for(n=0;n<i.length;n+=1){const u=qe(s,i,n);l[n]?l[n].p(u,r):(l[n]=Ye(u),l[n].c(),l[n].m(t,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=i.length}},d(s){s&&y(t),Se(l,s)}}}function Ye(e){let t,i=e[7]+"",l;return{c(){t=R("li"),l=te(i),this.h()},l(s){t=L(s,"LI",{class:!0});var r=O(t);l=ie(r,i),r.forEach(y),this.h()},h(){S(t,"class","caption whitespace-pre-wrap text-sm")},m(s,r){V(s,t,r),I(t,l)},p(s,r){r&1&&i!==(i=s[7]+"")&&de(l,i)},d(s){s&&y(t)}}}function oi(e){let t,i,l,s=(e[0].text??"")+"",r,n,u,g,m,C,c,a,h=e[0].effects!==void 0&&Je(e);return{c(){t=R("div"),i=R("div"),l=R("div"),r=te(s),n=P(),h&&h.c(),g=P(),m=R("div"),C=R("div"),c=te(e[2]),a=te("%"),this.h()},l(f){t=L(f,"DIV",{class:!0});var A=O(t);i=L(A,"DIV",{class:!0,style:!0});var v=O(i);l=L(v,"DIV",{class:!0});var _=O(l);r=ie(_,s),_.forEach(y),n=F(v),h&&h.l(v),v.forEach(y),g=F(A),m=L(A,"DIV",{class:!0});var w=O(m);C=L(w,"DIV",{class:!0});var d=O(C);c=ie(d,e[2]),a=ie(d,"%"),d.forEach(y),w.forEach(y),A.forEach(y),this.h()},h(){S(l,"class","mb-[0.125em]"),S(i,"class","flex flex-col outcome-left pl-[0.75em] svelte-1ut37ec"),S(i,"style",u=`border-left: 8px solid ${e[1]}`),S(C,"class","caption"),S(m,"class","flex flex-col justify-center w-[5em] text-right"),S(t,"class","flex flex-row justify-between space-x-[1em]")},m(f,A){V(f,t,A),I(t,i),I(i,l),I(l,r),I(i,n),h&&h.m(i,null),I(t,g),I(t,m),I(m,C),I(C,c),I(C,a)},p(f,[A]){A&1&&s!==(s=(f[0].text??"")+"")&&de(r,s),f[0].effects!==void 0?h?h.p(f,A):(h=Je(f),h.c(),h.m(i,null)):h&&(h.d(1),h=null),A&2&&u!==(u=`border-left: 8px solid ${f[1]}`)&&S(i,"style",u)},i:oe,o:oe,d(f){f&&y(t),h&&h.d()}}}function hi(e,t,i){let{outcomeData:l}=t,{settings:s}=t,{userRole:r}=t,{totalPercentage:n}=t,{color:u}=t,g=s.hiddenPercentages&&r!=="keyholder"?"???":new ke(l.percentage).divide(new ke(n),8).multiply(new ke(100)).round(3).getValue().replace(/\.0+$|([^\.])0+$/,"$1");return e.$$set=m=>{"outcomeData"in m&&i(0,l=m.outcomeData),"settings"in m&&i(3,s=m.settings),"userRole"in m&&i(4,r=m.userRole),"totalPercentage"in m&&i(5,n=m.totalPercentage),"color"in m&&i(1,u=m.color)},[l,u,g,s,r,n]}class ui extends _t{constructor(t){super(),vt(this,t,hi,oi,ye,{outcomeData:0,settings:3,userRole:4,totalPercentage:5,color:1})}}const{window:Oe}=Pt;function Qe(e,t,i){const l=e.slice();l[42]=t[i],l[46]=i;const s=l[46]-Math.floor(l[46]/l[13].length)*l[13].length;l[43]=s;const r=l[13][l[43]];return l[44]=r,l}function Ge(e){const t=e.slice(),i=t[37].outcomes.reduce((s,r)=>s+=parseFloat(r.percentage),0);t[40]=i;const l=!t[3]&&t[2]==="keyholder";return t[41]=l,t}function Ke(e,t,i){const l=e.slice();return l[47]=t[i][0],l[37]=t[i][1],l}function Ze(e,t,i){const l=e.slice();l[50]=t[i];const s=mt(l[50]);return l[51]=s,l}function fi(e){const t=e.slice(),i=t[9].wheels[t[0]];t[37]=i;const l=t[4]||t[37].settings.disabled===!0;t[38]=l;const s=t[12]===""||t[2]==="keyholder";return t[39]=s,t}function ci(e){let t,i,l,s,r='<h4 class="mb-0">Extended Wheel of Fortune</h4> <span class="caption">Developer: @strawberria</span>',n,u,g=`Try your luck and spin the <b>extended</b> wheel of fortune! <br/>
                        Now supporting additional actions and multiple wheels with individual cooldowns!`,m,C=e[0],c,a,h,f,A="Select",v,_,w="Choose which wheel to spin with",d,o,p,b,E,M,N,q="Spin the wheel!",ue,ge,Ae,ne,fe,_e,ee=it(e),re=he(Object.entries(e[9].wheels)),z=[];for(let T=0;T<re.length;T+=1)z[T]=st(Ke(e,re,T));let G=gi(Ge(e));return{c(){t=R("div"),i=R("div"),l=R("div"),s=R("div"),s.innerHTML=r,n=P(),u=R("div"),u.innerHTML=g,m=P(),ee.c(),c=P(),a=R("div"),h=R("div"),f=R("div"),f.textContent=A,v=P(),_=R("div"),_.textContent=w,d=P(),o=R("div"),p=R("select");for(let T=0;T<z.length;T+=1)z[T].c();b=P(),E=R("div"),M=R("button"),N=R("span"),N.textContent=q,ge=P(),Ae=P(),G&&G.c(),this.h()},l(T){t=L(T,"DIV",{class:!0});var J=O(t);i=L(J,"DIV",{class:!0});var W=O(i);l=L(W,"DIV",{class:!0});var x=O(l);s=L(x,"DIV",{class:!0,"data-svelte-h":!0}),H(s)!=="svelte-1podld8"&&(s.innerHTML=r),n=F(x),u=L(x,"DIV",{class:!0,"data-svelte-h":!0}),H(u)!=="svelte-1b8f23k"&&(u.innerHTML=g),m=F(x),ee.l(x),c=F(x),a=L(x,"DIV",{class:!0});var B=O(a);h=L(B,"DIV",{class:!0});var j=O(h);f=L(j,"DIV",{"data-svelte-h":!0}),H(f)!=="svelte-80uym4"&&(f.textContent=A),v=F(j),_=L(j,"DIV",{class:!0,"data-svelte-h":!0}),H(_)!=="svelte-nnb33a"&&(_.textContent=w),d=F(j),o=L(j,"DIV",{class:!0});var K=O(o);p=L(K,"SELECT",{class:!0});var le=O(p);for(let ce=0;ce<z.length;ce+=1)z[ce].l(le);le.forEach(y),K.forEach(y),j.forEach(y),b=F(B),E=L(B,"DIV",{class:!0});var U=O(E);M=L(U,"BUTTON",{type:!0,class:!0});var ae=O(M);N=L(ae,"SPAN",{"data-svelte-h":!0}),H(N)!=="svelte-lbtpzf"&&(N.textContent=q),ae.forEach(y),U.forEach(y),B.forEach(y),ge=F(x),x.forEach(y),Ae=F(W),G&&G.l(W),W.forEach(y),J.forEach(y),this.h()},h(){S(s,"class","flex flex-row items-end justify-between space-x-1 mb-2"),S(u,"class","caption mb-2"),S(_,"class","caption mb-[0.5em]"),S(p,"class","form-control"),e[0]===void 0&&Te(()=>e[25].call(p)),S(o,"class","w-full"),S(h,"class","grow"),S(M,"type","button"),S(M,"class","btn btn-primary btn-lg"),M.disabled=ue=e[38]||!e[39],S(E,"class","flex flex-col justify-center ml-4 mr-4 space-y-[0.5em] max-w-[12em]"),S(a,"class","w-full flex flex-row items-stretch space-x-4"),S(l,"class","h-full flex flex-col svelte-nhh4rm"),Pe(l,"card-horizontal",gt),S(i,"class","w-full h-full flex flex-row"),S(t,"class","card-content grow svelte-nhh4rm"),Pe(t,"card-wrapper-desktop",gt)},m(T,J){V(T,t,J),I(t,i),I(i,l),I(l,s),I(l,n),I(l,u),I(l,m),ee.m(l,null),I(l,c),I(l,a),I(a,h),I(h,f),I(h,v),I(h,_),I(h,d),I(h,o),I(o,p);for(let W=0;W<z.length;W+=1)z[W]&&z[W].m(p,null);Fe(p,e[0],!0),I(a,b),I(a,E),I(E,M),I(M,N),I(l,ge),I(i,Ae),G&&G.m(i,null),ne=!0,fe||(_e=[be(p,"change",e[25]),be(M,"click",e[19])],fe=!0)},p(T,J){if(J[0]&1&&ye(C,C=T[0])?(ee.d(1),ee=it(T),ee.c(),ee.m(l,c)):ee.p(T,J),J[0]&512){re=he(Object.entries(T[9].wheels));let W;for(W=0;W<re.length;W+=1){const x=Ke(T,re,W);z[W]?z[W].p(x,J):(z[W]=st(x),z[W].c(),z[W].m(p,null))}for(;W<z.length;W+=1)z[W].d(1);z.length=re.length}J[0]&513&&Fe(p,T[0]),(!ne||J[0]&4629&&ue!==(ue=T[38]||!T[39]))&&(M.disabled=ue),G.p(Ge(T),J)},i(T){ne||(Q(G),ne=!0)},o(T){X(G),ne=!1},d(T){T&&y(t),ee.d(T),Se(z,T),G&&G.d(),fe=!1,Ct(_e)}}}function di(e){let t,i,l,s,r,n;return{c(){t=R("div"),i=R("img"),s=P(),r=R("div"),n=te(e[1]),this.h()},l(u){t=L(u,"DIV",{class:!0});var g=O(t);i=L(g,"IMG",{src:!0,alt:!0}),s=F(g),r=L(g,"DIV",{class:!0});var m=O(r);n=ie(m,e[1]),m.forEach(y),g.forEach(y),this.h()},h(){It(i.src,l=kt)||S(i,"src",l),S(i,"alt","Chaster logo"),S(r,"class","mt-4 caption text-lg"),S(t,"class","w-full h-screen flex flex-col items-center justify-center")},m(u,g){V(u,t,g),I(t,i),I(t,s),I(t,r),I(r,n)},p(u,g){g[0]&2&&de(n,u[1])},i:oe,o:oe,d(u){u&&y(t)}}}function Xe(e){let t,i,l,s=(e[11].text??"")+"",r,n,u,g,m="[ Click anywhere to close ]",C,c,a=e[11].effects!==void 0&&$e(e);return{c(){t=R("div"),i=R("div"),l=R("div"),r=te(s),n=P(),a&&a.c(),u=P(),g=R("div"),g.textContent=m,this.h()},l(h){t=L(h,"DIV",{class:!0});var f=O(t);i=L(f,"DIV",{class:!0});var A=O(i);l=L(A,"DIV",{});var v=O(l);r=ie(v,s),v.forEach(y),n=F(A),a&&a.l(A),A.forEach(y),u=F(f),g=L(f,"DIV",{class:!0,"data-svelte-h":!0}),H(g)!=="svelte-ecicjm"&&(g.textContent=m),f.forEach(y),this.h()},h(){S(i,"class","flex flex-col"),S(g,"class","text-sm mt-[1em] w-full text-center cursor-default"),S(t,"class","result svelte-nhh4rm")},m(h,f){V(h,t,f),I(t,i),I(i,l),I(l,r),I(i,n),a&&a.m(i,null),I(t,u),I(t,g),C||(c=be(t,"click",e[24]),C=!0)},p(h,f){f[0]&2048&&s!==(s=(h[11].text??"")+"")&&de(r,s),h[11].effects!==void 0?a?a.p(h,f):(a=$e(h),a.c(),a.m(i,null)):a&&(a.d(1),a=null)},d(h){h&&y(t),a&&a.d(),C=!1,c()}}}function $e(e){let t,i=he(e[11].effects),l=[];for(let s=0;s<i.length;s+=1)l[s]=et(Ze(e,i,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();t=$()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);t=$()},m(s,r){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,r);V(s,t,r)},p(s,r){if(r[0]&2048){i=he(s[11].effects);let n;for(n=0;n<i.length;n+=1){const u=Ze(s,i,n);l[n]?l[n].p(u,r):(l[n]=et(u),l[n].c(),l[n].m(t.parentNode,t))}for(;n<l.length;n+=1)l[n].d(1);l.length=i.length}},d(s){s&&y(t),Se(l,s)}}}function et(e){let t,i,l=e[51]+"",s;return{c(){t=R("div"),i=te("• "),s=te(l),this.h()},l(r){t=L(r,"DIV",{class:!0});var n=O(t);i=ie(n,"• "),s=ie(n,l),n.forEach(y),this.h()},h(){S(t,"class","caption whitespace-pre-wrap text-sm")},m(r,n){V(r,t,n),I(t,i),I(t,s)},p(r,n){n[0]&2048&&l!==(l=r[51]+"")&&de(s,l)},d(r){r&&y(t)}}}function tt(e){let t,i;return{c(){t=te("Next spin available in "),i=te(e[12])},l(l){t=ie(l,"Next spin available in "),i=ie(l,e[12])},m(l,s){V(l,t,s),V(l,i,s)},p(l,s){s[0]&4096&&de(i,l[12])},d(l){l&&(y(t),y(i))}}}function it(e){let t,i,l="",s,r,n,u,g,m,C,c=e[11]!==void 0&&Xe(e),a=!e[39]&&tt(e);return{c(){t=R("div"),i=R("div"),i.innerHTML=l,r=P(),n=R("div"),c&&c.c(),u=P(),g=R("div"),a&&a.c(),m=P(),C=R("hr"),this.h()},l(h){t=L(h,"DIV",{class:!0});var f=O(t);i=L(f,"DIV",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-1lz9xyk"&&(i.innerHTML=l),r=F(f),n=L(f,"DIV",{class:!0});var A=O(n);c&&c.l(A),A.forEach(y),f.forEach(y),u=F(h),g=L(h,"DIV",{class:!0});var v=O(g);a&&a.l(v),v.forEach(y),m=F(h),C=L(h,"HR",{}),this.h()},h(){S(i,"class","grow wheel-container h-full svelte-nhh4rm"),Te(()=>e[23].call(i)),S(n,"class","absolute top-0 right-0 h-full w-full z-10 flex align-center justify-center items-center"),S(t,"class","grow mt-1 wheel-container relative svelte-nhh4rm"),S(g,"class","min-h-[1em] text-center")},m(h,f){V(h,t,f),I(t,i),e[22](i),s=Lt(i,e[23].bind(i)),I(t,r),I(t,n),c&&c.m(n,null),V(h,u,f),V(h,g,f),a&&a.m(g,null),V(h,m,f),V(h,C,f)},p(h,f){h[11]!==void 0?c?c.p(h,f):(c=Xe(h),c.c(),c.m(n,null)):c&&(c.d(1),c=null),h[39]?a&&(a.d(1),a=null):a?a.p(h,f):(a=tt(h),a.c(),a.m(g,null))},d(h){h&&(y(t),y(u),y(g),y(m),y(C)),e[22](null),s(),c&&c.d(),a&&a.d()}}}function lt(e){let t,i=e[37].display+"",l,s;return{c(){t=R("option"),l=te(i),this.h()},l(r){t=L(r,"OPTION",{});var n=O(t);l=ie(n,i),n.forEach(y),this.h()},h(){t.__value=s=e[47],Ne(t,t.__value)},m(r,n){V(r,t,n),I(t,l)},p(r,n){n[0]&512&&i!==(i=r[37].display+"")&&de(l,i),n[0]&512&&s!==(s=r[47])&&(t.__value=s,Ne(t,t.__value))},d(r){r&&y(t)}}}function st(e){let t,i=e[37].settings.disabled===!1&&lt(e);return{c(){i&&i.c(),t=$()},l(l){i&&i.l(l),t=$()},m(l,s){i&&i.m(l,s),V(l,t,s)},p(l,s){l[37].settings.disabled===!1?i?i.p(l,s):(i=lt(l),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(l){l&&y(t),i&&i.d(l)}}}function gi(e){let t,i,l,s,r="Keyholder OAuth Status:",n,u,g,m,C,c,a=e[0],h,f;function A(o,p){return o[3]===!0?_i:Ai}let v=A(e),_=v(e),w=e[41]&&nt(e),d=ct(e);return{c(){t=R("div"),i=R("div"),l=R("div"),s=R("div"),s.textContent=r,n=P(),_.c(),u=P(),w&&w.c(),m=P(),C=R("hr"),c=P(),d.c(),this.h()},l(o){t=L(o,"DIV",{class:!0,style:!0});var p=O(t);i=L(p,"DIV",{class:!0});var b=O(i);l=L(b,"DIV",{});var E=O(l);s=L(E,"DIV",{"data-svelte-h":!0}),H(s)!=="svelte-kk5wwk"&&(s.textContent=r),n=F(E),_.l(E),E.forEach(y),u=F(b),w&&w.l(b),b.forEach(y),m=F(p),C=L(p,"HR",{}),c=F(p),d.l(p),p.forEach(y),this.h()},h(){S(i,"class",g=We(`flex flex-row flex-start items-center ${e[41]?"justify-between":"justify-start"}`)+" svelte-nhh4rm"),S(t,"class","h-full flex flex-col ml-4 something"),S(t,"style",h=`width: calc(${e[7]}px * 1.0)`)},m(o,p){V(o,t,p),I(t,i),I(i,l),I(l,s),I(l,n),_.m(l,null),I(i,u),w&&w.m(i,null),I(t,m),I(t,C),I(t,c),d.m(t,null),f=!0},p(o,p){v!==(v=A(o))&&(_.d(1),_=v(o),_&&(_.c(),_.m(l,null))),o[41]?w?w.p(o,p):(w=nt(o),w.c(),w.m(i,null)):w&&(w.d(1),w=null),(!f||p[0]&12&&g!==(g=We(`flex flex-row flex-start items-center ${o[41]?"justify-between":"justify-start"}`)+" svelte-nhh4rm"))&&S(i,"class",g),p[0]&1&&ye(a,a=o[0])?(Ie(),X(d,1,1,oe),Ce(),d=ct(o),d.c(),Q(d,1),d.m(t,null)):d.p(o,p),(!f||p[0]&128&&h!==(h=`width: calc(${o[7]}px * 1.0)`))&&S(t,"style",h)},i(o){f||(Q(d),f=!0)},o(o){X(d),f=!1},d(o){o&&y(t),_.d(),w&&w.d(),d.d(o)}}}function Ai(e){let t,i="❌ Missing OAuth permissions!";return{c(){t=R("div"),t.textContent=i,this.h()},l(l){t=L(l,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1x4anp2"&&(t.textContent=i),this.h()},h(){S(t,"class","text-red-500")},m(l,s){V(l,t,s)},d(l){l&&y(t)}}}function _i(e){let t,i="✔️ OAuth scopes granted!";return{c(){t=R("div"),t.textContent=i,this.h()},l(l){t=L(l,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1y61f57"&&(t.textContent=i),this.h()},h(){S(t,"class","text-green-500")},m(l,s){V(l,t,s)},d(l){l&&y(t)}}}function nt(e){let t,i="Authorize Permissions",l,s;return{c(){t=R("button"),t.textContent=i,this.h()},l(r){t=L(r,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(t)!=="svelte-196gb9f"&&(t.textContent=i),this.h()},h(){S(t,"type","button"),S(t,"class","btn btn-primary btn-md")},m(r,n){V(r,t,n),l||(s=be(t,"click",e[20]),l=!0)},p:oe,d(r){r&&y(t),l=!1,s()}}}function vi(e){let t,i,l=e[37].settings.hiddenEffects===!0&&rt(),s=e[37].settings.hiddenPercentages===!0&&at();return{c(){l&&l.c(),t=P(),s&&s.c(),i=$()},l(r){l&&l.l(r),t=F(r),s&&s.l(r),i=$()},m(r,n){l&&l.m(r,n),V(r,t,n),s&&s.m(r,n),V(r,i,n)},p(r,n){r[37].settings.hiddenEffects===!0?l||(l=rt(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),r[37].settings.hiddenPercentages===!0?s||(s=at(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&(y(t),y(i)),l&&l.d(r),s&&s.d(r)}}}function mi(e){let t,i="❗ Outcomes Hidden ❗";return{c(){t=R("div"),t.textContent=i,this.h()},l(l){t=L(l,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-fmdfs4"&&(t.textContent=i),this.h()},h(){S(t,"class","w-[14em] min-h-[1em]")},m(l,s){V(l,t,s)},p:oe,d(l){l&&y(t)}}}function rt(e){let t,i="❗ Effects Hidden ❗";return{c(){t=R("div"),t.textContent=i,this.h()},l(l){t=L(l,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-136ba5r"&&(t.textContent=i),this.h()},h(){S(t,"class","w-[14em] min-h-[1em]")},m(l,s){V(l,t,s)},d(l){l&&y(t)}}}function at(e){let t,i="❗ Percentages Hidden ❗";return{c(){t=R("div"),t.textContent=i,this.h()},l(l){t=L(l,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1k907vu"&&(t.textContent=i),this.h()},h(){S(t,"class","w-[14em] min-h-[1em]")},m(l,s){V(l,t,s)},d(l){l&&y(t)}}}function ot(e){let t,i,l=e[9],s,r=ft(e);return{c(){t=R("div"),i=R("div"),r.c(),this.h()},l(n){t=L(n,"DIV",{class:!0});var u=O(t);i=L(u,"DIV",{class:!0});var g=O(i);r.l(g),g.forEach(y),u.forEach(y),this.h()},h(){S(i,"class","flex flex-col space-y-1 items-stretch"),S(t,"class","card-content outcomes-list svelte-nhh4rm")},m(n,u){V(n,t,u),I(t,i),r.m(i,null),s=!0},p(n,u){u[0]&512&&ye(l,l=n[9])?(Ie(),X(r,1,1,oe),Ce(),r=ft(n),r.c(),Q(r,1),r.m(i,null)):r.p(n,u)},i(n){s||(Q(r),s=!0)},o(n){X(r),s=!1},d(n){n&&y(t),r.d(n)}}}function ht(e){let t;return{c(){t=R("hr"),this.h()},l(i){t=L(i,"HR",{class:!0}),this.h()},h(){S(t,"class","mt-0.5 mb-0.5")},m(i,l){V(i,t,l)},d(i){i&&y(t)}}}function ut(e){let t,i,l,s;t=new ui({props:{outcomeData:e[42],settings:e[37].settings,userRole:e[2],totalPercentage:e[40],color:e[44]}});let r=e[46]!==e[37].outcomes.length-1&&ht();return{c(){St(t.$$.fragment),i=P(),r&&r.c(),l=$()},l(n){xt(t.$$.fragment,n),i=F(n),r&&r.l(n),l=$()},m(n,u){Et(t,n,u),V(n,i,u),r&&r.m(n,u),V(n,l,u),s=!0},p(n,u){const g={};u[0]&513&&(g.outcomeData=n[42]),u[0]&513&&(g.settings=n[37].settings),u[0]&4&&(g.userRole=n[2]),u[0]&513&&(g.totalPercentage=n[40]),t.$set(g),n[46]!==n[37].outcomes.length-1?r||(r=ht(),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},i(n){s||(Q(t.$$.fragment,n),s=!0)},o(n){X(t.$$.fragment,n),s=!1},d(n){n&&(y(i),y(l)),Mt(t,n),r&&r.d(n)}}}function ft(e){let t,i,l=he(e[37].outcomes),s=[];for(let n=0;n<l.length;n+=1)s[n]=ut(Qe(e,l,n));const r=n=>X(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();t=$()},l(n){for(let u=0;u<s.length;u+=1)s[u].l(n);t=$()},m(n,u){for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(n,u);V(n,t,u),i=!0},p(n,u){if(u[0]&8709){l=he(n[37].outcomes);let g;for(g=0;g<l.length;g+=1){const m=Qe(n,l,g);s[g]?(s[g].p(m,u),Q(s[g],1)):(s[g]=ut(m),s[g].c(),Q(s[g],1),s[g].m(t.parentNode,t))}for(Ie(),g=l.length;g<s.length;g+=1)r(g);Ce()}},i(n){if(!i){for(let u=0;u<l.length;u+=1)Q(s[u]);i=!0}},o(n){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)X(s[u]);i=!1},d(n){n&&y(t),Se(s,n)}}}function ct(e){let t,i,l='<div>Outcomes</div> <div class="caption mb-2">View possible outcomes for the wheel</div>',s,r,n,u,g;function m(h,f){return h[37].settings.hiddenOutcomes===!0?mi:vi}let C=m(e),c=C(e),a=e[37].outcomes.length>0&&ot(e);return{c(){t=R("div"),i=R("div"),i.innerHTML=l,s=P(),r=R("div"),c.c(),n=P(),a&&a.c(),u=$(),this.h()},l(h){t=L(h,"DIV",{class:!0});var f=O(t);i=L(f,"DIV",{"data-svelte-h":!0}),H(i)!=="svelte-1jjgdd0"&&(i.innerHTML=l),s=F(f),r=L(f,"DIV",{class:!0});var A=O(r);c.l(A),A.forEach(y),f.forEach(y),n=F(h),a&&a.l(h),u=$(),this.h()},h(){S(r,"class","text-right"),S(t,"class","flex flex-row justify-between")},m(h,f){V(h,t,f),I(t,i),I(t,s),I(t,r),c.m(r,null),V(h,n,f),a&&a.m(h,f),V(h,u,f),g=!0},p(h,f){C===(C=m(h))&&c?c.p(h,f):(c.d(1),c=C(h),c&&(c.c(),c.m(r,null))),h[37].outcomes.length>0?a?(a.p(h,f),f[0]&513&&Q(a,1)):(a=ot(h),a.c(),Q(a,1),a.m(u.parentNode,u)):a&&(Ie(),X(a,1,1,()=>{a=null}),Ce())},i(h){g||(Q(a),g=!0)},o(h){X(a),g=!1},d(h){h&&(y(t),y(n),y(u)),c.d(),a&&a.d(h)}}}function pi(e){let t,i,l,s,r,n;Te(e[21]);const u=[di,ci],g=[];function m(c,a){return c[1]!==""?0:c[0]!==void 0?1:-1}function C(c,a){return a===1?fi(c):c}return~(i=m(e))&&(l=g[i]=u[i](C(e,i))),{c(){t=R("div"),l&&l.c(),this.h()},l(c){t=L(c,"DIV",{class:!0});var a=O(t);l&&l.l(a),a.forEach(y),this.h()},h(){S(t,"class","container-bg min-w-0 min-h-0 p-4 space-y-2 grow svelte-nhh4rm")},m(c,a){V(c,t,a),~i&&g[i].m(t,null),e[26](t),s=!0,r||(n=be(Oe,"resize",e[21]),r=!0)},p(c,a){let h=i;i=m(c),i===h?~i&&g[i].p(C(c,i),a):(l&&(Ie(),X(g[h],1,1,()=>{g[h]=null}),Ce()),~i?(l=g[i],l?l.p(C(c,i),a):(l=g[i]=u[i](C(c,i)),l.c()),Q(l,1),l.m(t,null)):l=null)},i(c){s||(Q(l),s=!0)},o(c){X(l),s=!1},d(c){c&&y(t),~i&&g[i].d(),e[26](null),r=!1,n()}}}const Ve="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJwbmpsYmpwY2ZlYnFwYXFrcGh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODg1NDM0NTgsImV4cCI6MjAwNDExOTQ1OH0.CsGySz2c8bIWphE6--T51CsmSeBQajfwvBYfTkjviM4",dt="https://bpnjlbjpcfebqpaqkphy.supabase.co/functions/v1/chaster_utilities",wi="https://bpnjlbjpcfebqpaqkphy.supabase.co/functions/v1/database_utilities";let gt=!0;const bi="extensions-318826",At="profile locks shared_locks keyholder";function yi(e,t,i){let l,s,r,n,u;const g=["#fecaca","#fed7aa","#fde68a","#d9f99d","#bbf7d0","#a7f3d0","#99f6e4","#a5f3fc","#bae6fd","#bfdbfe","#c7d2fe","#ddd6fe","#e9d5ff","#f5d0fe","#fbcfe8","#fecdd3"],m=[{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1},{label:"???        ",weight:1}],C=Array(32).fill(0).map(x=>{const B=new Audio(Bt);return B.volume=.3,B});let c="Loading extension data...",a,h="",f="keyholder",A=!1,v=pe({wheels:{}});me(e,v,x=>i(9,l=x));let _=pe({wheels:{}});me(e,_,x=>i(31,r=x));let w="";yt(async()=>{w=window.location.hash.substring(1).split("?")[0];const x=window.location.search,B=new URLSearchParams(x);if(w!=="")h=JSON.parse(decodeURIComponent(w)).mainToken;else{const le=B.get("state");le!==null&&(h=JSON.parse(decodeURIComponent(le)).mainToken)}const j=B.get("code");if(j!==null){const le=window.location.href.split("?")[0];await fetch(wi,{method:"POST",headers:{Authorization:`Bearer ${Ve}`},body:JSON.stringify({action:"chaster_access-set",authorizationCode:j,redirectURI:le,scopes:At})});const U=new URL(window.location.href),ae=U.searchParams.get("state");U.searchParams.delete("state"),U.searchParams.delete("session_state"),U.searchParams.delete("code"),U.hash=encodeURIComponent(ae),history.pushState(null,"",U.toString())}i(1,c="Retrieving extended wheel data...");const K=await ue();i(3,A=K.hasKeyholder),i(2,f=K.userRole),se(v,l=K.config,l),se(_,r=K.customData,r),i(0,a=Object.keys(l.wheels)[0]??void 0),i(1,c="")});let d=pe("");me(e,d,x=>i(12,u=x));function o(){if(a===void 0)return;const x=r.wheels[a];if(x===void 0)se(d,u="",u);else{const B=l.wheels[a];if(B.regularity.mode==="unlimited")se(d,u="",u);else{const j=new Date().getTime(),K=x.lastActionTimeMS+B.regularity.interval*1e3;se(d,u=j>K?"":Vt(Math.floor((K-j)/1e3)),u)}}}setInterval(o,200),v.subscribe(()=>{o()}),_.subscribe(()=>{o()});let p=pe(void 0);me(e,p,x=>i(10,s=x));let b=pe(void 0);me(e,b,x=>i(11,n=x));let E=!1,M,N=["",0];async function q(){i(4,E=!0),se(b,n=void 0,n);const B=await(await fetch(dt,{method:"POST",headers:{Authorization:`Bearer ${Ve}`},body:JSON.stringify({action:"extended_wheel-spin",mainToken:h,wheelID:a})})).json();B.index===void 0&&(B.index=Ot(0,16)),M.spinToItem(B.index,5e3,!1,5,1,je),setTimeout(()=>{se(b,n=B.result,n),i(4,E=!1),N=[a,M.rotation]},5100);const j=await ue();for(;E;)await Be(100);JSON.stringify(l)!==JSON.stringify(j.config)&&se(v,l=j.config,l),se(_,r=j.customData,r)}p.subscribe(ge),v.subscribe(ge);async function ue(){const x=await fetch(dt,{method:"POST",headers:{Authorization:`Bearer ${Ve}`},body:JSON.stringify({action:"extended_wheel-page",mainToken:h})});if(x.status!==200)throw console.error(`Error retrieving session data: ${await x.text()}`),new Error("error retrieving session data");return await x.json()}async function ge(){if(a===void 0)return;const x=s;if(x===void 0)return;await Be(10);const B=l.wheels[a];let j=JSON.parse(JSON.stringify(B.outcomes.map(ve=>{const Re=ve.text??"",wt=[Tt(Re,24),Re.length>=32?"...":""].join(""),bt=parseFloat(ve.percentage);return{label:wt,weight:bt}})));B.settings.hiddenOutcomes&&(j=m);let K=0;N[0]==a?K=N[1]:N=["",0];const le={items:j,pointerAngle:270,isInteractive:!1,itemBackgroundColors:g,itemLabelRadiusMax:.3,itemLabelRadius:.825,itemLabelAlign:"left",itemLabelRotation:180,borderWidth:2,overlayImage:jt,rotation:K};x&&(x.innerHTML=""),M=new ri(x,le),window.wheel=M,window.ease=je;let U=0,ae=!1,ce;M.onSpin=()=>{let ve=0,Re=30;clearInterval(ce),ce=setInterval(()=>{if(ae===!0){clearInterval(ce),ae=!1;return}M._rotation>=ve+Re&&(ve=M._rotation,U=U+1<C.length?U+1:0,C[U].play())},10)},M.onRest=()=>{ae=!0,M._rotation=M._rotation-360*Math.floor(M._rotation/360)}}let Ae,ne,fe,_e;function ee(){let x=encodeURIComponent(window.location.href.split("#")[0]);const j=["https://sso.chaster.app/auth/realms/app/protocol/openid-connect/auth?",`client_id=${bi}&`,`redirect_uri=${x}&`,`response_type=code&scope=${At}&state=${w}`].join("");window.location.href=j}function re(){i(5,Ae=Oe.innerWidth),i(6,ne=Oe.innerHeight)}function z(x){De[x?"unshift":"push"](()=>{s=x,p.set(s)})}function G(){fe=this.clientWidth,i(7,fe)}const T=()=>{se(b,n=void 0,n)};function J(){a=Rt(this),i(0,a)}function W(x){De[x?"unshift":"push"](()=>{_e=x,i(8,_e)})}return e.$$.update=()=>{e.$$.dirty[0]&1&&o()},[a,c,f,A,E,Ae,ne,fe,_e,l,s,n,u,g,v,_,d,p,b,q,ee,re,z,G,T,J,W]}class ki extends _t{constructor(t){super(),vt(this,t,yi,pi,ye,{},null,[-1,-1])}}export{ki as component,Mi as universal};
